function t(tc){Object.defineProperty(tc,"__esModule",{value:!0,configurable:!0})}function e(tc,tp,tf,td){Object.defineProperty(tc,tp,{get:tf,set:td,enumerable:!0,configurable:!0})}function n(tc){return tc&&tc.__esModule?tc.default:tc}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},a=i.parcelRequiredab0;null==a&&((a=function(tc){if(tc in r)return r[tc].exports;if(tc in o){var tp=o[tc];delete o[tc];var tf={id:tc,exports:{}};return r[tc]=tf,tp.call(tf.exports,tf,tf.exports),tf.exports}var td=Error("Cannot find module '"+tc+"'");throw td.code="MODULE_NOT_FOUND",td}).register=function(tc,tp){o[tc]=tp},i.parcelRequiredab0=a),a.register("2FcER",function(tc,tp){t(tc.exports),e(tc.exports,"unByKey",()=>tm,tc=>tm=tc),e(tc.exports,"default",()=>t$,tc=>t$=tc);var tf,td=a("KD0eF"),tg=a("3xzSb"),t8=a("ilM9F"),ty=(tf=function(tc,tp){return(tf=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tc,tp)},function(tc,tp){if("function"!=typeof tp&&null!==tp)throw TypeError("Class extends value "+String(tp)+" is not a constructor or null");function td(){this.constructor=tc}tf(tc,tp),tc.prototype=null===tp?Object.create(tp):(td.prototype=tp.prototype,new td)}),tv=function(tc){function tp(){var tp=tc.call(this)||this;return tp.on=tp.onInternal,tp.once=tp.onceInternal,tp.un=tp.unInternal,tp.revision_=0,tp}return ty(tp,tc),tp.prototype.changed=function(){++this.revision_,this.dispatchEvent(tg.default.CHANGE)},tp.prototype.getRevision=function(){return this.revision_},tp.prototype.onInternal=function(tc,tp){if(Array.isArray(tc)){for(var tf=tc.length,td=Array(tf),tg=0;tg<tf;++tg)td[tg]=t8.listen(this,tc[tg],tp);return td}return t8.listen(this,tc,tp)},tp.prototype.onceInternal=function(tc,tp){var tf;if(Array.isArray(tc)){var td=tc.length;tf=Array(td);for(var tg=0;tg<td;++tg)tf[tg]=t8.listenOnce(this,tc[tg],tp)}else tf=t8.listenOnce(this,tc,tp);return tp.ol_key=tf,tf},tp.prototype.unInternal=function(tc,tp){var tf=tp.ol_key;if(tf)tm(tf);else if(Array.isArray(tc))for(var td=0,tg=tc.length;td<tg;++td)this.removeEventListener(tc[td],tp);else this.removeEventListener(tc,tp)},tp}(td.default);function tm(tc){if(Array.isArray(tc))for(var tp=0,tf=tc.length;tp<tf;++tp)t8.unlistenByKey(tc[tp]);else t8.unlistenByKey(tc)}tv.prototype.on,tv.prototype.once,tv.prototype.un;var t$=tv}),a.register("KD0eF",function(tc,tp){e(tc.exports,"default",()=>tm,tc=>tm=tc);var tf,td=a("4kyFN"),tg=a("f18Q2"),t8=a("6wUzV"),ty=a("gn0g3"),tv=(tf=function(tc,tp){return(tf=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tc,tp)},function(tc,tp){if("function"!=typeof tp&&null!==tp)throw TypeError("Class extends value "+String(tp)+" is not a constructor or null");function td(){this.constructor=tc}tf(tc,tp),tc.prototype=null===tp?Object.create(tp):(td.prototype=tp.prototype,new td)}),tm=function(tc){function tp(tp){var tf=tc.call(this)||this;return tf.eventTarget_=tp,tf.pendingRemovals_=null,tf.dispatching_=null,tf.listeners_=null,tf}return tv(tp,tc),tp.prototype.addEventListener=function(tc,tp){if(tc&&tp){var tf=this.listeners_||(this.listeners_={}),td=tf[tc]||(tf[tc]=[]);-1===td.indexOf(tp)&&td.push(tp)}},tp.prototype.dispatchEvent=function(tc){var tp="string"==typeof tc,tf=tp?tc:tc.type,td=this.listeners_&&this.listeners_[tf];if(td){var ty=tp?new tg.default(tc):tc;ty.target||(ty.target=this.eventTarget_||this);var tv,tm=this.dispatching_||(this.dispatching_={}),t$=this.pendingRemovals_||(this.pendingRemovals_={});tf in tm||(tm[tf]=0,t$[tf]=0),++tm[tf];for(var tx=0,tC=td.length;tx<tC;++tx)if(!1===(tv="handleEvent"in td[tx]?td[tx].handleEvent(ty):td[tx].call(this,ty))||ty.propagationStopped){tv=!1;break}if(0==--tm[tf]){var tE=t$[tf];for(delete t$[tf];tE--;)this.removeEventListener(tf,t8.VOID);delete tm[tf]}return tv}},tp.prototype.disposeInternal=function(){this.listeners_&&ty.clear(this.listeners_)},tp.prototype.getListeners=function(tc){return this.listeners_&&this.listeners_[tc]||void 0},tp.prototype.hasListener=function(tc){return!!this.listeners_&&(tc?tc in this.listeners_:Object.keys(this.listeners_).length>0)},tp.prototype.removeEventListener=function(tc,tp){var tf=this.listeners_&&this.listeners_[tc];if(tf){var td=tf.indexOf(tp);-1!==td&&(this.pendingRemovals_&&tc in this.pendingRemovals_?(tf[td]=t8.VOID,++this.pendingRemovals_[tc]):(tf.splice(td,1),0===tf.length&&delete this.listeners_[tc]))}},tp}(td.default)}),a.register("4kyFN",function(tc,tp){e(tc.exports,"default",()=>tf);var tf=function(){function tc(){this.disposed=!1}return tc.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},tc.prototype.disposeInternal=function(){},tc}()}),a.register("f18Q2",function(tc,tp){e(tc.exports,"default",()=>tf);var tf=function(){function tc(tc){this.propagationStopped,this.defaultPrevented,this.type=tc,this.target=null}return tc.prototype.preventDefault=function(){this.defaultPrevented=!0},tc.prototype.stopPropagation=function(){this.propagationStopped=!0},tc}()}),a.register("6wUzV",function(tc,tp){e(tc.exports,"TRUE",()=>td),e(tc.exports,"FALSE",()=>tg),e(tc.exports,"VOID",()=>t8),e(tc.exports,"memoizeOne",()=>ty);var tf=a("fVVyM");function td(){return!0}function tg(){return!1}function t8(){}function ty(tc){var tp,td,tg,t8=!1;return function(){var ty=Array.prototype.slice.call(arguments);return t8&&this===tg&&tf.equals(ty,td)||(t8=!0,tg=this,td=ty,tp=tc.apply(this,arguments)),tp}}}),a.register("fVVyM",function(tc,tp){function tf(tc,tp,tf){for(var tg,t8,ty=tf||td,tv=0,tm=tc.length,t$=!1;tv<tm;)(t8=+ty(tc[tg=tv+(tm-tv>>1)],tp))<0?tv=tg+1:(tm=tg,t$=!t8);return t$?tv:~tv}function td(tc,tp){return tc>tp?1:tc<tp?-1:0}function tg(tc,tp,tf){var td=tc.length;if(tc[0]<=tp)return 0;if(tp<=tc[td-1])return td-1;var tg=void 0;if(tf>0){for(tg=1;tg<td;++tg)if(tc[tg]<tp)return tg-1}else if(tf<0){for(tg=1;tg<td;++tg)if(tc[tg]<=tp)return tg}else for(tg=1;tg<td;++tg){if(tc[tg]==tp)return tg;if(tc[tg]<tp)return"function"==typeof tf?tf(tp,tc[tg-1],tc[tg])>0?tg-1:tg:tc[tg-1]-tp<tp-tc[tg]?tg-1:tg}return td-1}function t8(tc,tp,tf){for(;tp<tf;){var td=tc[tp];tc[tp]=tc[tf],tc[tf]=td,++tp,--tf}}function ty(tc,tp){for(var tf=Array.isArray(tp)?tp:[tp],td=tf.length,tg=0;tg<td;tg++)tc[tc.length]=tf[tg]}function tv(tc,tp){var tf=tc.length;if(tf!==tp.length)return!1;for(var td=0;td<tf;td++)if(tc[td]!==tp[td])return!1;return!0}function tm(tc,tp,tf){var tg=tp||td;return tc.every(function(tp,td){if(0===td)return!0;var t8=tg(tc[td-1],tp);return!(t8>0||tf&&0===t8)})}e(tc.exports,"binarySearch",()=>tf),e(tc.exports,"numberSafeCompareFunction",()=>td),e(tc.exports,"linearFindNearest",()=>tg),e(tc.exports,"reverseSubArray",()=>t8),e(tc.exports,"extend",()=>ty),e(tc.exports,"equals",()=>tv),e(tc.exports,"isSorted",()=>tm)}),a.register("gn0g3",function(tc,tp){e(tc.exports,"assign",()=>tf),e(tc.exports,"clear",()=>td),e(tc.exports,"getValues",()=>tg),e(tc.exports,"isEmpty",()=>t8);var tf="function"==typeof Object.assign?Object.assign:function(tc,tp){if(null==tc)throw TypeError("Cannot convert undefined or null to object");for(var tf=Object(tc),td=1,tg=arguments.length;td<tg;++td){var t8=arguments[td];if(null!=t8)for(var ty in t8)t8.hasOwnProperty(ty)&&(tf[ty]=t8[ty])}return tf};function td(tc){for(var tp in tc)delete tc[tp]}var tg="function"==typeof Object.values?Object.values:function(tc){var tp=[];for(var tf in tc)tp.push(tc[tf]);return tp};function t8(tc){var tp;for(tp in tc)return!1;return!tp}}),a.register("3xzSb",function(tc,tp){e(tc.exports,"default",()=>tf);var tf={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}}),a.register("ilM9F",function(tc,tp){e(tc.exports,"listen",()=>td),e(tc.exports,"listenOnce",()=>tg),e(tc.exports,"unlistenByKey",()=>t8);var tf=a("gn0g3");function td(tc,tp,tf,td,tg){if(td&&td!==tc&&(tf=tf.bind(td)),tg){var t8=tf;tf=function(){tc.removeEventListener(tp,tf),t8.apply(this,arguments)}}var ty={target:tc,type:tp,listener:tf};return tc.addEventListener(tp,tf),ty}function tg(tc,tp,tf,tg){return td(tc,tp,tf,tg,!0)}function t8(tc){tc&&tc.target&&(tc.target.removeEventListener(tc.type,tc.listener),tf.clear(tc))}}),a.register("YSU3I",function(tc,tp){t(tc.exports),e(tc.exports,"GroupEvent",()=>tR,tc=>tR=tc),e(tc.exports,"default",()=>tI,tc=>tI=tc);var tf,td=a("7xdj9"),tg=a("cD8Qe"),t8=a("1TIYs"),ty=a("f18Q2"),tv=a("3xzSb"),tm=a("jXCUw"),t$=a("d8cxx"),tx=a("4Cz58"),tC=a("gn0g3"),tE=a("9pD6L"),t_=a("9iPUS"),tS=a("ilM9F"),tw=(tf=function(tc,tp){return(tf=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tc,tp)},function(tc,tp){if("function"!=typeof tp&&null!==tp)throw TypeError("Class extends value "+String(tp)+" is not a constructor or null");function td(){this.constructor=tc}tf(tc,tp),tc.prototype=null===tp?Object.create(tp):(td.prototype=tp.prototype,new td)}),tR=function(tc){function tp(tp,tf){var td=tc.call(this,tp)||this;return td.layer=tf,td}return tw(tp,tc),tp}(ty.default),tT="layers",tI=function(tc){function tp(tp){var tf=this,td=tp||{},t8=tC.assign({},td);delete t8.layers;var ty=td.layers;return(tf=tc.call(this,t8)||this).on,tf.once,tf.un,tf.layersListenerKeys_=[],tf.listenerKeys_={},tf.addChangeListener(tT,tf.handleLayersChanged_),ty?Array.isArray(ty)?ty=new tg.default(ty.slice(),{unique:!0}):tx.assert("function"==typeof ty.getArray,43):ty=new tg.default(void 0,{unique:!0}),tf.setLayers(ty),tf}return tw(tp,tc),tp.prototype.handleLayerChange_=function(){this.changed()},tp.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(tS.unlistenByKey),this.layersListenerKeys_.length=0;var tc=this.getLayers();for(var tp in this.layersListenerKeys_.push(tS.listen(tc,t8.default.ADD,this.handleLayersAdd_,this),tS.listen(tc,t8.default.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[tp].forEach(tS.unlistenByKey);tC.clear(this.listenerKeys_);for(var tf=tc.getArray(),td=0,tg=tf.length;td<tg;td++){var ty=tf[td];this.registerLayerListeners_(ty),this.dispatchEvent(new tR("addlayer",ty))}this.changed()},tp.prototype.registerLayerListeners_=function(tc){var tf=[tS.listen(tc,tm.default.PROPERTYCHANGE,this.handleLayerChange_,this),tS.listen(tc,tv.default.CHANGE,this.handleLayerChange_,this),];tc instanceof tp&&tf.push(tS.listen(tc,"addlayer",this.handleLayerGroupAdd_,this),tS.listen(tc,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[t_.getUid(tc)]=tf},tp.prototype.handleLayerGroupAdd_=function(tc){this.dispatchEvent(new tR("addlayer",tc.layer))},tp.prototype.handleLayerGroupRemove_=function(tc){this.dispatchEvent(new tR("removelayer",tc.layer))},tp.prototype.handleLayersAdd_=function(tc){var tp=tc.element;this.registerLayerListeners_(tp),this.dispatchEvent(new tR("addlayer",tp)),this.changed()},tp.prototype.handleLayersRemove_=function(tc){var tp=tc.element,tf=t_.getUid(tp);this.listenerKeys_[tf].forEach(tS.unlistenByKey),delete this.listenerKeys_[tf],this.dispatchEvent(new tR("removelayer",tp)),this.changed()},tp.prototype.getLayers=function(){return this.get(tT)},tp.prototype.setLayers=function(tc){var tp=this.getLayers();if(tp)for(var tf=tp.getArray(),td=0,tg=tf.length;td<tg;++td)this.dispatchEvent(new tR("removelayer",tf[td]));this.set(tT,tc)},tp.prototype.getLayersArray=function(tc){var tp=void 0!==tc?tc:[];return this.getLayers().forEach(function(tc){tc.getLayersArray(tp)}),tp},tp.prototype.getLayerStatesArray=function(tc){var tp=void 0!==tc?tc:[],tf=tp.length;this.getLayers().forEach(function(tc){tc.getLayerStatesArray(tp)});var td=this.getLayerState(),tg=td.zIndex;tc||void 0!==td.zIndex||(tg=0);for(var t8=tf,ty=tp.length;t8<ty;t8++){var tv=tp[t8];tv.opacity*=td.opacity,tv.visible=tv.visible&&td.visible,tv.maxResolution=Math.min(tv.maxResolution,td.maxResolution),tv.minResolution=Math.max(tv.minResolution,td.minResolution),tv.minZoom=Math.max(tv.minZoom,td.minZoom),tv.maxZoom=Math.min(tv.maxZoom,td.maxZoom),void 0!==td.extent&&(void 0!==tv.extent?tv.extent=tE.getIntersection(tv.extent,td.extent):tv.extent=td.extent),void 0===tv.zIndex&&(tv.zIndex=tg)}return tp},tp.prototype.getSourceState=function(){return t$.default.READY},tp}(td.default)}),a.register("7xdj9",function(tc,tp){e(tc.exports,"default",()=>tx,tc=>tx=tc);var tf,td=a("fFFY7"),tg=a("lbO8S"),t8=a("9iPUS"),ty=a("4Cz58"),tv=a("gn0g3"),tm=a("9byFX"),t$=(tf=function(tc,tp){return(tf=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tc,tp)},function(tc,tp){if("function"!=typeof tp&&null!==tp)throw TypeError("Class extends value "+String(tp)+" is not a constructor or null");function td(){this.constructor=tc}tf(tc,tp),tc.prototype=null===tp?Object.create(tp):(td.prototype=tp.prototype,new td)}),tx=function(tc){function tp(tp){var tf=tc.call(this)||this;tf.on,tf.once,tf.un,tf.background_=tp.background;var td=tv.assign({},tp);return"object"==typeof tp.properties&&(delete td.properties,tv.assign(td,tp.properties)),td[tg.default.OPACITY]=void 0!==tp.opacity?tp.opacity:1,ty.assert("number"==typeof td[tg.default.OPACITY],64),td[tg.default.VISIBLE]=void 0===tp.visible||tp.visible,td[tg.default.Z_INDEX]=tp.zIndex,td[tg.default.MAX_RESOLUTION]=void 0!==tp.maxResolution?tp.maxResolution:1/0,td[tg.default.MIN_RESOLUTION]=void 0!==tp.minResolution?tp.minResolution:0,td[tg.default.MIN_ZOOM]=void 0!==tp.minZoom?tp.minZoom:-1/0,td[tg.default.MAX_ZOOM]=void 0!==tp.maxZoom?tp.maxZoom:1/0,tf.className_=void 0!==td.className?td.className:"ol-layer",delete td.className,tf.setProperties(td),tf.state_=null,tf}return t$(tp,tc),tp.prototype.getBackground=function(){return this.background_},tp.prototype.getClassName=function(){return this.className_},tp.prototype.getLayerState=function(tc){var tp=this.state_||{layer:this,managed:void 0===tc||tc},tf=this.getZIndex();return tp.opacity=tm.clamp(Math.round(100*this.getOpacity())/100,0,1),tp.visible=this.getVisible(),tp.extent=this.getExtent(),tp.zIndex=void 0!==tf||tp.managed?tf:1/0,tp.maxResolution=this.getMaxResolution(),tp.minResolution=Math.max(this.getMinResolution(),0),tp.minZoom=this.getMinZoom(),tp.maxZoom=this.getMaxZoom(),this.state_=tp,tp},tp.prototype.getLayersArray=function(tc){return t8.abstract()},tp.prototype.getLayerStatesArray=function(tc){return t8.abstract()},tp.prototype.getExtent=function(){return this.get(tg.default.EXTENT)},tp.prototype.getMaxResolution=function(){return this.get(tg.default.MAX_RESOLUTION)},tp.prototype.getMinResolution=function(){return this.get(tg.default.MIN_RESOLUTION)},tp.prototype.getMinZoom=function(){return this.get(tg.default.MIN_ZOOM)},tp.prototype.getMaxZoom=function(){return this.get(tg.default.MAX_ZOOM)},tp.prototype.getOpacity=function(){return this.get(tg.default.OPACITY)},tp.prototype.getSourceState=function(){return t8.abstract()},tp.prototype.getVisible=function(){return this.get(tg.default.VISIBLE)},tp.prototype.getZIndex=function(){return this.get(tg.default.Z_INDEX)},tp.prototype.setBackground=function(tc){this.background_=tc,this.changed()},tp.prototype.setExtent=function(tc){this.set(tg.default.EXTENT,tc)},tp.prototype.setMaxResolution=function(tc){this.set(tg.default.MAX_RESOLUTION,tc)},tp.prototype.setMinResolution=function(tc){this.set(tg.default.MIN_RESOLUTION,tc)},tp.prototype.setMaxZoom=function(tc){this.set(tg.default.MAX_ZOOM,tc)},tp.prototype.setMinZoom=function(tc){this.set(tg.default.MIN_ZOOM,tc)},tp.prototype.setOpacity=function(tc){ty.assert("number"==typeof tc,64),this.set(tg.default.OPACITY,tc)},tp.prototype.setVisible=function(tc){this.set(tg.default.VISIBLE,tc)},tp.prototype.setZIndex=function(tc){this.set(tg.default.Z_INDEX,tc)},tp.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),tc.prototype.disposeInternal.call(this)},tp}(td.default)}),a.register("fFFY7",function(tc,tp){e(tc.exports,"ObjectEvent",()=>t$,tc=>t$=tc),e(tc.exports,"default",()=>tx,tc=>tx=tc);var tf,td=a("f18Q2"),tg=a("jXCUw"),t8=a("2FcER"),ty=a("gn0g3"),tv=a("9iPUS"),tm=(tf=function(tc,tp){return(tf=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tc,tp)},function(tc,tp){if("function"!=typeof tp&&null!==tp)throw TypeError("Class extends value "+String(tp)+" is not a constructor or null");function td(){this.constructor=tc}tf(tc,tp),tc.prototype=null===tp?Object.create(tp):(td.prototype=tp.prototype,new td)}),t$=function(tc){function tp(tp,tf,td){var tg=tc.call(this,tp)||this;return tg.key=tf,tg.oldValue=td,tg}return tm(tp,tc),tp}(td.default),tx=function(tc){function tp(tp){var tf=tc.call(this)||this;return tf.on,tf.once,tf.un,tv.getUid(tf),tf.values_=null,void 0!==tp&&tf.setProperties(tp),tf}return tm(tp,tc),tp.prototype.get=function(tc){var tp;return this.values_&&this.values_.hasOwnProperty(tc)&&(tp=this.values_[tc]),tp},tp.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},tp.prototype.getProperties=function(){return this.values_&&ty.assign({},this.values_)||{}},tp.prototype.hasProperties=function(){return!!this.values_},tp.prototype.notify=function(tc,tp){var tf;tf="change:".concat(tc),this.hasListener(tf)&&this.dispatchEvent(new t$(tf,tc,tp)),tf=tg.default.PROPERTYCHANGE,this.hasListener(tf)&&this.dispatchEvent(new t$(tf,tc,tp))},tp.prototype.addChangeListener=function(tc,tp){this.addEventListener("change:".concat(tc),tp)},tp.prototype.removeChangeListener=function(tc,tp){this.removeEventListener("change:".concat(tc),tp)},tp.prototype.set=function(tc,tp,tf){var td=this.values_||(this.values_={});if(tf)td[tc]=tp;else{var tg=td[tc];td[tc]=tp,tg!==tp&&this.notify(tc,tg)}},tp.prototype.setProperties=function(tc,tp){for(var tf in tc)this.set(tf,tc[tf],tp)},tp.prototype.applyProperties=function(tc){tc.values_&&ty.assign(this.values_||(this.values_={}),tc.values_)},tp.prototype.unset=function(tc,tp){if(this.values_&&tc in this.values_){var tf=this.values_[tc];delete this.values_[tc],ty.isEmpty(this.values_)&&(this.values_=null),tp||this.notify(tc,tf)}},tp}(t8.default)}),a.register("jXCUw",function(tc,tp){e(tc.exports,"default",()=>tf);var tf={PROPERTYCHANGE:"propertychange"}}),a.register("9iPUS",function(tc,tp){function tf(){return function(){throw Error("Unimplemented abstract method.")}()}e(tc.exports,"abstract",()=>tf),e(tc.exports,"getUid",()=>tg),e(tc.exports,"VERSION",()=>t8);var td=0;function tg(tc){return tc.ol_uid||(tc.ol_uid=String(++td))}var t8="6.14.1"}),a.register("lbO8S",function(tc,tp){e(tc.exports,"default",()=>tf);var tf={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}}),a.register("4Cz58",function(tc,tp){e(tc.exports,"assert",()=>td);var tf=a("5wMtC");function td(tc,tp){if(!tc)throw new tf.default(tp)}}),a.register("5wMtC",function(tc,tp){e(tc.exports,"default",()=>t8,tc=>t8=tc);var tf,td=a("9iPUS"),tg=(tf=function(tc,tp){return(tf=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tc,tp)},function(tc,tp){if("function"!=typeof tp&&null!==tp)throw TypeError("Class extends value "+String(tp)+" is not a constructor or null");function td(){this.constructor=tc}tf(tc,tp),tc.prototype=null===tp?Object.create(tp):(td.prototype=tp.prototype,new td)}),t8=function(tc){function tp(tp){var tf=this,tg="Assertion failed. See https://openlayers.org/en/"+("latest"===td.VERSION?td.VERSION:"v"+td.VERSION.split("-")[0])+"/doc/errors/#"+tp+" for details.";return(tf=tc.call(this,tg)||this).code=tp,tf.name="AssertionError",tf.message=tg,tf}return tg(tp,tc),tp}(Error)}),a.register("9byFX",function(tc,tp){function tf(tc,tp,tf){return Math.min(Math.max(tc,tp),tf)}e(tc.exports,"clamp",()=>tf),e(tc.exports,"cosh",()=>td),e(tc.exports,"log2",()=>tg),e(tc.exports,"squaredSegmentDistance",()=>t8),e(tc.exports,"squaredDistance",()=>ty),e(tc.exports,"solveLinearSystem",()=>tv),e(tc.exports,"toDegrees",()=>tm),e(tc.exports,"toRadians",()=>t$),e(tc.exports,"modulo",()=>tx),e(tc.exports,"lerp",()=>tC),e(tc.exports,"round",()=>t_),e(tc.exports,"floor",()=>tS),e(tc.exports,"ceil",()=>tw);var td="cosh"in Math?Math.cosh:function(tc){var tp=Math.exp(tc);return(tp+1/tp)/2},tg="log2"in Math?Math.log2:function(tc){return Math.log(tc)*Math.LOG2E};function t8(tc,tp,tf,td,tg,t8){var tv=tg-tf,tm=t8-td;if(0!==tv||0!==tm){var t$=((tc-tf)*tv+(tp-td)*tm)/(tv*tv+tm*tm);t$>1?(tf=tg,td=t8):t$>0&&(tf+=tv*t$,td+=tm*t$)}return ty(tc,tp,tf,td)}function ty(tc,tp,tf,td){var tg=tf-tc,t8=td-tp;return tg*tg+t8*t8}function tv(tc){for(var tp=tc.length,tf=0;tf<tp;tf++){for(var td=tf,tg=Math.abs(tc[tf][tf]),t8=tf+1;t8<tp;t8++){var ty=Math.abs(tc[t8][tf]);ty>tg&&(tg=ty,td=t8)}if(0===tg)return null;var tv=tc[td];tc[td]=tc[tf],tc[tf]=tv;for(var tm=tf+1;tm<tp;tm++)for(var t$=-tc[tm][tf]/tc[tf][tf],tx=tf;tx<tp+1;tx++)tf==tx?tc[tm][tx]=0:tc[tm][tx]+=t$*tc[tf][tx]}for(var tC=Array(tp),tE=tp-1;tE>=0;tE--){tC[tE]=tc[tE][tp]/tc[tE][tE];for(var t_=tE-1;t_>=0;t_--)tc[t_][tp]-=tc[t_][tE]*tC[tE]}return tC}function tm(tc){return 180*tc/Math.PI}function t$(tc){return tc*Math.PI/180}function tx(tc,tp){var tf=tc%tp;return tf*tp<0?tf+tp:tf}function tC(tc,tp,tf){return tc+tf*(tp-tc)}function tE(tc,tp){var tf=Math.pow(10,tp);return Math.round(tc*tf)/tf}function t_(tc,tp){return Math.round(tE(tc,tp))}function tS(tc,tp){return Math.floor(tE(tc,tp))}function tw(tc,tp){return Math.ceil(tE(tc,tp))}}),a.register("cD8Qe",function(tc,tp){e(tc.exports,"CollectionEvent",()=>t$,tc=>t$=tc),e(tc.exports,"default",()=>tx,tc=>tx=tc);var tf,td=a("5wMtC"),tg=a("fFFY7"),t8=a("1TIYs"),ty=a("f18Q2"),tv=(tf=function(tc,tp){return(tf=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tc,tp)},function(tc,tp){if("function"!=typeof tp&&null!==tp)throw TypeError("Class extends value "+String(tp)+" is not a constructor or null");function td(){this.constructor=tc}tf(tc,tp),tc.prototype=null===tp?Object.create(tp):(td.prototype=tp.prototype,new td)}),tm="length",t$=function(tc){function tp(tp,tf,td){var tg=tc.call(this,tp)||this;return tg.element=tf,tg.index=td,tg}return tv(tp,tc),tp}(ty.default),tx=function(tc){function tp(tp,tf){var td=tc.call(this)||this;if(td.on,td.once,td.un,td.unique_=!!(tf||{}).unique,td.array_=tp||[],td.unique_)for(var tg=0,t8=td.array_.length;tg<t8;++tg)td.assertUnique_(td.array_[tg],tg);return td.updateLength_(),td}return tv(tp,tc),tp.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},tp.prototype.extend=function(tc){for(var tp=0,tf=tc.length;tp<tf;++tp)this.push(tc[tp]);return this},tp.prototype.forEach=function(tc){for(var tp=this.array_,tf=0,td=tp.length;tf<td;++tf)tc(tp[tf],tf,tp)},tp.prototype.getArray=function(){return this.array_},tp.prototype.item=function(tc){return this.array_[tc]},tp.prototype.getLength=function(){return this.get(tm)},tp.prototype.insertAt=function(tc,tp){this.unique_&&this.assertUnique_(tp),this.array_.splice(tc,0,tp),this.updateLength_(),this.dispatchEvent(new t$(t8.default.ADD,tp,tc))},tp.prototype.pop=function(){return this.removeAt(this.getLength()-1)},tp.prototype.push=function(tc){this.unique_&&this.assertUnique_(tc);var tp=this.getLength();return this.insertAt(tp,tc),this.getLength()},tp.prototype.remove=function(tc){for(var tp=this.array_,tf=0,td=tp.length;tf<td;++tf)if(tp[tf]===tc)return this.removeAt(tf)},tp.prototype.removeAt=function(tc){var tp=this.array_[tc];return this.array_.splice(tc,1),this.updateLength_(),this.dispatchEvent(new t$(t8.default.REMOVE,tp,tc)),tp},tp.prototype.setAt=function(tc,tp){var tf=this.getLength();if(tc<tf){this.unique_&&this.assertUnique_(tp,tc);var td=this.array_[tc];this.array_[tc]=tp,this.dispatchEvent(new t$(t8.default.REMOVE,td,tc)),this.dispatchEvent(new t$(t8.default.ADD,tp,tc))}else{for(var tg=tf;tg<tc;++tg)this.insertAt(tg,void 0);this.insertAt(tc,tp)}},tp.prototype.updateLength_=function(){this.set(tm,this.array_.length)},tp.prototype.assertUnique_=function(tc,tp){for(var tf=0,tg=this.array_.length;tf<tg;++tf)if(this.array_[tf]===tc&&tf!==tp)throw new td.default(58)},tp}(tg.default)}),a.register("1TIYs",function(tc,tp){e(tc.exports,"default",()=>tf);var tf={ADD:"add",REMOVE:"remove"}}),a.register("d8cxx",function(tc,tp){e(tc.exports,"default",()=>tf);var tf={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}}),a.register("9pD6L",function(tc,tp){e(tc.exports,"boundingExtent",()=>t8),e(tc.exports,"createEmpty",()=>t_),e(tc.exports,"extendCoordinate",()=>tP),e(tc.exports,"createOrUpdate",()=>tS),e(tc.exports,"buffer",()=>ty),e(tc.exports,"clone",()=>tv),e(tc.exports,"closestSquaredDistanceXY",()=>tm),e(tc.exports,"containsCoordinate",()=>t$),e(tc.exports,"containsXY",()=>tC),e(tc.exports,"containsExtent",()=>tx),e(tc.exports,"coordinateRelationship",()=>tE),e(tc.exports,"createOrUpdateEmpty",()=>tw),e(tc.exports,"createOrUpdateFromCoordinate",()=>tR),e(tc.exports,"createOrUpdateFromFlatCoordinates",()=>tT),e(tc.exports,"extendFlatCoordinates",()=>tL),e(tc.exports,"equals",()=>tI),e(tc.exports,"extend",()=>tO),e(tc.exports,"forEachCorner",()=>tF),e(tc.exports,"getBottomLeft",()=>tA),e(tc.exports,"getBottomRight",()=>tk),e(tc.exports,"getTopRight",()=>tX),e(tc.exports,"getTopLeft",()=>tU),e(tc.exports,"getArea",()=>tD),e(tc.exports,"isEmpty",()=>tB),e(tc.exports,"getWidth",()=>tY),e(tc.exports,"getHeight",()=>tM),e(tc.exports,"getCenter",()=>tG),e(tc.exports,"getCorner",()=>t0),e(tc.exports,"getForViewAndSize",()=>tN),e(tc.exports,"getIntersection",()=>tz),e(tc.exports,"intersects",()=>tV),e(tc.exports,"returnOrUpdate",()=>tW),e(tc.exports,"intersectsSegment",()=>tK),e(tc.exports,"applyTransform",()=>tZ),e(tc.exports,"wrapX",()=>tj);var tf=a("43hY5"),td=a("iM9A6"),tg=a("4Cz58");function t8(tc){for(var tp=t_(),tf=0,td=tc.length;tf<td;++tf)tP(tp,tc[tf]);return tp}function ty(tc,tp,tf){return tf?(tf[0]=tc[0]-tp,tf[1]=tc[1]-tp,tf[2]=tc[2]+tp,tf[3]=tc[3]+tp,tf):[tc[0]-tp,tc[1]-tp,tc[2]+tp,tc[3]+tp]}function tv(tc,tp){return tp?(tp[0]=tc[0],tp[1]=tc[1],tp[2]=tc[2],tp[3]=tc[3],tp):tc.slice()}function tm(tc,tp,tf){var td,tg;return(td=tp<tc[0]?tc[0]-tp:tc[2]<tp?tp-tc[2]:0)*td+(tg=tf<tc[1]?tc[1]-tf:tc[3]<tf?tf-tc[3]:0)*tg}function t$(tc,tp){return tC(tc,tp[0],tp[1])}function tx(tc,tp){return tc[0]<=tp[0]&&tp[2]<=tc[2]&&tc[1]<=tp[1]&&tp[3]<=tc[3]}function tC(tc,tp,tf){return tc[0]<=tp&&tp<=tc[2]&&tc[1]<=tf&&tf<=tc[3]}function tE(tc,tp){var tf=tc[0],tg=tc[1],t8=tc[2],ty=tc[3],tv=tp[0],tm=tp[1],t$=td.default.UNKNOWN;return tv<tf?t$|=td.default.LEFT:tv>t8&&(t$|=td.default.RIGHT),tm<tg?t$|=td.default.BELOW:tm>ty&&(t$|=td.default.ABOVE),t$===td.default.UNKNOWN&&(t$=td.default.INTERSECTING),t$}function t_(){return[1/0,1/0,-1/0,-1/0]}function tS(tc,tp,tf,td,tg){return tg?(tg[0]=tc,tg[1]=tp,tg[2]=tf,tg[3]=td,tg):[tc,tp,tf,td]}function tw(tc){return tS(1/0,1/0,-1/0,-1/0,tc)}function tR(tc,tp){var tf=tc[0],td=tc[1];return tS(tf,td,tf,td,tp)}function tT(tc,tp,tf,td,tg){return tL(tw(tg),tc,tp,tf,td)}function tI(tc,tp){return tc[0]==tp[0]&&tc[2]==tp[2]&&tc[1]==tp[1]&&tc[3]==tp[3]}function tO(tc,tp){return tp[0]<tc[0]&&(tc[0]=tp[0]),tp[2]>tc[2]&&(tc[2]=tp[2]),tp[1]<tc[1]&&(tc[1]=tp[1]),tp[3]>tc[3]&&(tc[3]=tp[3]),tc}function tP(tc,tp){tp[0]<tc[0]&&(tc[0]=tp[0]),tp[0]>tc[2]&&(tc[2]=tp[0]),tp[1]<tc[1]&&(tc[1]=tp[1]),tp[1]>tc[3]&&(tc[3]=tp[1])}function tL(tc,tp,tf,td,tg){for(;tf<td;tf+=tg)tb(tc,tp[tf],tp[tf+1]);return tc}function tb(tc,tp,tf){tc[0]=Math.min(tc[0],tp),tc[1]=Math.min(tc[1],tf),tc[2]=Math.max(tc[2],tp),tc[3]=Math.max(tc[3],tf)}function tF(tc,tp){var tf;return(tf=tp(tA(tc)))||(tf=tp(tk(tc)))||(tf=tp(tX(tc)))?tf:(tf=tp(tU(tc)))||!1}function tD(tc){var tp=0;return tB(tc)||(tp=tY(tc)*tM(tc)),tp}function tA(tc){return[tc[0],tc[1]]}function tk(tc){return[tc[2],tc[1]]}function tG(tc){return[(tc[0]+tc[2])/2,(tc[1]+tc[3])/2]}function t0(tc,tp){var td;return tp===tf.default.BOTTOM_LEFT?td=tA(tc):tp===tf.default.BOTTOM_RIGHT?td=tk(tc):tp===tf.default.TOP_LEFT?td=tU(tc):tp===tf.default.TOP_RIGHT?td=tX(tc):tg.assert(!1,13),td}function tN(tc,tp,tf,td,tg){var t8=tp*td[0]/2,ty=tp*td[1]/2,tv=Math.cos(tf),tm=Math.sin(tf),t$=t8*tv,tx=t8*tm,tC=ty*tv,tE=ty*tm,t_=tc[0],tw=tc[1],tR=t_-t$+tE,tT=t_-t$-tE,tI=t_+t$-tE,tO=t_+t$+tE,tP=tw-tx-tC,tL=tw-tx+tC,tb=tw+tx+tC,tF=tw+tx-tC;return tS(Math.min(tR,tT,tI,tO),Math.min(tP,tL,tb,tF),Math.max(tR,tT,tI,tO),Math.max(tP,tL,tb,tF),tg)}function tM(tc){return tc[3]-tc[1]}function tz(tc,tp,tf){var td=tf||[1/0,1/0,-1/0,-1/0];return tV(tc,tp)?(tc[0]>tp[0]?td[0]=tc[0]:td[0]=tp[0],tc[1]>tp[1]?td[1]=tc[1]:td[1]=tp[1],tc[2]<tp[2]?td[2]=tc[2]:td[2]=tp[2],tc[3]<tp[3]?td[3]=tc[3]:td[3]=tp[3]):tw(td),td}function tU(tc){return[tc[0],tc[3]]}function tX(tc){return[tc[2],tc[3]]}function tY(tc){return tc[2]-tc[0]}function tV(tc,tp){return tc[0]<=tp[2]&&tc[2]>=tp[0]&&tc[1]<=tp[3]&&tc[3]>=tp[1]}function tB(tc){return tc[2]<tc[0]||tc[3]<tc[1]}function tW(tc,tp){return tp?(tp[0]=tc[0],tp[1]=tc[1],tp[2]=tc[2],tp[3]=tc[3],tp):tc}function tK(tc,tp,tf){var tg=!1,t8=tE(tc,tp),ty=tE(tc,tf);if(t8===td.default.INTERSECTING||ty===td.default.INTERSECTING)tg=!0;else{var tv=tc[0],tm=tc[1],t$=tc[2],tx=tc[3],tC=tp[0],t_=tp[1],tS=tf[0],tw=tf[1],tR=(tw-t_)/(tS-tC),tT=void 0,tI=void 0;ty&td.default.ABOVE&&!(t8&td.default.ABOVE)&&(tg=(tT=tS-(tw-tx)/tR)>=tv&&tT<=t$),tg||!(ty&td.default.RIGHT)||t8&td.default.RIGHT||(tg=(tI=tw-(tS-t$)*tR)>=tm&&tI<=tx),tg||!(ty&td.default.BELOW)||t8&td.default.BELOW||(tg=(tT=tS-(tw-tm)/tR)>=tv&&tT<=t$),tg||!(ty&td.default.LEFT)||t8&td.default.LEFT||(tg=(tI=tw-(tS-tv)*tR)>=tm&&tI<=tx)}return tg}function tZ(tc,tp,tf,td){var tg,t8,ty,tv=[];if(td>1)for(var tm=tc[2]-tc[0],t$=tc[3]-tc[1],tx=0;tx<td;++tx)tv.push(tc[0]+tm*tx/td,tc[1],tc[2],tc[1]+t$*tx/td,tc[2]-tm*tx/td,tc[3],tc[0],tc[3]-t$*tx/td);else tv=[tc[0],tc[1],tc[2],tc[1],tc[2],tc[3],tc[0],tc[3]];tp(tv,tv,2);for(var tC=[],tE=[],t_=(tx=0,tv.length);tx<t_;tx+=2)tC.push(tv[tx]),tE.push(tv[tx+1]);return tg=tC,t8=tE,ty=tf,tS(Math.min.apply(null,tg),Math.min.apply(null,t8),Math.max.apply(null,tg),Math.max.apply(null,t8),ty)}function tj(tc,tp){var tf=tp.getExtent(),td=tG(tc);if(tp.canWrapX()&&(td[0]<tf[0]||td[0]>=tf[2])){var tg=tY(tf),t8=Math.floor((td[0]-tf[0])/tg)*tg;tc[0]-=t8,tc[2]-=t8}return tc}}),a.register("43hY5",function(tc,tp){e(tc.exports,"default",()=>tf);var tf={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}}),a.register("iM9A6",function(tc,tp){e(tc.exports,"default",()=>tf);var tf={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}}),a.register("fVglf",function(tc,tp){t(tc.exports),e(tc.exports,"default",()=>t$,tc=>t$=tc);var tf,td=a("fFFY7"),tg=a("jDfdj"),t8=a("6wUzV"),ty=a("ilM9F"),tv=a("DfnQm"),tm=(tf=function(tc,tp){return(tf=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tc,tp)},function(tc,tp){if("function"!=typeof tp&&null!==tp)throw TypeError("Class extends value "+String(tp)+" is not a constructor or null");function td(){this.constructor=tc}tf(tc,tp),tc.prototype=null===tp?Object.create(tp):(td.prototype=tp.prototype,new td)}),t$=function(tc){function tp(tp){var tf=tc.call(this)||this,td=tp.element;return!td||tp.target||td.style.pointerEvents||(td.style.pointerEvents="auto"),tf.element=td||null,tf.target_=null,tf.map_=null,tf.listenerKeys=[],tp.render&&(tf.render=tp.render),tp.target&&tf.setTarget(tp.target),tf}return tm(tp,tc),tp.prototype.disposeInternal=function(){tv.removeNode(this.element),tc.prototype.disposeInternal.call(this)},tp.prototype.getMap=function(){return this.map_},tp.prototype.setMap=function(tc){this.map_&&tv.removeNode(this.element);for(var tp=0,tf=this.listenerKeys.length;tp<tf;++tp)ty.unlistenByKey(this.listenerKeys[tp]);this.listenerKeys.length=0,this.map_=tc,tc&&((this.target_?this.target_:tc.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==t8.VOID&&this.listenerKeys.push(ty.listen(tc,tg.default.POSTRENDER,this.render,this)),tc.render())},tp.prototype.render=function(tc){},tp.prototype.setTarget=function(tc){this.target_="string"==typeof tc?document.getElementById(tc):tc},tp}(td.default)}),a.register("jDfdj",function(tc,tp){e(tc.exports,"default",()=>tf);var tf={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}}),a.register("DfnQm",function(tc,tp){e(tc.exports,"createCanvasContext2D",()=>td),e(tc.exports,"replaceNode",()=>tg),e(tc.exports,"removeNode",()=>t8),e(tc.exports,"removeChildren",()=>ty),e(tc.exports,"replaceChildren",()=>tv);var tf=a("8UoiJ");function td(tc,tp,td,tg){var t8;return t8=td&&td.length?td.shift():tf.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(tc||300,tp||300):document.createElement("canvas"),tc&&(t8.width=tc),tp&&(t8.height=tp),t8.getContext("2d",tg)}function tg(tc,tp){var tf=tp.parentNode;tf&&tf.replaceChild(tc,tp)}function t8(tc){return tc&&tc.parentNode?tc.parentNode.removeChild(tc):null}function ty(tc){for(;tc.lastChild;)tc.removeChild(tc.lastChild)}function tv(tc,tp){for(var tf=tc.childNodes,td=0;;++td){var tg=tf[td],t8=tp[td];if(!tg&&!t8)break;tg!==t8&&(tg?t8?tc.insertBefore(t8,tg):(tc.removeChild(tg),--td):tc.appendChild(t8))}}}),a.register("8UoiJ",function(tc,tp){e(tc.exports,"FIREFOX",()=>td),e(tc.exports,"WEBKIT",()=>tg),e(tc.exports,"MAC",()=>t8),e(tc.exports,"DEVICE_PIXEL_RATIO",()=>ty),e(tc.exports,"WORKER_OFFSCREEN_CANVAS",()=>tv),e(tc.exports,"IMAGE_DECODE",()=>tm),e(tc.exports,"PASSIVE_EVENT_LISTENERS",()=>t$);var tf="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",td=-1!==tf.indexOf("firefox"),tg=(-1!==tf.indexOf("safari")&&-1==tf.indexOf("chrom")&&(tf.indexOf("version/15.4")>=0||tf.match(/cpu (os|iphone os) 15_4 like mac os x/)),-1!==tf.indexOf("webkit")&&-1==tf.indexOf("edge")),t8=-1!==tf.indexOf("macintosh"),ty="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,tv="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,tm="undefined"!=typeof Image&&Image.prototype.decode,t$=function(){var tc=!1;try{var tp=Object.defineProperty({},"passive",{get:function(){tc=!0}});window.addEventListener("_",null,tp),window.removeEventListener("_",null,tp)}catch(tf){}return tc}()});var s={};e(s,"default",()=>So,tc=>So=tc);var l={};e(l,"default",()=>Xt,tc=>Xt=tc);var u={};e(u,"default",()=>rt,tc=>rt=tc);var h,c=a("4kyFN"),p=a("6wUzV"),f=a("9iPUS"),d=a("8UoiJ"),g=a("4Cz58");function _(tc,tp,tf,td,tg,t8,ty){return tc[0]=tp,tc[1]=tf,tc[2]=td,tc[3]=tg,tc[4]=t8,tc[5]=ty,tc}function y(tc,tp){var tf=tp[0],td=tp[1];return tp[0]=tc[0]*tf+tc[2]*td+tc[4],tp[1]=tc[1]*tf+tc[3]*td+tc[5],tp}function v(tc,tp,tf,td,tg,t8,ty,tv){var tm=Math.sin(t8),t$=Math.cos(t8);return tc[0]=td*t$,tc[1]=tg*tm,tc[2]=-td*tm,tc[3]=tg*t$,tc[4]=ty*td*t$-tv*td*tm+tp,tc[5]=ty*tg*tm+tv*tg*t$+tf,tc}function m(tc,tp){var tf,td=(tf=tp)[0]*tf[3]-tf[1]*tf[2];g.assert(0!==td,32);var tg=tp[0],t8=tp[1],ty=tp[2],tv=tp[3],tm=tp[4],t$=tp[5];return tc[0]=tv/td,tc[1]=-t8/td,tc[2]=-ty/td,tc[3]=tg/td,tc[4]=(ty*t$-tv*tm)/td,tc[5]=-(tg*t$-t8*tm)/td,tc}function x(tc){var tp="matrix("+tc.join(", ")+")";if(d.WORKER_OFFSCREEN_CANVAS)return tp;var tf=h||(h=document.createElement("div"));return tf.style.transform=tp,tf.style.transform}var C=a("9pD6L"),E=(g=a("4Cz58"),a("9byFX")),S=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,w=/^([a-z]*)$|^hsla?\(.*\)$/i;function O(tc){return"string"==typeof tc?tc:M(tc)}function T(tc){var tp=document.createElement("div");if(tp.style.color=tc,""!==tp.style.color){document.body.appendChild(tp);var tf=getComputedStyle(tp).color;return document.body.removeChild(tp),tf}return""}var b,R,I=(b={},R=0,function(tc){var tp;if(b.hasOwnProperty(tc))tp=b[tc];else{if(R>=1024){var tf=0;for(var td in b)3&tf++||(delete b[td],--R)}tp=function(tc){var tp,tf,td,tg,t8;if(w.exec(tc)&&(tc=T(tc)),S.exec(tc)){var ty=tc.length-1,tv=void 0;tv=ty<=4?1:2;var tm=4===ty||8===ty;tp=parseInt(tc.substr(1+0*tv,tv),16),tf=parseInt(tc.substr(1+1*tv,tv),16),td=parseInt(tc.substr(1+2*tv,tv),16),tg=tm?parseInt(tc.substr(1+3*tv,tv),16):255,1==tv&&(tp=(tp<<4)+tp,tf=(tf<<4)+tf,td=(td<<4)+td,tm&&(tg=(tg<<4)+tg)),t8=[tp,tf,td,tg/255]}else 0==tc.indexOf("rgba(")?L(t8=tc.slice(5,-1).split(",").map(Number)):0==tc.indexOf("rgb(")?((t8=tc.slice(4,-1).split(",").map(Number)).push(1),L(t8)):g.assert(!1,14);return t8}(tc),b[tc]=tp,++R}return tp});function P(tc){return Array.isArray(tc)?tc:I(tc)}function L(tc){return tc[0]=E.clamp(tc[0]+.5|0,0,255),tc[1]=E.clamp(tc[1]+.5|0,0,255),tc[2]=E.clamp(tc[2]+.5|0,0,255),tc[3]=E.clamp(tc[3],0,1),tc}function M(tc){var tp=tc[0];tp!=(0|tp)&&(tp=tp+.5|0);var tf=tc[1];tf!=(0|tf)&&(tf=tf+.5|0);var td=tc[2];return td!=(0|td)&&(td=td+.5|0),"rgba("+tp+","+tf+","+td+","+(void 0===tc[3]?1:Math.round(100*tc[3])/100)+")"}var F=function(){function tc(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return tc.prototype.clear=function(){this.cache_={},this.cacheSize_=0},tc.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},tc.prototype.expire=function(){if(this.canExpireCache()){var tc=0;for(var tp in this.cache_){var tf=this.cache_[tp];3&tc++||tf.hasListener()||(delete this.cache_[tp],--this.cacheSize_)}}},tc.prototype.get=function(tc,tp,tf){var td=A(tc,tp,tf);return td in this.cache_?this.cache_[td]:null},tc.prototype.set=function(tc,tp,tf,td){var tg=A(tc,tp,tf);this.cache_[tg]=td,++this.cacheSize_},tc.prototype.setSize=function(tc){this.maxCacheSize_=tc,this.expire()},tc}();function A(tc,tp,tf){return tp+":"+tc+":"+(tf?O(tf):"null")}var D=new F,j={};e(j,"inView",()=>q,tc=>q=tc),e(j,"default",()=>J,tc=>J=tc);var N,G=a("7xdj9"),k=a("3xzSb"),z=a("lbO8S"),U="prerender",X="postrender",Y="precompose",V="postcompose",W="rendercomplete",K=a("d8cxx"),B=(g=a("4Cz58"),a("gn0g3")),Z=a("ilM9F"),H=(N=function(tc,tp){return(N=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tc,tp)},function(tc,tp){if("function"!=typeof tp&&null!==tp)throw TypeError("Class extends value "+String(tp)+" is not a constructor or null");function tf(){this.constructor=tc}N(tc,tp),tc.prototype=null===tp?Object.create(tp):(tf.prototype=tp.prototype,new tf)});function q(tc,tp){if(!tc.visible)return!1;var tf=tp.resolution;if(tf<tc.minResolution||tf>=tc.maxResolution)return!1;var td=tp.zoom;return td>tc.minZoom&&td<=tc.maxZoom}var J=function(tc){function tp(tp){var tf=this,td=B.assign({},tp);delete td.source,(tf=tc.call(this,td)||this).on,tf.once,tf.un,tf.mapPrecomposeKey_=null,tf.mapRenderKey_=null,tf.sourceChangeKey_=null,tf.renderer_=null,tf.rendered=!1,tp.render&&(tf.render=tp.render),tp.map&&tf.setMap(tp.map),tf.addChangeListener(z.default.SOURCE,tf.handleSourcePropertyChange_);var tg=tp.source?tp.source:null;return tf.setSource(tg),tf}return H(tp,tc),tp.prototype.getLayersArray=function(tc){var tp=tc||[];return tp.push(this),tp},tp.prototype.getLayerStatesArray=function(tc){var tp=tc||[];return tp.push(this.getLayerState()),tp},tp.prototype.getSource=function(){return this.get(z.default.SOURCE)||null},tp.prototype.getRenderSource=function(){return this.getSource()},tp.prototype.getSourceState=function(){var tc=this.getSource();return tc?tc.getState():K.default.UNDEFINED},tp.prototype.handleSourceChange_=function(){this.changed()},tp.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Z.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var tc=this.getSource();tc&&(this.sourceChangeKey_=Z.listen(tc,k.default.CHANGE,this.handleSourceChange_,this)),this.changed()},tp.prototype.getFeatures=function(tc){return this.renderer_?this.renderer_.getFeatures(tc):new Promise(function(tc){return tc([])})},tp.prototype.getData=function(tc){return this.renderer_&&this.rendered?this.renderer_.getData(tc):null},tp.prototype.render=function(tc,tp){var tf=this.getRenderer();if(tf.prepareFrame(tc))return this.rendered=!0,tf.renderFrame(tc,tp)},tp.prototype.unrender=function(){this.rendered=!1},tp.prototype.setMapInternal=function(tc){tc||this.unrender(),this.set(z.default.MAP,tc)},tp.prototype.getMapInternal=function(){return this.get(z.default.MAP)},tp.prototype.setMap=function(tc){this.mapPrecomposeKey_&&(Z.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),tc||this.changed(),this.mapRenderKey_&&(Z.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),tc&&(this.mapPrecomposeKey_=Z.listen(tc,Y,function(tc){var tp=tc.frameState.layerStatesArray,tf=this.getLayerState(!1);g.assert(!tp.some(function(tc){return tc.layer===tf.layer}),67),tp.push(tf)},this),this.mapRenderKey_=Z.listen(this,k.default.CHANGE,tc.render,tc),this.changed())},tp.prototype.setSource=function(tc){this.set(z.default.SOURCE,tc)},tp.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},tp.prototype.hasRenderer=function(){return!!this.renderer_},tp.prototype.createRenderer=function(){return null},tp.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),tc.prototype.disposeInternal.call(this)},tp}(G.default);function Q(tc,tp){for(var tf=!0,td=tc.length-1;td>=0;--td)if(tc[td]!=tp[td]){tf=!1;break}return tf}function $(tc,tp){var tf=Math.cos(tp),td=Math.sin(tp),tg=tc[0]*tf-tc[1]*td,t8=tc[1]*tf+tc[0]*td;return tc[0]=tg,tc[1]=t8,tc}function tt(tc,tp){if(tp.canWrapX()){var tf=C.getWidth(tp.getExtent()),td=et(tc,tp,tf);td&&(tc[0]-=td*tf)}return tc}function et(tc,tp,tf){var td=tp.getExtent(),tg=0;if(tp.canWrapX()&&(tc[0]<td[0]||tc[0]>td[2])){var t8=tf||C.getWidth(td);tg=Math.floor((tc[0]-td[0])/t8)}return tg}C=a("9pD6L"),E=a("9byFX");var nt=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}();function it(tc,tp){D.expire()}var rt=function(tc){function tp(tp){var tf=tc.call(this)||this;return tf.map_=tp,tf}return nt(tp,tc),tp.prototype.dispatchRenderEvent=function(tc,tp){f.abstract()},tp.prototype.calculateMatrices2D=function(tc){var tp=tc.viewState,tf=tc.coordinateToPixelTransform,td=tc.pixelToCoordinateTransform;v(tf,tc.size[0]/2,tc.size[1]/2,1/tp.resolution,-1/tp.resolution,-tp.rotation,-tp.center[0],-tp.center[1]),m(td,tf)},tp.prototype.forEachFeatureAtCoordinate=function(tc,tp,tf,td,tg,t8,ty,tv){var tm,t$=tp.viewState;function tx(tc,tp,tf,td){return tg.call(t8,tp,tc?tf:null,td)}var tC=t$.projection,tE=tt(tc.slice(),tC),t_=[[0,0]];if(tC.canWrapX()&&td){var tS=tC.getExtent(),tw=C.getWidth(tS);t_.push([-tw,0],[tw,0])}for(var tR=tp.layerStatesArray,tT=tR.length,tI=[],tO=[],tP=0;tP<t_.length;tP++)for(var tL=tT-1;tL>=0;--tL){var tb=tR[tL],tF=tb.layer;if(tF.hasRenderer()&&j.inView(tb,t$)&&ty.call(tv,tF)){var tD=tF.getRenderer(),tA=tF.getSource();if(tD&&tA){var tk=tA.getWrapX()?tE:tc,tG=tx.bind(null,tb.managed);tO[0]=tk[0]+t_[tP][0],tO[1]=tk[1]+t_[tP][1],tm=tD.forEachFeatureAtCoordinate(tO,tp,tf,tG,tI)}if(tm)return tm}}if(0!==tI.length){var t0=1/tI.length;return tI.forEach(function(tc,tp){return tc.distanceSq+=tp*t0}),tI.sort(function(tc,tp){return tc.distanceSq-tp.distanceSq}),tI.some(function(tc){return tm=tc.callback(tc.feature,tc.layer,tc.geometry)}),tm}},tp.prototype.forEachLayerAtPixel=function(tc,tp,tf,td,tg){return f.abstract()},tp.prototype.hasFeatureAtCoordinate=function(tc,tp,tf,td,tg,t8){return void 0!==this.forEachFeatureAtCoordinate(tc,tp,tf,td,p.TRUE,this,tg,t8)},tp.prototype.getMap=function(){return this.map_},tp.prototype.renderFrame=function(tc){f.abstract()},tp.prototype.scheduleExpireIconCache=function(tc){D.canExpireCache()&&tc.postRenderFunctions.push(it)},tp}(c.default),ot=a("jXCUw"),at={};e(at,"default",()=>ut,tc=>ut=tc);var st=a("f18Q2"),lt=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),ut=function(tc){function tp(tp,tf,td,tg){var t8=tc.call(this,tp)||this;return t8.inversePixelTransform=tf,t8.frameState=td,t8.context=tg,t8}return lt(tp,tc),tp}(st.default),ht=(K=a("d8cxx"),"ol-hidden"),ct="ol-unselectable",pt="ol-control",ft="ol-collapsed",dt=RegExp("^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$","i"),gt=["style","variant","weight","size","lineHeight","family"],_t=function(tc){var tp=tc.match(dt);if(!tp)return null;for(var tf={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},td=0,tg=gt.length;td<tg;++td){var t8=tp[td+1];void 0!==t8&&(tf[gt[td]]=t8)}return tf.families=tf.family.split(/,\s?/),tf};function yt(tc){return 1===tc?"":String(Math.round(100*tc)/100)}var vt=a("fFFY7"),mt=a("KD0eF"),xt=(d=a("8UoiJ"),B=a("gn0g3"),a("DfnQm")),Ct="10px sans-serif",Et="#000",St="round",wt=[],Ot="round",Tt="#000",bt="center",Rt="middle",It=[0,0,0,0],Pt=new vt.default;new mt.default().setSize=function(){console.warn("labelCache is deprecated.")};var Lt,Mt,Ft=null,At={},Dt=function(){var tc,tp,tf="32px ",td=["monospace","serif"],tg=td.length,t8="wmytzilWMYTZIL@#/&?$%10";function ty(tc,ty,tv){for(var tm=!0,t$=0;t$<tg;++t$){var tx=td[t$];if(tp=Gt(tc+" "+ty+" "+tf+tx,t8),tv!=tx){var tC=Gt(tc+" "+ty+" "+tf+tv+","+tx,t8);tm=tm&&tC!=tp}}return!!tm}function tv(){for(var tp=!0,tf=Pt.getKeys(),td=0,tg=tf.length;td<tg;++td){var t8=tf[td];100>Pt.get(t8)&&(ty.apply(this,t8.split("\n"))?(B.clear(At),Ft=null,Lt=void 0,Pt.set(t8,100)):(Pt.set(t8,Pt.get(t8)+1,!0),tp=!1))}tp&&(clearInterval(tc),tc=void 0)}return function(tp){var tf=_t(tp);if(tf)for(var td=tf.families,tg=0,t8=td.length;tg<t8;++tg){var tm=td[tg],t$=tf.style+"\n"+tf.weight+"\n"+tm;void 0===Pt.get(t$)&&(Pt.set(t$,100,!0),ty(tf.style,tf.weight,tm)||(Pt.set(t$,0,!0),void 0===tc&&(tc=setInterval(tv,32))))}}}(),jt=function(tc){var tp=At[tc];if(null==tp){if(d.WORKER_OFFSCREEN_CANVAS){var tf=_t(tc),td=Nt(tc,"Žg");tp=(isNaN(Number(tf.lineHeight))?1.2:Number(tf.lineHeight))*(td.actualBoundingBoxAscent+td.actualBoundingBoxDescent)}else Mt||((Mt=document.createElement("div")).innerHTML="M",Mt.style.minHeight="0",Mt.style.maxHeight="none",Mt.style.height="auto",Mt.style.padding="0",Mt.style.border="none",Mt.style.position="absolute",Mt.style.display="block",Mt.style.left="-99999px"),Mt.style.font=tc,document.body.appendChild(Mt),tp=Mt.offsetHeight,document.body.removeChild(Mt);At[tc]=tp}return tp};function Nt(tc,tp){return Ft||(Ft=xt.createCanvasContext2D(1,1)),tc!=Lt&&(Ft.font=tc,Lt=Ft.font),Ft.measureText(tp)}function Gt(tc,tp){return Nt(tc,tp).width}function kt(tc,tp,tf){if(tp in tf)return tf[tp];var td=Gt(tc,tp);return tf[tp]=td,td}function zt(tc,tp,tf,td,tg,t8,ty,tv,tm,t$,tx){tc.save(),1!==tf&&(tc.globalAlpha*=tf),tp&&tc.setTransform.apply(tc,tp),td.contextInstructions?(tc.translate(tm,t$),tc.scale(tx[0],tx[1]),function(tc,tp){for(var tf=tc.contextInstructions,td=0,tg=tf.length;td<tg;td+=2)Array.isArray(tf[td+1])?tp[tf[td]].apply(tp,tf[td+1]):tp[tf[td]]=tf[td+1]}(td,tc)):tx[0]<0||tx[1]<0?(tc.translate(tm,t$),tc.scale(tx[0],tx[1]),tc.drawImage(td,tg,t8,ty,tv,0,0,ty,tv)):tc.drawImage(td,tg,t8,ty,tv,tm,t$,ty*tx[0],tv*tx[1]),tc.restore()}Z=a("ilM9F"),xt=a("DfnQm");var Ut=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Xt=function(tc){function tp(tp){var tf=tc.call(this,tp)||this;tf.fontChangeListenerKey_=Z.listen(Pt,ot.default.PROPERTYCHANGE,tp.redrawText.bind(tp)),tf.element_=document.createElement("div");var td=tf.element_.style;td.position="absolute",td.width="100%",td.height="100%",td.zIndex="0",tf.element_.className=ct+" ol-layers";var tg=tp.getViewport();return tg.insertBefore(tf.element_,tg.firstChild||null),tf.children_=[],tf.renderedVisible_=!0,tf}return Ut(tp,tc),tp.prototype.dispatchRenderEvent=function(tc,tp){var tf=this.getMap();if(tf.hasListener(tc)){var td=new at.default(tc,void 0,tp);tf.dispatchEvent(td)}},tp.prototype.disposeInternal=function(){Z.unlistenByKey(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),tc.prototype.disposeInternal.call(this)},tp.prototype.renderFrame=function(tc){if(tc){this.calculateMatrices2D(tc),this.dispatchRenderEvent(Y,tc);var tp=tc.layerStatesArray.sort(function(tc,tp){return tc.zIndex-tp.zIndex}),tf=tc.viewState;this.children_.length=0;for(var td=[],tg=null,t8=0,ty=tp.length;t8<ty;++t8){var tv=tp[t8];tc.layerIndex=t8;var tm=tv.layer,t$=tm.getSourceState();if(j.inView(tv,tf)&&(t$==K.default.READY||t$==K.default.UNDEFINED)){var tx=tm.render(tc,tg);tx&&(tx!==tg&&(this.children_.push(tx),tg=tx),"getDeclutter"in tm&&td.push(tm))}else tm.unrender()}for(t8=td.length-1;t8>=0;--t8)td[t8].renderDeclutter(tc);xt.replaceChildren(this.element_,this.children_),this.dispatchRenderEvent(V,tc),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(tc)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},tp.prototype.forEachLayerAtPixel=function(tc,tp,tf,td,tg){for(var t8=tp.viewState,ty=tp.layerStatesArray,tv=ty.length-1;tv>=0;--tv){var tm=ty[tv],t$=tm.layer;if(t$.hasRenderer()&&j.inView(tm,t8)&&tg(t$)){var tx=t$.getRenderer().getDataAtPixel(tc,tp,tf);if(tx){var tC=td(t$,tx);if(tC)return tC}}}},tp}(u.default),Yt={};e(Yt,"default",()=>$i,tc=>$i=tc),vt=a("fFFY7");var Vt=a("cD8Qe"),Wt=a("1TIYs"),Kt=(k=a("3xzSb"),a("YSU3I")),Bt={};e(Bt,"default",()=>Qt,tc=>Qt=tc);var Zt={};e(Zt,"default",()=>qt,tc=>qt=tc),st=a("f18Q2");var Ht=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),qt=function(tc){function tp(tp,tf,td){var tg=tc.call(this,tp)||this;return tg.map=tf,tg.frameState=void 0!==td?td:null,tg}return Ht(tp,tc),tp}(st.default),Jt=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Qt=function(tc){function tp(tp,tf,td,tg,t8){var ty=tc.call(this,tp,tf,t8)||this;return ty.originalEvent=td,ty.pixel_=null,ty.coordinate_=null,ty.dragging=void 0!==tg&&tg,ty}return Jt(tp,tc),Object.defineProperty(tp.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(tc){this.pixel_=tc},enumerable:!1,configurable:!0}),Object.defineProperty(tp.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(tc){this.coordinate_=tc},enumerable:!1,configurable:!0}),tp.prototype.preventDefault=function(){tc.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},tp.prototype.stopPropagation=function(){tc.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},tp}(Zt.default),$t={};e($t,"default",()=>re,tc=>re=tc),k=a("3xzSb");var te={SINGLECLICK:"singleclick",CLICK:(k=a("3xzSb")).default.CLICK,DBLCLICK:k.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ee="pointermove",ne="pointerdown",ie=(mt=a("KD0eF"),d=a("8UoiJ"),p=a("6wUzV"),Z=a("ilM9F"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}()),re=function(tc){function tp(tp,tf){var td=tc.call(this,tp)||this;td.map_=tp,td.clickTimeoutId_,td.emulateClicks_=!1,td.dragging_=!1,td.dragListenerKeys_=[],td.moveTolerance_=void 0===tf?1:tf,td.down_=null;var tg=td.map_.getViewport();return td.activePointers_=0,td.trackedTouches_={},td.element_=tg,td.pointerdownListenerKey_=Z.listen(tg,ne,td.handlePointerDown_,td),td.originalPointerMoveEvent_,td.relayedListenerKey_=Z.listen(tg,ee,td.relayEvent_,td),td.boundHandleTouchMove_=td.handleTouchMove_.bind(td),td.element_.addEventListener(k.default.TOUCHMOVE,td.boundHandleTouchMove_,!!d.PASSIVE_EVENT_LISTENERS&&{passive:!1}),td}return ie(tp,tc),tp.prototype.emulateClick_=function(tc){var tp=new Bt.default(te.CLICK,this.map_,tc);this.dispatchEvent(tp),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,tp=new Bt.default(te.DBLCLICK,this.map_,tc),this.dispatchEvent(tp)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var tp=new Bt.default(te.SINGLECLICK,this.map_,tc);this.dispatchEvent(tp)}).bind(this),250)},tp.prototype.updateActivePointers_=function(tc){var tp=tc;tp.type==te.POINTERUP||tp.type==te.POINTERCANCEL?delete this.trackedTouches_[tp.pointerId]:tp.type==te.POINTERDOWN&&(this.trackedTouches_[tp.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},tp.prototype.handlePointerUp_=function(tc){this.updateActivePointers_(tc);var tp=new Bt.default(te.POINTERUP,this.map_,tc);this.dispatchEvent(tp),this.emulateClicks_&&!tp.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(tc)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Z.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},tp.prototype.isMouseActionButton_=function(tc){return 0===tc.button},tp.prototype.handlePointerDown_=function(tc){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(tc);var tp=new Bt.default(te.POINTERDOWN,this.map_,tc);for(var tf in this.dispatchEvent(tp),this.down_={},tc){var td=tc[tf];this.down_[tf]="function"==typeof td?p.VOID:td}if(0===this.dragListenerKeys_.length){var tg=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Z.listen(tg,te.POINTERMOVE,this.handlePointerMove_,this),Z.listen(tg,te.POINTERUP,this.handlePointerUp_,this),Z.listen(this.element_,te.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==tg&&this.dragListenerKeys_.push(Z.listen(this.element_.getRootNode(),te.POINTERUP,this.handlePointerUp_,this))}},tp.prototype.handlePointerMove_=function(tc){if(this.isMoving_(tc)){this.dragging_=!0;var tp=new Bt.default(te.POINTERDRAG,this.map_,tc,this.dragging_);this.dispatchEvent(tp)}},tp.prototype.relayEvent_=function(tc){this.originalPointerMoveEvent_=tc;var tp=!(!this.down_||!this.isMoving_(tc));this.dispatchEvent(new Bt.default(tc.type,this.map_,tc,tp))},tp.prototype.handleTouchMove_=function(tc){var tp=this.originalPointerMoveEvent_;tp&&!tp.defaultPrevented||"boolean"==typeof tc.cancelable&&!0!==tc.cancelable||tc.preventDefault()},tp.prototype.isMoving_=function(tc){return this.dragging_||Math.abs(tc.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(tc.clientY-this.down_.clientY)>this.moveTolerance_},tp.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Z.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(k.default.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Z.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Z.unlistenByKey),this.dragListenerKeys_.length=0,this.element_=null,tc.prototype.disposeInternal.call(this)},tp}(mt.default),oe=a("jDfdj"),ae="layergroup",se="size",le="target",ue="view",he=(ot=a("jXCUw"),{});e(he,"default",()=>me,tc=>me=tc),e(he,"getTilePriority",()=>xe,tc=>xe=tc),k=a("3xzSb"),g=a("4Cz58"),B=a("gn0g3");var ce=1/0,pe=function(){function tc(tc,tp){this.priorityFunction_=tc,this.keyFunction_=tp,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return tc.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,B.clear(this.queuedElements_)},tc.prototype.dequeue=function(){var tc=this.elements_,tp=this.priorities_,tf=tc[0];1==tc.length?(tc.length=0,tp.length=0):(tc[0]=tc.pop(),tp[0]=tp.pop(),this.siftUp_(0));var td=this.keyFunction_(tf);return delete this.queuedElements_[td],tf},tc.prototype.enqueue=function(tc){g.assert(!(this.keyFunction_(tc) in this.queuedElements_),31);var tp=this.priorityFunction_(tc);return tp!=ce&&(this.elements_.push(tc),this.priorities_.push(tp),this.queuedElements_[this.keyFunction_(tc)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},tc.prototype.getCount=function(){return this.elements_.length},tc.prototype.getLeftChildIndex_=function(tc){return 2*tc+1},tc.prototype.getRightChildIndex_=function(tc){return 2*tc+2},tc.prototype.getParentIndex_=function(tc){return tc-1>>1},tc.prototype.heapify_=function(){var tc;for(tc=(this.elements_.length>>1)-1;tc>=0;tc--)this.siftUp_(tc)},tc.prototype.isEmpty=function(){return 0===this.elements_.length},tc.prototype.isKeyQueued=function(tc){return tc in this.queuedElements_},tc.prototype.isQueued=function(tc){return this.isKeyQueued(this.keyFunction_(tc))},tc.prototype.siftUp_=function(tc){for(var tp=this.elements_,tf=this.priorities_,td=tp.length,tg=tp[tc],t8=tf[tc],ty=tc;tc<td>>1;){var tv=this.getLeftChildIndex_(tc),tm=this.getRightChildIndex_(tc),t$=tm<td&&tf[tm]<tf[tv]?tm:tv;tp[tc]=tp[t$],tf[tc]=tf[t$],tc=t$}tp[tc]=tg,tf[tc]=t8,this.siftDown_(ty,tc)},tc.prototype.siftDown_=function(tc,tp){for(var tf=this.elements_,td=this.priorities_,tg=tf[tp],t8=td[tp];tp>tc;){var ty=this.getParentIndex_(tp);if(!(td[ty]>t8))break;tf[tp]=tf[ty],td[tp]=td[ty],tp=ty}tf[tp]=tg,td[tp]=t8},tc.prototype.reprioritize=function(){var tc,tp,tf,td=this.priorityFunction_,tg=this.elements_,t8=this.priorities_,ty=0,tv=tg.length;for(tp=0;tp<tv;++tp)(tf=td(tc=tg[tp]))==ce?delete this.queuedElements_[this.keyFunction_(tc)]:(t8[ty]=tf,tg[ty++]=tc);tg.length=ty,t8.length=ty,this.heapify_()},tc}(),fe=0,de=1,ge=2,_e=3,ye=4,ve=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),me=function(tc){function tp(tp,tf){var td=tc.call(this,function(tc){return tp.apply(null,tc)},function(tc){return tc[0].getKey()})||this;return td.boundHandleTileChange_=td.handleTileChange.bind(td),td.tileChangeCallback_=tf,td.tilesLoading_=0,td.tilesLoadingKeys_={},td}return ve(tp,tc),tp.prototype.enqueue=function(tp){var tf=tc.prototype.enqueue.call(this,tp);return tf&&tp[0].addEventListener(k.default.CHANGE,this.boundHandleTileChange_),tf},tp.prototype.getTilesLoading=function(){return this.tilesLoading_},tp.prototype.handleTileChange=function(tc){var tp=tc.target,tf=tp.getState();if(tf===ge||tf===_e||tf===ye){tp.removeEventListener(k.default.CHANGE,this.boundHandleTileChange_);var td=tp.getKey();td in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[td],--this.tilesLoading_),this.tileChangeCallback_()}},tp.prototype.loadMoreTiles=function(tc,tp){for(var tf,td,tg=0;this.tilesLoading_<tc&&tg<tp&&this.getCount()>0;)td=(tf=this.dequeue()[0]).getKey(),tf.getState()!==fe||td in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[td]=!0,++this.tilesLoading_,++tg,tf.load())},tp}(pe);function xe(tc,tp,tf,td,tg){if(!tc||!(tf in tc.wantedTiles)||!tc.wantedTiles[tf][tp.getKey()])return ce;var t8=tc.viewState.center,ty=td[0]-t8[0],tv=td[1]-t8[1];return 65536*Math.log(tg)+Math.sqrt(ty*ty+tv*tv)/tg}var Ce={};e(Ce,"createResolutionConstraint",()=>Yi,tc=>Yi=tc),e(Ce,"createCenterConstraint",()=>Xi,tc=>Xi=tc),e(Ce,"createRotationConstraint",()=>Vi,tc=>Vi=tc),e(Ce,"isNoopAnimation",()=>Wi,tc=>Wi=tc),e(Ce,"default",()=>Bi,tc=>Bi=tc),vt=a("fFFY7");var Ee={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Se={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},we={};we[Se.RADIANS]=6370997/(2*Math.PI),we[Se.DEGREES]=2*Math.PI*6370997/360,we[Se.FEET]=.3048,we[Se.METERS]=1,we[Se.USFEET]=1200/3937;var Oe=Se,Te=0,be=1,Re={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Ie=42,Pe=256,Le={};e(Le,"PROJECTIONS",()=>ze,tc=>ze=tc),e(Le,"fromEPSG4326",()=>Ue,tc=>Ue=tc),e(Le,"toEPSG4326",()=>Xe,tc=>Xe=tc);var Me=function(){function tc(tc){this.code_=tc.code,this.units_=tc.units,this.extent_=void 0!==tc.extent?tc.extent:null,this.worldExtent_=void 0!==tc.worldExtent?tc.worldExtent:null,this.axisOrientation_=void 0!==tc.axisOrientation?tc.axisOrientation:"enu",this.global_=void 0!==tc.global&&tc.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=tc.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=tc.metersPerUnit}return tc.prototype.canWrapX=function(){return this.canWrapX_},tc.prototype.getCode=function(){return this.code_},tc.prototype.getExtent=function(){return this.extent_},tc.prototype.getUnits=function(){return this.units_},tc.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||we[this.units_]},tc.prototype.getWorldExtent=function(){return this.worldExtent_},tc.prototype.getAxisOrientation=function(){return this.axisOrientation_},tc.prototype.isGlobal=function(){return this.global_},tc.prototype.setGlobal=function(tc){this.global_=tc,this.canWrapX_=!(!tc||!this.extent_)},tc.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},tc.prototype.setDefaultTileGrid=function(tc){this.defaultTileGrid_=tc},tc.prototype.setExtent=function(tc){this.extent_=tc,this.canWrapX_=!(!this.global_||!tc)},tc.prototype.setWorldExtent=function(tc){this.worldExtent_=tc},tc.prototype.setGetPointResolution=function(tc){this.getPointResolutionFunc_=tc},tc.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},tc}(),Fe=(E=a("9byFX"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}()),Ae=6378137,De=Math.PI*Ae,je=[-De,-De,De,De],Ne=[-180,-85,180,85],Ge=Ae*Math.log(Math.tan(Math.PI/2)),ke=function(tc){function tp(tp){return tc.call(this,{code:tp,units:Oe.METERS,extent:je,global:!0,worldExtent:Ne,getPointResolution:function(tc,tp){return tc/E.cosh(tp[1]/Ae)}})||this}return Fe(tp,tc),tp}(Me),ze=[new ke("EPSG:3857"),new ke("EPSG:102100"),new ke("EPSG:102113"),new ke("EPSG:900913"),new ke("http://www.opengis.net/def/crs/EPSG/0/3857"),new ke("http://www.opengis.net/gml/srs/epsg.xml#3857"),];function Ue(tc,tp,tf){var td=tc.length,tg=tf>1?tf:2,t8=tp;void 0===t8&&(t8=tg>2?tc.slice():Array(td));for(var ty=0;ty<td;ty+=tg){t8[ty]=De*tc[ty]/180;var tv=Ae*Math.log(Math.tan(Math.PI*(+tc[ty+1]+90)/360));tv>Ge?tv=Ge:tv<-Ge&&(tv=-Ge),t8[ty+1]=tv}return t8}function Xe(tc,tp,tf){var td=tc.length,tg=tf>1?tf:2,t8=tp;void 0===t8&&(t8=tg>2?tc.slice():Array(td));for(var ty=0;ty<td;ty+=tg)t8[ty]=180*tc[ty]/De,t8[ty+1]=360*Math.atan(Math.exp(tc[ty+1]/Ae))/Math.PI-90;return t8}var Ye={};e(Ye,"PROJECTIONS",()=>Ze,tc=>Ze=tc);var Ve=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),We=[-180,-90,180,90],Ke=6378137*Math.PI/180,Be=function(tc){function tp(tp,tf){return tc.call(this,{code:tp,units:Oe.DEGREES,extent:We,axisOrientation:tf,global:!0,metersPerUnit:Ke,worldExtent:We})||this}return Ve(tp,tc),tp}(Me),Ze=[new Be("CRS:84"),new Be("EPSG:4326","neu"),new Be("urn:ogc:def:crs:OGC:1.3:CRS84"),new Be("urn:ogc:def:crs:OGC:2:84"),new Be("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Be("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Be("http://www.opengis.net/def/crs/EPSG/0/4326","neu"),],He={};B=a("gn0g3");var qe={};function Je(tc,tp,tf){var td=tc.getCode(),tg=tp.getCode();td in qe||(qe[td]={}),qe[td][tg]=tf}C=a("9pD6L"),E=a("9byFX"),E=a("9byFX");var Qe=6371008.8;function $e(tc,tp,tf){var td=tf||Qe,tg=E.toRadians(tc[1]),t8=E.toRadians(tp[1]),ty=(t8-tg)/2,tv=E.toRadians(tp[0]-tc[0])/2,tm=Math.sin(ty)*Math.sin(ty)+Math.sin(tv)*Math.sin(tv)*Math.cos(tg)*Math.cos(t8);return 2*td*Math.atan2(Math.sqrt(tm),Math.sqrt(1-tm))}function tn(tc,tp,tf,td){var tg=td||Qe,t8=E.toRadians(tc[1]),ty=E.toRadians(tc[0]),tv=tp/tg,tm=Math.asin(Math.sin(t8)*Math.cos(tv)+Math.cos(t8)*Math.sin(tv)*Math.cos(tf));return[E.toDegrees(ty+Math.atan2(Math.sin(tf)*Math.sin(tv)*Math.cos(t8),Math.cos(tv)-Math.sin(t8)*Math.sin(tm))),E.toDegrees(tm)]}var en=!0;function nn(tc){en=!(void 0===tc||tc)}function rn(tc,tp,tf){var td;if(void 0!==tp){for(var tg=0,t8=tc.length;tg<t8;++tg)tp[tg]=tc[tg];td=tp}else td=tc.slice();return td}function on(tc,tp,tf){if(void 0!==tp&&tc!==tp){for(var td=0,tg=tc.length;td<tg;++td)tp[td]=tc[td];tc=tp}return tc}function an(tc){var tp,tf;tp=tc.getCode(),tf=tc,He[tp]=tf,Je(tc,tc,rn)}function sn(tc){var tp;return"string"==typeof tc?He[tp=tc]||He[tp.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:tc||null}function ln(tc,tp,tf,td){var tg,t8=(tc=sn(tc)).getPointResolutionFunc();if(t8)tg=t8(tp,tf),td&&td!==tc.getUnits()&&(tv=tc.getMetersPerUnit())&&(tg=tg*tv/we[td]);else{var ty=tc.getUnits();if((ty!=Oe.DEGREES||td)&&td!=Oe.DEGREES){var tv,tm=pn(tc,sn("EPSG:4326"));if(tm===on&&ty!==Oe.DEGREES)tg=tp*tc.getMetersPerUnit();else{var t$=[tf[0]-tp/2,tf[1],tf[0]+tp/2,tf[1],tf[0],tf[1]-tp/2,tf[0],tf[1]+tp/2,];tg=($e((t$=tm(t$,t$,2)).slice(0,2),t$.slice(2,4))+$e(t$.slice(4,6),t$.slice(6,8)))/2}void 0!==(tv=td?we[td]:tc.getMetersPerUnit())&&(tg/=tv)}else tg=tp}return tg}function un(tc){!function(tc){tc.forEach(an)}(tc),tc.forEach(function(tp){tc.forEach(function(tc){tp!==tc&&Je(tp,tc,rn)})})}function hn(tc,tp){return tc?"string"==typeof tc?sn(tc):tc:sn(tp)}function cn(tc,tp){if(tc===tp)return!0;var tf=tc.getUnits()===tp.getUnits();return(tc.getCode()===tp.getCode()||pn(tc,tp)===rn)&&tf}function pn(tc,tp){var tf,td,tg,t8=(tf=tc.getCode(),td=tp.getCode(),tf in qe&&td in qe[tf]&&(tg=qe[tf][td]),tg);return t8||(t8=on),t8}function fn(tc,tp){return pn(sn(tc),sn(tp))}function dn(tc,tp,tf){return fn(tp,tf)(tc,void 0,tc.length)}function gn(tc,tp,tf,td){var tg=fn(tp,tf);return C.applyTransform(tc,tg,void 0,td)}var _n,yn,vn,mn=null;function xn(){return mn}function Cn(tc,tp){return mn?dn(tc,tp,mn):tc}function En(tc,tp){return mn?dn(tc,mn,tp):(en&&!Q(tc,[0,0])&&tc[0]>=-180&&tc[0]<=180&&tc[1]>=-90&&tc[1]<=90&&(en=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),tc)}function Sn(tc,tp){return mn?gn(tc,tp,mn):tc}function wn(tc,tp){return mn?gn(tc,mn,tp):tc}function On(tc,tp){if(!mn)return tc;var tf=sn(tp).getUnits(),td=mn.getUnits();return tf&&td?tc*we[tf]/we[td]:tc}function Tn(tc,tp,tf){return function(td,tg,t8,ty,tv){if(td){if(!tg&&!tp)return td;var tm=tp?0:t8[0]*tg,t$=tp?0:t8[1]*tg,tx=tv?tv[0]:0,tC=tv?tv[1]:0,tE=tc[0]+tm/2+tx,t_=tc[2]-tm/2+tx,tS=tc[1]+t$/2+tC,tw=tc[3]-t$/2+tC;tE>t_&&(t_=tE=(t_+tE)/2),tS>tw&&(tw=tS=(tw+tS)/2);var tR=E.clamp(td[0],tE,t_),tT=E.clamp(td[1],tS,tw);if(ty&&tf&&tg){var tI=30*tg;tR+=-tI*Math.log(1+Math.max(0,tE-td[0])/tI)+tI*Math.log(1+Math.max(0,td[0]-t_)/tI),tT+=-tI*Math.log(1+Math.max(0,tS-td[1])/tI)+tI*Math.log(1+Math.max(0,td[1]-tw)/tI)}return[tR,tT]}}}function bn(tc){return tc}un(Le.PROJECTIONS),un(Ye.PROJECTIONS),_n=Le.PROJECTIONS,yn=Le.fromEPSG4326,vn=Le.toEPSG4326,Ye.PROJECTIONS.forEach(function(tc){_n.forEach(function(tp){Je(tc,tp,yn),Je(tp,tc,vn)})}),p=a("6wUzV"),g=a("4Cz58"),B=a("gn0g3"),E=a("9byFX"),E=a("9byFX"),E=a("9byFX"),C=a("9pD6L");var Rn=a("fVVyM");function In(tc,tp,tf,td){var tg=C.getWidth(tp)/tf[0],t8=C.getHeight(tp)/tf[1];return td?Math.min(tc,Math.max(tg,t8)):Math.min(tc,Math.min(tg,t8))}function Pn(tc,tp,tf){var td=Math.min(tc,tp);return td*=Math.log(1+50*Math.max(0,tc/tp-1))/50+1,tf&&(td=Math.max(td,tf),td/=Math.log(1+50*Math.max(0,tf/tc-1))/50+1),E.clamp(td,tf/2,2*tp)}function Ln(tc,tp,tf,td,tg){return function(t8,ty,tv,tm){if(void 0!==t8){var t$=td?In(tc,td,tv,tg):tc;return(void 0===tf||tf)&&tm?Pn(t8,t$,tp):E.clamp(t8,tp,t$)}}}function Mn(tc){return void 0!==tc?0:void 0}function Fn(tc){return void 0!==tc?tc:void 0}function An(tc){return Math.pow(tc,3)}function Dn(tc){return 1-An(1-tc)}function jn(tc){return 3*tc*tc-2*tc*tc*tc}function Nn(tc){return tc}E=a("9byFX"),C=a("9pD6L"),Rn=a("fVVyM");var Gn={};e(Gn,"default",()=>Ai,tc=>Ai=tc),e(Gn,"circular",()=>Di,tc=>Di=tc),e(Gn,"fromExtent",()=>ji,tc=>ji=tc),e(Gn,"fromCircle",()=>Ni,tc=>Ni=tc),e(Gn,"makeRegular",()=>Gi,tc=>Gi=tc);var kn={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},zn={};e(zn,"default",()=>_i,tc=>_i=tc);var Un={};e(Un,"getStrideForLayout",()=>Hn,tc=>Hn=tc),e(Un,"transformGeom2D",()=>qn,tc=>qn=tc),e(Un,"default",()=>Jn,tc=>Jn=tc);var Xn={};function Yn(tc,tp,tf,td,tg,t8){for(var ty=t8||[],tv=0,tm=tp;tm<tf;tm+=td){var t$=tc[tm],tx=tc[tm+1];ty[tv++]=tg[0]*t$+tg[2]*tx+tg[4],ty[tv++]=tg[1]*t$+tg[3]*tx+tg[5]}return t8&&ty.length!=tv&&(ty.length=tv),ty}function Vn(tc,tp,tf,td,tg,t8,ty){for(var tv=ty||[],tm=Math.cos(tg),t$=Math.sin(tg),tx=t8[0],tC=t8[1],tE=0,t_=tp;t_<tf;t_+=td){var tS=tc[t_]-tx,tw=tc[t_+1]-tC;tv[tE++]=tx+tS*tm-tw*t$,tv[tE++]=tC+tS*t$+tw*tm;for(var tR=t_+2;tR<t_+td;++tR)tv[tE++]=tc[tR]}return ty&&tv.length!=tE&&(tv.length=tE),tv}e(Xn,"default",()=>Bn,tc=>Bn=tc),vt=a("fFFY7"),f=a("9iPUS"),C=a("9pD6L"),p=a("6wUzV");var Wn=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Kn=[1,0,0,1,0,0],Bn=function(tc){function tp(){var tp=tc.call(this)||this;return tp.extent_=C.createEmpty(),tp.extentRevision_=-1,tp.simplifiedGeometryMaxMinSquaredTolerance=0,tp.simplifiedGeometryRevision=0,tp.simplifyTransformedInternal=p.memoizeOne(function(tc,tp,tf){if(!tf)return this.getSimplifiedGeometry(tp);var td=this.clone();return td.applyTransform(tf),td.getSimplifiedGeometry(tp)}),tp}return Wn(tp,tc),tp.prototype.simplifyTransformed=function(tc,tp){return this.simplifyTransformedInternal(this.getRevision(),tc,tp)},tp.prototype.clone=function(){return f.abstract()},tp.prototype.closestPointXY=function(tc,tp,tf,td){return f.abstract()},tp.prototype.containsXY=function(tc,tp){var tf=this.getClosestPoint([tc,tp]);return tf[0]===tc&&tf[1]===tp},tp.prototype.getClosestPoint=function(tc,tp){var tf=tp||[NaN,NaN];return this.closestPointXY(tc[0],tc[1],tf,1/0),tf},tp.prototype.intersectsCoordinate=function(tc){return this.containsXY(tc[0],tc[1])},tp.prototype.computeExtent=function(tc){return f.abstract()},tp.prototype.getExtent=function(tc){if(this.extentRevision_!=this.getRevision()){var tp=this.computeExtent(this.extent_);(isNaN(tp[0])||isNaN(tp[1]))&&C.createOrUpdateEmpty(tp),this.extentRevision_=this.getRevision()}return C.returnOrUpdate(this.extent_,tc)},tp.prototype.rotate=function(tc,tp){f.abstract()},tp.prototype.scale=function(tc,tp,tf){f.abstract()},tp.prototype.simplify=function(tc){return this.getSimplifiedGeometry(tc*tc)},tp.prototype.getSimplifiedGeometry=function(tc){return f.abstract()},tp.prototype.getType=function(){return f.abstract()},tp.prototype.applyTransform=function(tc){f.abstract()},tp.prototype.intersectsExtent=function(tc){return f.abstract()},tp.prototype.translate=function(tc,tp){f.abstract()},tp.prototype.transform=function(tc,tp){var tf=sn(tc),td=tf.getUnits()==Oe.TILE_PIXELS?function(tc,td,tg){var t8=tf.getExtent(),ty=tf.getWorldExtent(),tv=C.getHeight(ty)/C.getHeight(t8);return v(Kn,ty[0],ty[3],tv,-tv,0,0,0),Yn(tc,0,tc.length,tg,Kn,td),fn(tf,tp)(tc,td,tg)}:fn(tf,tp);return this.applyTransform(td),this},tp}(vt.default),Zn=(f=a("9iPUS"),C=a("9pD6L"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}());function Hn(tc){var tp;return tc==kn.XY?tp=2:tc==kn.XYZ||tc==kn.XYM?tp=3:tc==kn.XYZM&&(tp=4),tp}function qn(tc,tp,tf){var td=tc.getFlatCoordinates();if(td){var tg=tc.getStride();return Yn(td,0,td.length,tg,tp,tf)}return null}var Jn=function(tc){function tp(){var tp=tc.call(this)||this;return tp.layout=kn.XY,tp.stride=2,tp.flatCoordinates=null,tp}return Zn(tp,tc),tp.prototype.computeExtent=function(tc){return C.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,tc)},tp.prototype.getCoordinates=function(){return f.abstract()},tp.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},tp.prototype.getFlatCoordinates=function(){return this.flatCoordinates},tp.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},tp.prototype.getLayout=function(){return this.layout},tp.prototype.getSimplifiedGeometry=function(tc){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),tc<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&tc<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var tp=this.getSimplifiedGeometryInternal(tc);return tp.getFlatCoordinates().length<this.flatCoordinates.length?tp:(this.simplifiedGeometryMaxMinSquaredTolerance=tc,this)},tp.prototype.getSimplifiedGeometryInternal=function(tc){return this},tp.prototype.getStride=function(){return this.stride},tp.prototype.setFlatCoordinates=function(tc,tp){this.stride=Hn(tc),this.layout=tc,this.flatCoordinates=tp},tp.prototype.setCoordinates=function(tc,tp){f.abstract()},tp.prototype.setLayout=function(tc,tp,tf){var td;if(tc)td=Hn(tc);else{for(var tg,t8,ty=0;ty<tf;++ty){if(0===tp.length)return this.layout=kn.XY,void(this.stride=2);tp=tp[0]}tc=(2==(tg=td=tp.length)?t8=kn.XY:3==tg?t8=kn.XYZ:4==tg&&(t8=kn.XYZM),t8)}this.layout=tc,this.stride=td},tp.prototype.applyTransform=function(tc){this.flatCoordinates&&(tc(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},tp.prototype.rotate=function(tc,tp){var tf=this.getFlatCoordinates();if(tf){var td=this.getStride();Vn(tf,0,tf.length,td,tc,tp,tf),this.changed()}},tp.prototype.scale=function(tc,tp,tf){var td=tp;void 0===td&&(td=tc);var tg=tf;tg||(tg=C.getCenter(this.getExtent()));var t8=this.getFlatCoordinates();if(t8){var ty=this.getStride();(function(tc,tp,tf,td,tg,t8,ty,tv){for(var tm=tv||[],t$=ty[0],tx=ty[1],tC=0,tE=0;tE<tf;tE+=td){var t_=tc[tE]-t$,tS=tc[tE+1]-tx;tm[tC++]=t$+tg*t_,tm[tC++]=tx+t8*tS;for(var tw=tE+2;tw<tE+td;++tw)tm[tC++]=tc[tw]}tv&&tm.length!=tC&&(tm.length=tC)})(t8,0,t8.length,ty,tc,td,tg,t8),this.changed()}},tp.prototype.translate=function(tc,tp){var tf=this.getFlatCoordinates();if(tf){var td=this.getStride();(function(tc,tp,tf,td,tg,t8,ty){for(var tv=ty||[],tm=0,t$=0;t$<tf;t$+=td){tv[tm++]=tc[t$]+tg,tv[tm++]=tc[t$+1]+t8;for(var tx=t$+2;tx<t$+td;++tx)tv[tm++]=tc[tx]}ty&&tv.length!=tm&&(tv.length=tm)})(tf,0,tf.length,td,tc,tp,tf),this.changed()}},tp}(Xn.default);function Qn(tc,tp,tf,td,tg,t8,ty){var tv,tm=tc[tp],t$=tc[tp+1],tx=tc[tf]-tm,tC=tc[tf+1]-t$;if(0===tx&&0===tC)tv=tp;else{var tE=((tg-tm)*tx+(t8-t$)*tC)/(tx*tx+tC*tC);if(tE>1)tv=tf;else{if(tE>0){for(var t_=0;t_<td;++t_)ty[t_]=E.lerp(tc[tp+t_],tc[tf+t_],tE);return void(ty.length=td)}tv=tp}}for(t_=0;t_<td;++t_)ty[t_]=tc[tv+t_];ty.length=td}function $n(tc,tp,tf,td,tg){var t8=tc[tp],ty=tc[tp+1];for(tp+=td;tp<tf;tp+=td){var tv=tc[tp],tm=tc[tp+1],t$=E.squaredDistance(t8,ty,tv,tm);t$>tg&&(tg=t$),t8=tv,ty=tm}return tg}function ti(tc,tp,tf,td,tg){for(var t8=0,ty=tf.length;t8<ty;++t8){var tv=tf[t8];tg=$n(tc,tp,tv,td,tg),tp=tv}return tg}function ei(tc,tp,tf,td,tg,t8,ty,tv,tm,t$,tx){if(tp==tf)return t$;if(0===tg){if((tE=E.squaredDistance(ty,tv,tc[tp],tc[tp+1]))<t$){for(tC=0;tC<td;++tC)tm[tC]=tc[tp+tC];return tm.length=td,tE}return t$}for(var tC,tE,t_=tx||[NaN,NaN],tS=tp+td;tS<tf;)if(Qn(tc,tS-td,tS,td,ty,tv,t_),(tE=E.squaredDistance(ty,tv,t_[0],t_[1]))<t$){for(t$=tE,tC=0;tC<td;++tC)tm[tC]=t_[tC];tm.length=td,tS+=td}else tS+=td*Math.max((Math.sqrt(tE)-Math.sqrt(t$))/tg|0,1);if(t8&&(Qn(tc,tf-td,tp,td,ty,tv,t_),(tE=E.squaredDistance(ty,tv,t_[0],t_[1]))<t$)){for(t$=tE,tC=0;tC<td;++tC)tm[tC]=t_[tC];tm.length=td}return t$}function ni(tc,tp,tf,td,tg,t8,ty,tv,tm,t$,tx){for(var tC=tx||[NaN,NaN],tE=0,t_=tf.length;tE<t_;++tE){var tS=tf[tE];t$=ei(tc,tp,tS,td,tg,t8,ty,tv,tm,t$,tC),tp=tS}return t$}function ii(tc,tp,tf,td){for(var tg=0,t8=tf.length;tg<t8;++tg)for(var ty=tf[tg],tv=0;tv<td;++tv)tc[tp++]=ty[tv];return tp}function ri(tc,tp,tf,td,tg){for(var t8=tg||[],ty=0,tv=0,tm=tf.length;tv<tm;++tv){var t$=ii(tc,tp,tf[tv],td);t8[ty++]=t$,tp=t$}return t8.length=ty,t8}function oi(tc,tp,tf,td,tg,t8,ty){var tv=(tf-tp)/td;if(tv<3){for(;tp<tf;tp+=td)t8[ty++]=tc[tp],t8[ty++]=tc[tp+1];return ty}var tm=Array(tv);tm[0]=1,tm[tv-1]=1;for(var t$=[tp,tf-td],tx=0;t$.length>0;){for(var tC=t$.pop(),tE=t$.pop(),t_=0,tS=tc[tE],tw=tc[tE+1],tR=tc[tC],tT=tc[tC+1],tI=tE+td;tI<tC;tI+=td){var tO=tc[tI],tP=tc[tI+1],tL=E.squaredSegmentDistance(tO,tP,tS,tw,tR,tT);tL>t_&&(tx=tI,t_=tL)}t_>tg&&(tm[(tx-tp)/td]=1,tE+td<tx&&t$.push(tE,tx),tx+td<tC&&t$.push(tx,tC))}for(tI=0;tI<tv;++tI)tm[tI]&&(t8[ty++]=tc[tp+tI*td],t8[ty++]=tc[tp+tI*td+1]);return ty}function ai(tc,tp,tf,td,tg,t8,ty,tv){for(var tm=0,t$=tf.length;tm<t$;++tm){var tx=tf[tm];ty=oi(tc,tp,tx,td,tg,t8,ty),tv.push(ty),tp=tx}return ty}function si(tc,tp){return tp*Math.round(tc/tp)}function li(tc,tp,tf,td,tg,t8,ty){if(tp==tf)return ty;var tv,tm,t$=si(tc[tp],tg),tx=si(tc[tp+1],tg);tp+=td,t8[ty++]=t$,t8[ty++]=tx;do if(tv=si(tc[tp],tg),tm=si(tc[tp+1],tg),(tp+=td)==tf)return t8[ty++]=tv,t8[ty++]=tm,ty;while(tv==t$&&tm==tx);for(;tp<tf;){var tC=si(tc[tp],tg),tE=si(tc[tp+1],tg);if(tp+=td,tC!=tv||tE!=tm){var t_=tv-t$,tS=tm-tx,tw=tC-t$,tR=tE-tx;t_*tR==tS*tw&&(t_<0&&tw<t_||t_==tw||t_>0&&tw>t_)&&(tS<0&&tR<tS||tS==tR||tS>0&&tR>tS)?(tv=tC,tm=tE):(t8[ty++]=tv,t8[ty++]=tm,t$=tv,tx=tm,tv=tC,tm=tE)}}return t8[ty++]=tv,t8[ty++]=tm,ty}function ui(tc,tp,tf,td,tg,t8,ty,tv){for(var tm=0,t$=tf.length;tm<t$;++tm){var tx=tf[tm];ty=li(tc,tp,tx,td,tg,t8,ty),tv.push(ty),tp=tx}return ty}function hi(tc,tp,tf,td,tg){for(var t8=void 0!==tg?tg:[],ty=0,tv=tp;tv<tf;tv+=td)t8[ty++]=tc.slice(tv,tv+td);return t8.length=ty,t8}function ci(tc,tp,tf,td,tg){for(var t8=void 0!==tg?tg:[],ty=0,tv=0,tm=tf.length;tv<tm;++tv){var t$=tf[tv];t8[ty++]=hi(tc,tp,t$,td,t8[ty]),tp=t$}return t8.length=ty,t8}function pi(tc,tp,tf,td,tg){for(var t8=void 0!==tg?tg:[],ty=0,tv=0,tm=tf.length;tv<tm;++tv){var t$=tf[tv];t8[ty++]=ci(tc,tp,t$,td,t8[ty]),tp=t$[t$.length-1]}return t8.length=ty,t8}function fi(tc,tp,tf,td){for(var tg=0,t8=tc[tf-td],ty=tc[tf-td+1];tp<tf;tp+=td){var tv=tc[tp],tm=tc[tp+1];tg+=ty*tv-t8*tm,t8=tv,ty=tm}return tg/2}function di(tc,tp,tf,td){for(var tg=0,t8=0,ty=tf.length;t8<ty;++t8){var tv=tf[t8];tg+=fi(tc,tp,tv,td),tp=tv}return tg}E=a("9byFX"),C=a("9pD6L"),E=a("9byFX");var gi=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),_i=function(tc){function tp(tp,tf){var td=tc.call(this)||this;return td.maxDelta_=-1,td.maxDeltaRevision_=-1,void 0===tf||Array.isArray(tp[0])?td.setCoordinates(tp,tf):td.setFlatCoordinates(tf,tp),td}return gi(tp,tc),tp.prototype.clone=function(){return new tp(this.flatCoordinates.slice(),this.layout)},tp.prototype.closestPointXY=function(tc,tp,tf,td){return td<C.closestSquaredDistanceXY(this.getExtent(),tc,tp)?td:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt($n(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ei(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,tc,tp,tf,td))},tp.prototype.getArea=function(){return fi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},tp.prototype.getCoordinates=function(){return hi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},tp.prototype.getSimplifiedGeometryInternal=function(tc){var tf=[];return tf.length=oi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,tc,tf,0),new tp(tf,kn.XY)},tp.prototype.getType=function(){return Ee.LINEAR_RING},tp.prototype.intersectsExtent=function(tc){return!1},tp.prototype.setCoordinates=function(tc,tp){this.setLayout(tp,tc,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ii(this.flatCoordinates,0,tc,this.stride),this.changed()},tp}(Un.default),yi={};e(yi,"default",()=>mi,tc=>mi=tc),C=a("9pD6L"),E=a("9byFX");var vi=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),mi=function(tc){function tp(tp,tf){var td=tc.call(this)||this;return td.setCoordinates(tp,tf),td}return vi(tp,tc),tp.prototype.clone=function(){var tc=new tp(this.flatCoordinates.slice(),this.layout);return tc.applyProperties(this),tc},tp.prototype.closestPointXY=function(tc,tp,tf,td){var tg=this.flatCoordinates,t8=E.squaredDistance(tc,tp,tg[0],tg[1]);if(t8<td){for(var ty=this.stride,tv=0;tv<ty;++tv)tf[tv]=tg[tv];return tf.length=ty,t8}return td},tp.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},tp.prototype.computeExtent=function(tc){return C.createOrUpdateFromCoordinate(this.flatCoordinates,tc)},tp.prototype.getType=function(){return Ee.POINT},tp.prototype.intersectsExtent=function(tc){return C.containsXY(tc,this.flatCoordinates[0],this.flatCoordinates[1])},tp.prototype.setCoordinates=function(tc,tp){this.setLayout(tp,tc,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(tc,tp,tf,td){for(var tg=0,t8=tf.length;tg<t8;++tg)tc[tp++]=tf[tg];return tp}(this.flatCoordinates,0,tc,this.stride),this.changed()},tp}(Un.default);function xi(tc,tp,tf,td,tg){return!C.forEachCorner(tg,function(tg){return!Ci(tc,tp,tf,td,tg[0],tg[1])})}function Ci(tc,tp,tf,td,tg,t8){for(var ty=0,tv=tc[tf-td],tm=tc[tf-td+1];tp<tf;tp+=td){var t$=tc[tp],tx=tc[tp+1];tm<=t8?tx>t8&&(t$-tv)*(t8-tm)-(tg-tv)*(tx-tm)>0&&ty++:tx<=t8&&(t$-tv)*(t8-tm)-(tg-tv)*(tx-tm)<0&&ty--,tv=t$,tm=tx}return 0!==ty}function Ei(tc,tp,tf,td,tg,t8){if(0===tf.length||!Ci(tc,tp,tf[0],td,tg,t8))return!1;for(var ty=1,tv=tf.length;ty<tv;++ty)if(Ci(tc,tf[ty-1],tf[ty],td,tg,t8))return!1;return!0}function Si(tc,tp,tf,td,tg,t8,ty){for(var tv,tm,t$,tx,tC,tE,t_,tS=tg[t8+1],tw=[],tR=0,tT=tf.length;tR<tT;++tR){var tI=tf[tR];for(tx=tc[tI-td],tE=tc[tI-td+1],tv=tp;tv<tI;tv+=td)tC=tc[tv],t_=tc[tv+1],(tS<=tE&&t_<=tS||tE<=tS&&tS<=t_)&&(t$=(tS-tE)/(t_-tE)*(tC-tx)+tx,tw.push(t$)),tx=tC,tE=t_}var tO=NaN,tP=-1/0;for(tw.sort(Rn.numberSafeCompareFunction),tx=tw[0],tv=1,tm=tw.length;tv<tm;++tv){var tL=Math.abs((tC=tw[tv])-tx);tL>tP&&Ei(tc,tp,tf,td,t$=(tx+tC)/2,tS)&&(tO=t$,tP=tL),tx=tC}return isNaN(tO)&&(tO=tg[t8]),ty?(ty.push(tO,tS,tP),ty):[tO,tS,tP]}function wi(tc,tp,tf,td,tg){var t8;for(tp+=td;tp<tf;tp+=td)if(t8=tg(tc.slice(tp-td,tp),tc.slice(tp,tp+td)))return t8;return!1}function Oi(tc,tp,tf,td,tg){var t8=C.extendFlatCoordinates(C.createEmpty(),tc,tp,tf,td);return!!C.intersects(tg,t8)&&(!!C.containsExtent(tg,t8)||t8[0]>=tg[0]&&t8[2]<=tg[2]||t8[1]>=tg[1]&&t8[3]<=tg[3]||wi(tc,tp,tf,td,function(tc,tp){return C.intersectsSegment(tg,tc,tp)}))}function Ti(tc,tp,tf,td,tg){var t8,ty,tv,tm,t$;if(t8=tc,ty=tp,tv=tf[0],tm=td,!(Oi(t8,ty,tv,tm,t$=tg)||Ci(t8,ty,tv,tm,t$[0],t$[1])||Ci(t8,ty,tv,tm,t$[0],t$[3])||Ci(t8,ty,tv,tm,t$[2],t$[1])||Ci(t8,ty,tv,tm,t$[2],t$[3])))return!1;if(1===tf.length)return!0;for(var tx=1,tC=tf.length;tx<tC;++tx)if(xi(tc,tf[tx-1],tf[tx],td,tg)&&!Oi(tc,tf[tx-1],tf[tx],td,tg))return!1;return!0}function bi(tc,tp,tf,td){for(;tp<tf-td;){for(var tg=0;tg<td;++tg){var t8=tc[tp+tg];tc[tp+tg]=tc[tf-td+tg],tc[tf-td+tg]=t8}tp+=td,tf-=td}}function Ri(tc,tp,tf,td){for(var tg=0,t8=tc[tf-td],ty=tc[tf-td+1];tp<tf;tp+=td){var tv=tc[tp],tm=tc[tp+1];tg+=(tv-t8)*(tm+ty),t8=tv,ty=tm}return 0===tg?void 0:tg>0}function Ii(tc,tp,tf,td,tg){for(var t8=void 0!==tg&&tg,ty=0,tv=tf.length;ty<tv;++ty){var tm=tf[ty],t$=Ri(tc,tp,tm,td);if(0===ty){if(t8&&t$||!t8&&!t$)return!1}else if(t8&&!t$||!t8&&t$)return!1;tp=tm}return!0}function Pi(tc,tp,tf,td,tg){for(var t8=void 0!==tg&&tg,ty=0,tv=tf.length;ty<tv;++ty){var tm=tf[ty],t$=Ri(tc,tp,tm,td);(0===ty?t8&&t$||!t8&&!t$:t8&&!t$||!t8&&t$)&&bi(tc,tp,tm,td),tp=tm}return tp}function Li(tc,tp,tf,td,tg){for(var t8=0,ty=tf.length;t8<ty;++t8)tp=Pi(tc,tp,tf[t8],td,tg);return tp}C=a("9pD6L"),Rn=a("fVVyM"),C=a("9pD6L"),Rn=a("fVVyM"),C=a("9pD6L"),E=a("9byFX");var Mi=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Fi=function(tc){function tp(tp,tf,td){var tg=tc.call(this)||this;return tg.ends_=[],tg.flatInteriorPointRevision_=-1,tg.flatInteriorPoint_=null,tg.maxDelta_=-1,tg.maxDeltaRevision_=-1,tg.orientedRevision_=-1,tg.orientedFlatCoordinates_=null,void 0!==tf&&td?(tg.setFlatCoordinates(tf,tp),tg.ends_=td):tg.setCoordinates(tp,tf),tg}return Mi(tp,tc),tp.prototype.appendLinearRing=function(tc){this.flatCoordinates?Rn.extend(this.flatCoordinates,tc.getFlatCoordinates()):this.flatCoordinates=tc.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},tp.prototype.clone=function(){var tc=new tp(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return tc.applyProperties(this),tc},tp.prototype.closestPointXY=function(tc,tp,tf,td){return td<C.closestSquaredDistanceXY(this.getExtent(),tc,tp)?td:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ti(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ni(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,tc,tp,tf,td))},tp.prototype.containsXY=function(tc,tp){return Ei(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,tc,tp)},tp.prototype.getArea=function(){return di(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},tp.prototype.getCoordinates=function(tc){var tp;return void 0!==tc?Pi(tp=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,tc):tp=this.flatCoordinates,ci(tp,0,this.ends_,this.stride)},tp.prototype.getEnds=function(){return this.ends_},tp.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var tc=C.getCenter(this.getExtent());this.flatInteriorPoint_=Si(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,tc,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},tp.prototype.getInteriorPoint=function(){return new yi.default(this.getFlatInteriorPoint(),kn.XYM)},tp.prototype.getLinearRingCount=function(){return this.ends_.length},tp.prototype.getLinearRing=function(tc){return tc<0||this.ends_.length<=tc?null:new zn.default(this.flatCoordinates.slice(0===tc?0:this.ends_[tc-1],this.ends_[tc]),this.layout)},tp.prototype.getLinearRings=function(){for(var tc=this.layout,tp=this.flatCoordinates,tf=this.ends_,td=[],tg=0,t8=0,ty=tf.length;t8<ty;++t8){var tv=tf[t8],tm=new zn.default(tp.slice(tg,tv),tc);td.push(tm),tg=tv}return td},tp.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var tc=this.flatCoordinates;Ii(tc,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=tc:(this.orientedFlatCoordinates_=tc.slice(),this.orientedFlatCoordinates_.length=Pi(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},tp.prototype.getSimplifiedGeometryInternal=function(tc){var tf=[],td=[];return tf.length=ui(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(tc),tf,0,td),new tp(tf,kn.XY,td)},tp.prototype.getType=function(){return Ee.POLYGON},tp.prototype.intersectsExtent=function(tc){return Ti(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,tc)},tp.prototype.setCoordinates=function(tc,tp){this.setLayout(tp,tc,2),this.flatCoordinates||(this.flatCoordinates=[]);var tf=ri(this.flatCoordinates,0,tc,this.stride,this.ends_);this.flatCoordinates.length=0===tf.length?0:tf[tf.length-1],this.changed()},tp}(Un.default),Ai=Fi;function Di(tc,tp,tf,td){for(var tg=tf||32,t8=[],ty=0;ty<tg;++ty)Rn.extend(t8,tn(tc,tp,2*Math.PI*ty/tg,td));return t8.push(t8[0],t8[1]),new Fi(t8,kn.XY,[t8.length])}function ji(tc){var tp=tc[0],tf=tc[1],td=tc[2],tg=tc[3],t8=[tp,tf,tp,tg,td,tg,td,tf,tp,tf];return new Fi(t8,kn.XY,[t8.length])}function Ni(tc,tp,tf){for(var td=tc.getStride(),tg=tc.getLayout(),t8=tc.getCenter(),ty=td*((tp||32)+1),tv=Array(ty),tm=0;tm<ty;tm+=td){tv[tm]=0,tv[tm+1]=0;for(var t$=2;t$<td;t$++)tv[tm+t$]=t8[t$]}var tx=[tv.length],tC=new Fi(tv,tg,tx);return Gi(tC,t8,tc.getRadius(),tf),tC}function Gi(tc,tp,tf,td){for(var tg=tc.getFlatCoordinates(),t8=tc.getStride(),ty=tg.length/t8-1,tv=td||0,tm=0;tm<=ty;++tm){var t$=tm*t8,tx=tv+2*E.modulo(tm,ty)*Math.PI/ty;tg[t$]=tp[0]+tf*Math.cos(tx),tg[t$+1]=tp[1]+tf*Math.sin(tx)}tc.changed()}var ki=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),zi=0;function Ui(tc,tp){setTimeout(function(){tc(tp)},0)}function Xi(tc){if(void 0!==tc.extent){var tp=void 0===tc.smoothExtentConstraint||tc.smoothExtentConstraint;return Tn(tc.extent,tc.constrainOnlyCenter,tp)}var tf=hn(tc.projection,"EPSG:3857");if(!0!==tc.multiWorld&&tf.isGlobal()){var td=tf.getExtent().slice();return td[0]=-1/0,td[2]=1/0,Tn(td,!1,!1)}return bn}function Yi(tc){var tp,tf,td,tg=void 0!==tc.minZoom?tc.minZoom:zi,t8=void 0!==tc.maxZoom?tc.maxZoom:28,ty=void 0!==tc.zoomFactor?tc.zoomFactor:2,tv=void 0!==tc.multiWorld&&tc.multiWorld,tm=void 0===tc.smoothResolutionConstraint||tc.smoothResolutionConstraint,t$=void 0!==tc.showFullExtent&&tc.showFullExtent,tx=hn(tc.projection,"EPSG:3857"),tC=tx.getExtent(),tE=tc.constrainOnlyCenter,t_=tc.extent;if(tv||t_||!tx.isGlobal()||(tE=!1,t_=tC),void 0!==tc.resolutions){var tS,tw,tR,tT,tI=tc.resolutions;tf=tI[tg],td=void 0!==tI[t8]?tI[t8]:tI[tI.length-1],tp=tc.constrainResolution?(tS=tI,tw=tm,tR=!tE&&t_,tT=t$,function(tc,tp,tf,td){if(void 0!==tc){var tg=tS[0],t8=tS[tS.length-1],ty=tR?In(tg,tR,tf,tT):tg;if(td)return void 0===tw||tw?Pn(tc,ty,t8):E.clamp(tc,t8,ty);var tv=Math.min(ty,tc),tm=Math.floor(Rn.linearFindNearest(tS,tv,tp));return tS[tm]>ty&&tm<tS.length-1?tS[tm+1]:tS[tm]}}):Ln(tf,td,tm,!tE&&t_,t$)}else{var tO,tP,tL,tb,tF,tD,tA=(tC?Math.max(C.getWidth(tC),C.getHeight(tC)):360*we[Oe.DEGREES]/tx.getMetersPerUnit())/Pe/Math.pow(2,zi);void 0!==(tf=tc.maxResolution)?tg=0:tf=tA/Math.pow(ty,tg),void 0===(td=tc.minResolution)&&(td=void 0!==tc.maxZoom?void 0!==tc.maxResolution?tf/Math.pow(ty,t8):tA/Math.pow(ty,t8):tA/Math.pow(2,28-zi)),t8=tg+Math.floor(Math.log(tf/td)/Math.log(ty)),td=tf/Math.pow(ty,t8-tg),tp=tc.constrainResolution?(tO=ty,tP=tf,tL=td,tb=tm,tF=!tE&&t_,tD=t$,function(tc,tp,tf,td){if(void 0!==tc){var tg=tF?In(tP,tF,tf,tD):tP,t8=void 0!==tL?tL:0;if(td)return void 0===tb||tb?Pn(tc,tg,t8):E.clamp(tc,t8,tg);var ty=Math.min(tg,tc);return E.clamp(tP/Math.pow(tO,Math.max(Math.ceil(Math.log(tP/tg)/Math.log(tO)-1e-9),Math.floor(Math.log(tP/ty)/Math.log(tO)+(-tp*(.5-1e-9)+.5)))),t8,tg)}}):Ln(tf,td,tm,!tE&&t_,t$)}return{constraint:tp,maxResolution:tf,minResolution:td,minZoom:tg,zoomFactor:ty}}function Vi(tc){var tp,tf,td,tg;if(void 0===tc.enableRotation||tc.enableRotation){var t8=tc.constrainRotation;return void 0===t8||!0===t8?(tg=td||E.toRadians(5),function(tc,tp){return tp?tc:void 0!==tc?Math.abs(tc)<=tg?0:tc:void 0}):!1===t8?Fn:"number"==typeof t8?(tf=2*Math.PI/(tp=t8),function(tc,tp){return tp?tc:void 0!==tc?tc=Math.floor(tc/tf+.5)*tf:void 0}):Fn}return Mn}function Wi(tc){return!(tc.sourceCenter&&tc.targetCenter&&!Q(tc.sourceCenter,tc.targetCenter))&&tc.sourceResolution===tc.targetResolution&&tc.sourceRotation===tc.targetRotation}function Ki(tc,tp,tf,td,tg){var t8=Math.cos(-tg),ty=Math.sin(-tg),tv=tc[0]*t8-tc[1]*ty,tm=tc[1]*t8+tc[0]*ty;return[(tv+=(tp[0]/2-tf[0])*td)*t8-(tm+=(tf[1]-tp[1]/2)*td)*(ty=-ty),tm*t8+tv*ty,]}var Bi=function(tc){function tp(tp){var tf=tc.call(this)||this;tf.on,tf.once,tf.un;var td=B.assign({},tp);return tf.hints_=[0,0],tf.animations_=[],tf.updateAnimationKey_,tf.projection_=hn(td.projection,"EPSG:3857"),tf.viewportSize_=[100,100],tf.targetCenter_=null,tf.targetResolution_,tf.targetRotation_,tf.nextCenter_=null,tf.nextResolution_,tf.nextRotation_,tf.cancelAnchor_=void 0,td.projection&&nn(),td.center&&(td.center=En(td.center,tf.projection_)),td.extent&&(td.extent=wn(td.extent,tf.projection_)),tf.applyOptions_(td),tf}return ki(tp,tc),tp.prototype.applyOptions_=function(tc){var tp=B.assign({},tc);for(var tf in Re)delete tp[tf];this.setProperties(tp,!0);var td=Yi(tc);this.maxResolution_=td.maxResolution,this.minResolution_=td.minResolution,this.zoomFactor_=td.zoomFactor,this.resolutions_=tc.resolutions,this.padding_=tc.padding,this.minZoom_=td.minZoom;var tg=Xi(tc),t8=td.constraint,ty=Vi(tc);this.constraints_={center:tg,resolution:t8,rotation:ty},this.setRotation(void 0!==tc.rotation?tc.rotation:0),this.setCenterInternal(void 0!==tc.center?tc.center:null),void 0!==tc.resolution?this.setResolution(tc.resolution):void 0!==tc.zoom&&this.setZoom(tc.zoom)},Object.defineProperty(tp.prototype,"padding",{get:function(){return this.padding_},set:function(tc){var tp=this.padding_;this.padding_=tc;var tf=this.getCenter();if(tf){var td=tc||[0,0,0,0];tp=tp||[0,0,0,0];var tg=this.getResolution(),t8=tg/2*(td[3]-tp[3]+tp[1]-td[1]),ty=tg/2*(td[0]-tp[0]+tp[2]-td[2]);this.setCenterInternal([tf[0]+t8,tf[1]-ty])}},enumerable:!1,configurable:!0}),tp.prototype.getUpdatedOptions_=function(tc){var tp=this.getProperties();return void 0!==tp.resolution?tp.resolution=this.getResolution():tp.zoom=this.getZoom(),tp.center=this.getCenterInternal(),tp.rotation=this.getRotation(),B.assign({},tp,tc)},tp.prototype.animate=function(tc){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var tp=Array(arguments.length),tf=0;tf<tp.length;++tf){var td=arguments[tf];td.center&&((td=B.assign({},td)).center=En(td.center,this.getProjection())),td.anchor&&((td=B.assign({},td)).anchor=En(td.anchor,this.getProjection())),tp[tf]=td}this.animateInternal.apply(this,tp)},tp.prototype.animateInternal=function(tc){var tp,tf=arguments.length;tf>1&&"function"==typeof arguments[tf-1]&&(tp=arguments[tf-1],--tf);for(var td=0;td<tf&&!this.isDef();++td){var tg=arguments[td];tg.center&&this.setCenterInternal(tg.center),void 0!==tg.zoom?this.setZoom(tg.zoom):tg.resolution&&this.setResolution(tg.resolution),void 0!==tg.rotation&&this.setRotation(tg.rotation)}if(td!==tf){for(var t8=Date.now(),ty=this.targetCenter_.slice(),tv=this.targetResolution_,tm=this.targetRotation_,t$=[];td<tf;++td){var tx=arguments[td],tC={start:t8,complete:!1,anchor:tx.anchor,duration:void 0!==tx.duration?tx.duration:1e3,easing:tx.easing||jn,callback:tp};if(tx.center&&(tC.sourceCenter=ty,tC.targetCenter=tx.center.slice(),ty=tC.targetCenter),void 0!==tx.zoom?(tC.sourceResolution=tv,tC.targetResolution=this.getResolutionForZoom(tx.zoom),tv=tC.targetResolution):tx.resolution&&(tC.sourceResolution=tv,tC.targetResolution=tx.resolution,tv=tC.targetResolution),void 0!==tx.rotation){tC.sourceRotation=tm;var tE=E.modulo(tx.rotation-tm+Math.PI,2*Math.PI)-Math.PI;tC.targetRotation=tm+tE,tm=tC.targetRotation}Wi(tC)?tC.complete=!0:t8+=tC.duration,t$.push(tC)}this.animations_.push(t$),this.setHint(Te,1),this.updateAnimations_()}else tp&&Ui(tp,!0)},tp.prototype.getAnimating=function(){return this.hints_[Te]>0},tp.prototype.getInteracting=function(){return this.hints_[be]>0},tp.prototype.cancelAnimations=function(){var tc;this.setHint(Te,-this.hints_[Te]);for(var tp=0,tf=this.animations_.length;tp<tf;++tp){var td=this.animations_[tp];if(td[0].callback&&Ui(td[0].callback,!1),!tc)for(var tg=0,t8=td.length;tg<t8;++tg){var ty=td[tg];if(!ty.complete){tc=ty.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=tc,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},tp.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var tc=Date.now(),tp=!1,tf=this.animations_.length-1;tf>=0;--tf){for(var td=this.animations_[tf],tg=!0,t8=0,ty=td.length;t8<ty;++t8){var tv=td[t8];if(!tv.complete){var tm=tc-tv.start,t$=tv.duration>0?tm/tv.duration:1;t$>=1?(tv.complete=!0,t$=1):tg=!1;var tx=tv.easing(t$);if(tv.sourceCenter){var tC=tv.sourceCenter[0],tE=tv.sourceCenter[1],t_=tv.targetCenter[0],tS=tv.targetCenter[1];this.nextCenter_=tv.targetCenter;var tw=tC+tx*(t_-tC),tR=tE+tx*(tS-tE);this.targetCenter_=[tw,tR]}if(tv.sourceResolution&&tv.targetResolution){var tT=1===tx?tv.targetResolution:tv.sourceResolution+tx*(tv.targetResolution-tv.sourceResolution);if(tv.anchor){var tI=this.getViewportSize_(this.getRotation()),tO=this.constraints_.resolution(tT,0,tI,!0);this.targetCenter_=this.calculateCenterZoom(tO,tv.anchor)}this.nextResolution_=tv.targetResolution,this.targetResolution_=tT,this.applyTargetState_(!0)}if(void 0!==tv.sourceRotation&&void 0!==tv.targetRotation){var tP=1===tx?E.modulo(tv.targetRotation+Math.PI,2*Math.PI)-Math.PI:tv.sourceRotation+tx*(tv.targetRotation-tv.sourceRotation);if(tv.anchor){var tL=this.constraints_.rotation(tP,!0);this.targetCenter_=this.calculateCenterRotate(tL,tv.anchor)}this.nextRotation_=tv.targetRotation,this.targetRotation_=tP}if(this.applyTargetState_(!0),tp=!0,!tv.complete)break}}if(tg){this.animations_[tf]=null,this.setHint(Te,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var tb=td[0].callback;tb&&Ui(tb,!0)}}this.animations_=this.animations_.filter(Boolean),tp&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},tp.prototype.calculateCenterRotate=function(tc,tp){var tf,td,tg,t8=this.getCenterInternal();return void 0!==t8&&($(tf=[t8[0]-tp[0],t8[1]-tp[1]],tc-this.getRotation()),tg=tp,(td=tf)[0]+=+tg[0],td[1]+=+tg[1]),tf},tp.prototype.calculateCenterZoom=function(tc,tp){var tf,td=this.getCenterInternal(),tg=this.getResolution();return void 0!==td&&void 0!==tg&&(tf=[tp[0]-tc*(tp[0]-td[0])/tg,tp[1]-tc*(tp[1]-td[1])/tg]),tf},tp.prototype.getViewportSize_=function(tc){var tp=this.viewportSize_;if(tc){var tf=tp[0],td=tp[1];return[Math.abs(tf*Math.cos(tc))+Math.abs(td*Math.sin(tc)),Math.abs(tf*Math.sin(tc))+Math.abs(td*Math.cos(tc)),]}return tp},tp.prototype.setViewportSize=function(tc){this.viewportSize_=Array.isArray(tc)?tc.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},tp.prototype.getCenter=function(){var tc=this.getCenterInternal();return tc?Cn(tc,this.getProjection()):tc},tp.prototype.getCenterInternal=function(){return this.get(Re.CENTER)},tp.prototype.getConstraints=function(){return this.constraints_},tp.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},tp.prototype.getHints=function(tc){return void 0!==tc?(tc[0]=this.hints_[0],tc[1]=this.hints_[1],tc):this.hints_.slice()},tp.prototype.calculateExtent=function(tc){return Sn(this.calculateExtentInternal(tc),this.getProjection())},tp.prototype.calculateExtentInternal=function(tc){var tp=tc||this.getViewportSizeMinusPadding_(),tf=this.getCenterInternal();g.assert(tf,1);var td=this.getResolution();g.assert(void 0!==td,2);var tg=this.getRotation();return g.assert(void 0!==tg,3),C.getForViewAndSize(tf,td,tg,tp)},tp.prototype.getMaxResolution=function(){return this.maxResolution_},tp.prototype.getMinResolution=function(){return this.minResolution_},tp.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},tp.prototype.setMaxZoom=function(tc){this.applyOptions_(this.getUpdatedOptions_({maxZoom:tc}))},tp.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},tp.prototype.setMinZoom=function(tc){this.applyOptions_(this.getUpdatedOptions_({minZoom:tc}))},tp.prototype.setConstrainResolution=function(tc){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:tc}))},tp.prototype.getProjection=function(){return this.projection_},tp.prototype.getResolution=function(){return this.get(Re.RESOLUTION)},tp.prototype.getResolutions=function(){return this.resolutions_},tp.prototype.getResolutionForExtent=function(tc,tp){return this.getResolutionForExtentInternal(wn(tc,this.getProjection()),tp)},tp.prototype.getResolutionForExtentInternal=function(tc,tp){var tf=tp||this.getViewportSizeMinusPadding_(),td=C.getWidth(tc)/tf[0],tg=C.getHeight(tc)/tf[1];return Math.max(td,tg)},tp.prototype.getResolutionForValueFunction=function(tc){var tp=tc||2,tf=this.getConstrainedResolution(this.maxResolution_),td=Math.log(tf/this.minResolution_)/Math.log(tp);return function(tc){return tf/Math.pow(tp,tc*td)}},tp.prototype.getRotation=function(){return this.get(Re.ROTATION)},tp.prototype.getValueForResolutionFunction=function(tc){var tp=Math.log(tc||2),tf=this.getConstrainedResolution(this.maxResolution_),td=Math.log(tf/this.minResolution_)/tp;return function(tc){return Math.log(tf/tc)/tp/td}},tp.prototype.getViewportSizeMinusPadding_=function(tc){var tp=this.getViewportSize_(tc),tf=this.padding_;return tf&&(tp=[tp[0]-tf[1]-tf[3],tp[1]-tf[0]-tf[2]]),tp},tp.prototype.getState=function(){var tc=this.getProjection(),tp=this.getResolution(),tf=this.getRotation(),td=this.getCenterInternal(),tg=this.padding_;if(tg){var t8=this.getViewportSizeMinusPadding_();td=Ki(td,this.getViewportSize_(),[t8[0]/2+tg[3],t8[1]/2+tg[0]],tp,tf)}return{center:td.slice(0),projection:void 0!==tc?tc:null,resolution:tp,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:tf,zoom:this.getZoom()}},tp.prototype.getZoom=function(){var tc,tp=this.getResolution();return void 0!==tp&&(tc=this.getZoomForResolution(tp)),tc},tp.prototype.getZoomForResolution=function(tc){var tp,tf,td=this.minZoom_||0;if(this.resolutions_){var tg=Rn.linearFindNearest(this.resolutions_,tc,1);td=tg,tp=this.resolutions_[tg],tf=tg==this.resolutions_.length-1?2:tp/this.resolutions_[tg+1]}else tp=this.maxResolution_,tf=this.zoomFactor_;return td+Math.log(tp/tc)/Math.log(tf)},tp.prototype.getResolutionForZoom=function(tc){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var tp=E.clamp(Math.floor(tc),0,this.resolutions_.length-2),tf=this.resolutions_[tp]/this.resolutions_[tp+1];return this.resolutions_[tp]/Math.pow(tf,E.clamp(tc-tp,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,tc-this.minZoom_)},tp.prototype.fit=function(tc,tp){var tf;if(g.assert(Array.isArray(tc)||"function"==typeof tc.getSimplifiedGeometry,24),Array.isArray(tc)){g.assert(!C.isEmpty(tc),25);var td=wn(tc,this.getProjection());tf=Gn.fromExtent(td)}else if(tc.getType()===Ee.CIRCLE)td=wn(tc.getExtent(),this.getProjection()),(tf=Gn.fromExtent(td)).rotate(this.getRotation(),C.getCenter(td));else{var tg=xn();tf=tg?tc.clone().transform(tg,this.getProjection()):tc}this.fitInternal(tf,tp)},tp.prototype.rotatedExtentForGeometry=function(tc){for(var tp=this.getRotation(),tf=Math.cos(tp),td=Math.sin(-tp),tg=tc.getFlatCoordinates(),t8=tc.getStride(),ty=1/0,tv=1/0,tm=-1/0,t$=-1/0,tx=0,tC=tg.length;tx<tC;tx+=t8){var tE=tg[tx]*tf-tg[tx+1]*td,t_=tg[tx]*td+tg[tx+1]*tf;ty=Math.min(ty,tE),tv=Math.min(tv,t_),tm=Math.max(tm,tE),t$=Math.max(t$,t_)}return[ty,tv,tm,t$]},tp.prototype.fitInternal=function(tc,tp){var tf=tp||{},td=tf.size;td||(td=this.getViewportSizeMinusPadding_());var tg,t8=void 0!==tf.padding?tf.padding:[0,0,0,0],ty=void 0!==tf.nearest&&tf.nearest;tg=void 0!==tf.minResolution?tf.minResolution:void 0!==tf.maxZoom?this.getResolutionForZoom(tf.maxZoom):0;var tv=this.rotatedExtentForGeometry(tc),tm=this.getResolutionForExtentInternal(tv,[td[0]-t8[1]-t8[3],td[1]-t8[0]-t8[2],]);tm=isNaN(tm)?tg:Math.max(tm,tg),tm=this.getConstrainedResolution(tm,ty?0:1);var t$=this.getRotation(),tx=Math.sin(t$),tC=Math.cos(t$),tE=C.getCenter(tv);tE[0]+=(t8[1]-t8[3])/2*tm,tE[1]+=(t8[0]-t8[2])/2*tm;var t_=tE[0]*tC-tE[1]*tx,tS=tE[1]*tC+tE[0]*tx,tw=this.getConstrainedCenter([t_,tS],tm),tR=tf.callback?tf.callback:p.VOID;void 0!==tf.duration?this.animateInternal({resolution:tm,center:tw,duration:tf.duration,easing:tf.easing},tR):(this.targetResolution_=tm,this.targetCenter_=tw,this.applyTargetState_(!1,!0),Ui(tR,!0))},tp.prototype.centerOn=function(tc,tp,tf){this.centerOnInternal(En(tc,this.getProjection()),tp,tf)},tp.prototype.centerOnInternal=function(tc,tp,tf){this.setCenterInternal(Ki(tc,tp,tf,this.getResolution(),this.getRotation()))},tp.prototype.calculateCenterShift=function(tc,tp,tf,td){var tg,t8=this.padding_;if(t8&&tc){var ty=this.getViewportSizeMinusPadding_(-tf),tv=Ki(tc,td,[ty[0]/2+t8[3],ty[1]/2+t8[0]],tp,tf);tg=[tc[0]-tv[0],tc[1]-tv[1]]}return tg},tp.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},tp.prototype.adjustCenter=function(tc){var tp=Cn(this.targetCenter_,this.getProjection());this.setCenter([tp[0]+tc[0],tp[1]+tc[1]])},tp.prototype.adjustCenterInternal=function(tc){var tp=this.targetCenter_;this.setCenterInternal([tp[0]+tc[0],tp[1]+tc[1]])},tp.prototype.adjustResolution=function(tc,tp){var tf=tp&&En(tp,this.getProjection());this.adjustResolutionInternal(tc,tf)},tp.prototype.adjustResolutionInternal=function(tc,tp){var tf=this.getAnimating()||this.getInteracting(),td=this.getViewportSize_(this.getRotation()),tg=this.constraints_.resolution(this.targetResolution_*tc,0,td,tf);tp&&(this.targetCenter_=this.calculateCenterZoom(tg,tp)),this.targetResolution_*=tc,this.applyTargetState_()},tp.prototype.adjustZoom=function(tc,tp){this.adjustResolution(Math.pow(this.zoomFactor_,-tc),tp)},tp.prototype.adjustRotation=function(tc,tp){tp&&(tp=En(tp,this.getProjection())),this.adjustRotationInternal(tc,tp)},tp.prototype.adjustRotationInternal=function(tc,tp){var tf=this.getAnimating()||this.getInteracting(),td=this.constraints_.rotation(this.targetRotation_+tc,tf);tp&&(this.targetCenter_=this.calculateCenterRotate(td,tp)),this.targetRotation_+=tc,this.applyTargetState_()},tp.prototype.setCenter=function(tc){this.setCenterInternal(tc?En(tc,this.getProjection()):tc)},tp.prototype.setCenterInternal=function(tc){this.targetCenter_=tc,this.applyTargetState_()},tp.prototype.setHint=function(tc,tp){return this.hints_[tc]+=tp,this.changed(),this.hints_[tc]},tp.prototype.setResolution=function(tc){this.targetResolution_=tc,this.applyTargetState_()},tp.prototype.setRotation=function(tc){this.targetRotation_=tc,this.applyTargetState_()},tp.prototype.setZoom=function(tc){this.setResolution(this.getResolutionForZoom(tc))},tp.prototype.applyTargetState_=function(tc,tp){var tf=this.getAnimating()||this.getInteracting()||tp,td=this.constraints_.rotation(this.targetRotation_,tf),tg=this.getViewportSize_(td),t8=this.constraints_.resolution(this.targetResolution_,0,tg,tf),ty=this.constraints_.center(this.targetCenter_,t8,tg,tf,this.calculateCenterShift(this.targetCenter_,t8,td,tg));this.get(Re.ROTATION)!==td&&this.set(Re.ROTATION,td),this.get(Re.RESOLUTION)!==t8&&(this.set(Re.RESOLUTION,t8),this.set("zoom",this.getZoom(),!0)),ty&&this.get(Re.CENTER)&&Q(this.get(Re.CENTER),ty)||this.set(Re.CENTER,ty),this.getAnimating()&&!tc&&this.cancelAnimations(),this.cancelAnchor_=void 0},tp.prototype.resolveConstraints=function(tc,tp,tf){var td=void 0!==tc?tc:200,tg=this.constraints_.rotation(this.targetRotation_),t8=this.getViewportSize_(tg),ty=this.constraints_.resolution(this.targetResolution_,tp||0,t8),tv=this.constraints_.center(this.targetCenter_,ty,t8,!1,this.calculateCenterShift(this.targetCenter_,ty,tg,t8));if(0===td&&!this.cancelAnchor_)return this.targetResolution_=ty,this.targetRotation_=tg,this.targetCenter_=tv,void this.applyTargetState_();var tm=tf||(0===td?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===ty&&this.getRotation()===tg&&this.getCenterInternal()&&Q(this.getCenterInternal(),tv)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:tg,center:tv,resolution:ty,duration:td,easing:Dn,anchor:tm}))},tp.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(be,1)},tp.prototype.endInteraction=function(tc,tp,tf){var td=tf&&En(tf,this.getProjection());this.endInteractionInternal(tc,tp,td)},tp.prototype.endInteractionInternal=function(tc,tp,tf){this.setHint(be,-1),this.resolveConstraints(tc,tp,tf)},tp.prototype.getConstrainedCenter=function(tc,tp){var tf=this.getViewportSize_(this.getRotation());return this.constraints_.center(tc,tp||this.getResolution(),tf)},tp.prototype.getConstrainedZoom=function(tc,tp){var tf=this.getResolutionForZoom(tc);return this.getZoomForResolution(this.getConstrainedResolution(tf,tp))},tp.prototype.getConstrainedResolution=function(tc,tp){var tf=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(tc,tp||0,tf)},tp}(vt.default);function Zi(tc){return tc[0]>0&&tc[1]>0}function Hi(tc,tp){return Array.isArray(tc)?tc:(void 0===tp?tp=[tc,tc]:(tp[0]=tc,tp[1]=tc),tp)}d=a("8UoiJ"),p=a("6wUzV"),g=a("4Cz58"),C=a("9pD6L"),f=a("9iPUS"),Z=a("ilM9F"),xt=a("DfnQm");var qi=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}();function Ji(tc){tc instanceof j.default?tc.setMapInternal(null):tc instanceof Kt.default&&tc.getLayers().forEach(Ji)}function Qi(tc,tp){if(tc instanceof j.default)tc.setMapInternal(tp);else if(tc instanceof Kt.default)for(var tf=tc.getLayers().getArray(),td=0,tg=tf.length;td<tg;++td)Qi(tf[td],tp)}var $i=function(tc){function tp(tp){var tf,td,tg,t8,ty,tv,tm,t$=tc.call(this)||this;t$.on,t$.once,t$.un;var tx=(tf=tp,td=null,void 0!==tf.keyboardEventTarget&&(td="string"==typeof tf.keyboardEventTarget?document.getElementById(tf.keyboardEventTarget):tf.keyboardEventTarget),tv={},tm=tf.layers&&"function"==typeof tf.layers.getLayers?tf.layers:new Kt.default({layers:tf.layers}),tv[ae]=tm,tv[le]=tf.target,tv[ue]=tf.view instanceof Ce.default?tf.view:new Ce.default,void 0!==tf.controls&&(Array.isArray(tf.controls)?tg=new Vt.default(tf.controls.slice()):(g.assert("function"==typeof tf.controls.getArray,47),tg=tf.controls)),void 0!==tf.interactions&&(Array.isArray(tf.interactions)?t8=new Vt.default(tf.interactions.slice()):(g.assert("function"==typeof tf.interactions.getArray,48),t8=tf.interactions)),void 0!==tf.overlays?Array.isArray(tf.overlays)?ty=new Vt.default(tf.overlays.slice()):(g.assert("function"==typeof tf.overlays.getArray,49),ty=tf.overlays):ty=new Vt.default,{controls:tg,interactions:t8,keyboardEventTarget:td,overlays:ty,values:tv});t$.renderComplete_,t$.loaded_=!0,t$.boundHandleBrowserEvent_=t$.handleBrowserEvent.bind(t$),t$.maxTilesLoading_=void 0!==tp.maxTilesLoading?tp.maxTilesLoading:16,t$.pixelRatio_=void 0!==tp.pixelRatio?tp.pixelRatio:d.DEVICE_PIXEL_RATIO,t$.postRenderTimeoutHandle_,t$.animationDelayKey_,t$.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(t$),t$.coordinateToPixelTransform_=[1,0,0,1,0,0],t$.pixelToCoordinateTransform_=[1,0,0,1,0,0],t$.frameIndex_=0,t$.frameState_=null,t$.previousExtent_=null,t$.viewPropertyListenerKey_=null,t$.viewChangeListenerKey_=null,t$.layerGroupPropertyListenerKeys_=null,t$.viewport_=document.createElement("div"),t$.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),t$.viewport_.style.position="relative",t$.viewport_.style.overflow="hidden",t$.viewport_.style.width="100%",t$.viewport_.style.height="100%",t$.overlayContainer_=document.createElement("div"),t$.overlayContainer_.style.position="absolute",t$.overlayContainer_.style.zIndex="0",t$.overlayContainer_.style.width="100%",t$.overlayContainer_.style.height="100%",t$.overlayContainer_.style.pointerEvents="none",t$.overlayContainer_.className="ol-overlaycontainer",t$.viewport_.appendChild(t$.overlayContainer_),t$.overlayContainerStopEvent_=document.createElement("div"),t$.overlayContainerStopEvent_.style.position="absolute",t$.overlayContainerStopEvent_.style.zIndex="0",t$.overlayContainerStopEvent_.style.width="100%",t$.overlayContainerStopEvent_.style.height="100%",t$.overlayContainerStopEvent_.style.pointerEvents="none",t$.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",t$.viewport_.appendChild(t$.overlayContainerStopEvent_),t$.mapBrowserEventHandler_=null,t$.moveTolerance_=tp.moveTolerance,t$.keyboardEventTarget_=tx.keyboardEventTarget,t$.targetChangeHandlerKeys_=null,t$.controls=tx.controls||new Vt.default,t$.interactions=tx.interactions||new Vt.default,t$.overlays_=tx.overlays,t$.overlayIdIndex_={},t$.renderer_=null,t$.postRenderFunctions_=[],t$.tileQueue_=new he.default(t$.getTilePriority.bind(t$),t$.handleTileChange_.bind(t$)),t$.addChangeListener(ae,t$.handleLayerGroupChanged_),t$.addChangeListener(ue,t$.handleViewChanged_),t$.addChangeListener(se,t$.handleSizeChanged_),t$.addChangeListener(le,t$.handleTargetChanged_),t$.setProperties(tx.values);var tC=t$;return!tp.view||tp.view instanceof Ce.default||tp.view.then(function(tc){tC.setView(new Ce.default(tc))}),t$.controls.addEventListener(Wt.default.ADD,(function(tc){tc.element.setMap(this)}).bind(t$)),t$.controls.addEventListener(Wt.default.REMOVE,(function(tc){tc.element.setMap(null)}).bind(t$)),t$.interactions.addEventListener(Wt.default.ADD,(function(tc){tc.element.setMap(this)}).bind(t$)),t$.interactions.addEventListener(Wt.default.REMOVE,(function(tc){tc.element.setMap(null)}).bind(t$)),t$.overlays_.addEventListener(Wt.default.ADD,(function(tc){this.addOverlayInternal_(tc.element)}).bind(t$)),t$.overlays_.addEventListener(Wt.default.REMOVE,(function(tc){var tp=tc.element.getId();void 0!==tp&&delete this.overlayIdIndex_[tp.toString()],tc.element.setMap(null)}).bind(t$)),t$.controls.forEach((function(tc){tc.setMap(this)}).bind(t$)),t$.interactions.forEach((function(tc){tc.setMap(this)}).bind(t$)),t$.overlays_.forEach(t$.addOverlayInternal_.bind(t$)),t$}return qi(tp,tc),tp.prototype.createRenderer=function(){throw Error("Use a map type that has a createRenderer method")},tp.prototype.addControl=function(tc){this.getControls().push(tc)},tp.prototype.addInteraction=function(tc){this.getInteractions().push(tc)},tp.prototype.addLayer=function(tc){this.getLayerGroup().getLayers().push(tc)},tp.prototype.handleLayerAdd_=function(tc){Qi(tc.layer,this)},tp.prototype.addOverlay=function(tc){this.getOverlays().push(tc)},tp.prototype.addOverlayInternal_=function(tc){var tp=tc.getId();void 0!==tp&&(this.overlayIdIndex_[tp.toString()]=tc),tc.setMap(this)},tp.prototype.disposeInternal=function(){this.setTarget(null),tc.prototype.disposeInternal.call(this)},tp.prototype.forEachFeatureAtPixel=function(tc,tp,tf){if(this.frameState_&&this.renderer_){var td=this.getCoordinateFromPixelInternal(tc),tg=void 0!==(tf=void 0!==tf?tf:{}).hitTolerance?tf.hitTolerance:0,t8=void 0!==tf.layerFilter?tf.layerFilter:p.TRUE,ty=!1!==tf.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(td,this.frameState_,tg,ty,tp,null,t8,null)}},tp.prototype.getFeaturesAtPixel=function(tc,tp){var tf=[];return this.forEachFeatureAtPixel(tc,function(tc){tf.push(tc)},tp),tf},tp.prototype.getAllLayers=function(){var tc=[];return function tp(tf){tf.forEach(function(tf){tf instanceof Kt.default?tp(tf.getLayers()):tc.push(tf)})}(this.getLayers()),tc},tp.prototype.forEachLayerAtPixel=function(tc,tp,tf){if(this.frameState_&&this.renderer_){var td=tf||{},tg=void 0!==td.hitTolerance?td.hitTolerance:0,t8=td.layerFilter||p.TRUE;return this.renderer_.forEachLayerAtPixel(tc,this.frameState_,tg,tp,t8)}},tp.prototype.hasFeatureAtPixel=function(tc,tp){if(!this.frameState_||!this.renderer_)return!1;var tf=this.getCoordinateFromPixelInternal(tc),td=void 0!==(tp=void 0!==tp?tp:{}).layerFilter?tp.layerFilter:p.TRUE,tg=void 0!==tp.hitTolerance?tp.hitTolerance:0,t8=!1!==tp.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(tf,this.frameState_,tg,t8,td,null)},tp.prototype.getEventCoordinate=function(tc){return this.getCoordinateFromPixel(this.getEventPixel(tc))},tp.prototype.getEventCoordinateInternal=function(tc){return this.getCoordinateFromPixelInternal(this.getEventPixel(tc))},tp.prototype.getEventPixel=function(tc){var tp=this.viewport_.getBoundingClientRect(),tf="changedTouches"in tc?tc.changedTouches[0]:tc;return[tf.clientX-tp.left,tf.clientY-tp.top]},tp.prototype.getTarget=function(){return this.get(le)},tp.prototype.getTargetElement=function(){var tc=this.getTarget();return void 0!==tc?"string"==typeof tc?document.getElementById(tc):tc:null},tp.prototype.getCoordinateFromPixel=function(tc){return Cn(this.getCoordinateFromPixelInternal(tc),this.getView().getProjection())},tp.prototype.getCoordinateFromPixelInternal=function(tc){var tp=this.frameState_;return tp?y(tp.pixelToCoordinateTransform,tc.slice()):null},tp.prototype.getControls=function(){return this.controls},tp.prototype.getOverlays=function(){return this.overlays_},tp.prototype.getOverlayById=function(tc){var tp=this.overlayIdIndex_[tc.toString()];return void 0!==tp?tp:null},tp.prototype.getInteractions=function(){return this.interactions},tp.prototype.getLayerGroup=function(){return this.get(ae)},tp.prototype.setLayers=function(tc){var tp=this.getLayerGroup();if(tc instanceof Vt.default)tp.setLayers(tc);else{var tf=tp.getLayers();tf.clear(),tf.extend(tc)}},tp.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},tp.prototype.getLoadingOrNotReady=function(){for(var tc=this.getLayerGroup().getLayerStatesArray(),tp=0,tf=tc.length;tp<tf;++tp){var td=tc[tp];if(td.visible){var tg=td.layer.getRenderer();if(tg&&!tg.ready)return!0;var t8=td.layer.getSource();if(t8&&t8.loading)return!0}}return!1},tp.prototype.getPixelFromCoordinate=function(tc){var tp=En(tc,this.getView().getProjection());return this.getPixelFromCoordinateInternal(tp)},tp.prototype.getPixelFromCoordinateInternal=function(tc){var tp=this.frameState_;return tp?y(tp.coordinateToPixelTransform,tc.slice(0,2)):null},tp.prototype.getRenderer=function(){return this.renderer_},tp.prototype.getSize=function(){return this.get(se)},tp.prototype.getView=function(){return this.get(ue)},tp.prototype.getViewport=function(){return this.viewport_},tp.prototype.getOverlayContainer=function(){return this.overlayContainer_},tp.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},tp.prototype.getOwnerDocument=function(){var tc=this.getTargetElement();return tc?tc.ownerDocument:document},tp.prototype.getTilePriority=function(tc,tp,tf,td){return he.getTilePriority(this.frameState_,tc,tp,tf,td)},tp.prototype.handleBrowserEvent=function(tc,tp){var tf=tp||tc.type,td=new Bt.default(tf,this,tc);this.handleMapBrowserEvent(td)},tp.prototype.handleMapBrowserEvent=function(tc){if(this.frameState_){var tp=tc.originalEvent,tf=tp.type;if(tf===ne||tf===k.default.WHEEL||tf===k.default.KEYDOWN){var td=this.getOwnerDocument(),tg=this.viewport_.getRootNode?this.viewport_.getRootNode():td,t8=tp.target;if(this.overlayContainerStopEvent_.contains(t8)||!(tg===td?td.documentElement:tg).contains(t8))return}if(tc.frameState=this.frameState_,!1!==this.dispatchEvent(tc))for(var ty=this.getInteractions().getArray().slice(),tv=ty.length-1;tv>=0;tv--){var tm=ty[tv];if(tm.getMap()===this&&tm.getActive()&&this.getTargetElement()&&(!tm.handleEvent(tc)||tc.propagationStopped))break}}},tp.prototype.handlePostRender=function(){var tc=this.frameState_,tp=this.tileQueue_;if(!tp.isEmpty()){var tf=this.maxTilesLoading_,td=tf;if(tc){var tg=tc.viewHints;if(tg[Te]||tg[be]){var t8=Date.now()-tc.time>8;tf=t8?0:8,td=t8?0:2}}tp.getTilesLoading()<tf&&(tp.reprioritize(),tp.loadMoreTiles(tf,td))}tc&&this.renderer_&&!tc.animate&&(!0===this.renderComplete_?(this.hasListener(W)&&this.renderer_.dispatchRenderEvent(W,tc),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Zt.default(oe.default.LOADEND,this,tc)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Zt.default(oe.default.LOADSTART,this,tc))));for(var ty=this.postRenderFunctions_,tv=0,tm=ty.length;tv<tm;++tv)ty[tv](this,tc);ty.length=0},tp.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},tp.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var tc=0,tp=this.targetChangeHandlerKeys_.length;tc<tp;++tc)Z.unlistenByKey(this.targetChangeHandlerKeys_[tc]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(k.default.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(k.default.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,xt.removeNode(this.viewport_)}var tf=this.getTargetElement();if(tf){for(var td in tf.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new $t.default(this,this.moveTolerance_),te)this.mapBrowserEventHandler_.addEventListener(te[td],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(k.default.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(k.default.WHEEL,this.boundHandleBrowserEvent_,!!d.PASSIVE_EVENT_LISTENERS&&{passive:!1});var tg=this.getOwnerDocument().defaultView,t8=this.keyboardEventTarget_?this.keyboardEventTarget_:tf;this.targetChangeHandlerKeys_=[Z.listen(t8,k.default.KEYDOWN,this.handleBrowserEvent,this),Z.listen(t8,k.default.KEYPRESS,this.handleBrowserEvent,this),Z.listen(tg,k.default.RESIZE,this.updateSize,this),]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},tp.prototype.handleTileChange_=function(){this.render()},tp.prototype.handleViewPropertyChanged_=function(){this.render()},tp.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Z.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Z.unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var tc=this.getView();tc&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Z.listen(tc,ot.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Z.listen(tc,k.default.CHANGE,this.handleViewPropertyChanged_,this),tc.resolveConstraints(0)),this.render()},tp.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Z.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var tc=this.getLayerGroup();tc&&(this.handleLayerAdd_(new Kt.GroupEvent("addlayer",tc)),this.layerGroupPropertyListenerKeys_=[Z.listen(tc,ot.default.PROPERTYCHANGE,this.render,this),Z.listen(tc,k.default.CHANGE,this.render,this),Z.listen(tc,"addlayer",this.handleLayerAdd_,this),Z.listen(tc,"removelayer",this.handleLayerRemove_,this),]),this.render()},tp.prototype.isRendered=function(){return!!this.frameState_},tp.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},tp.prototype.redrawText=function(){for(var tc=this.getLayerGroup().getLayerStatesArray(),tp=0,tf=tc.length;tp<tf;++tp){var td=tc[tp].layer;td.hasRenderer()&&td.getRenderer().handleFontsChanged()}},tp.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},tp.prototype.removeControl=function(tc){return this.getControls().remove(tc)},tp.prototype.removeInteraction=function(tc){return this.getInteractions().remove(tc)},tp.prototype.removeLayer=function(tc){return this.getLayerGroup().getLayers().remove(tc)},tp.prototype.handleLayerRemove_=function(tc){Ji(tc.layer)},tp.prototype.removeOverlay=function(tc){return this.getOverlays().remove(tc)},tp.prototype.renderFrame_=function(tc){var tp=this,tf=this.getSize(),td=this.getView(),tg=this.frameState_,t8=null;if(void 0!==tf&&Zi(tf)&&td&&td.isDef()){var ty=td.getHints(this.frameState_?this.frameState_.viewHints:void 0),tv=td.getState();if(t8={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:C.getForViewAndSize(tv.center,tv.resolution,tv.rotation,tf),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:tf,tileQueue:this.tileQueue_,time:tc,usedTiles:{},viewState:tv,viewHints:ty,wantedTiles:{},mapId:f.getUid(this),renderTargets:{}},tv.nextCenter&&tv.nextResolution){var tm=isNaN(tv.nextRotation)?tv.rotation:tv.nextRotation;t8.nextExtent=C.getForViewAndSize(tv.nextCenter,tv.nextResolution,tm,tf)}}this.frameState_=t8,this.renderer_.renderFrame(t8),t8&&(t8.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,t8.postRenderFunctions),tg&&(this.previousExtent_&&(C.isEmpty(this.previousExtent_)||C.equals(t8.extent,this.previousExtent_))||(this.dispatchEvent(new Zt.default(oe.default.MOVESTART,this,tg)),this.previousExtent_=C.createOrUpdateEmpty(this.previousExtent_))),!this.previousExtent_||t8.viewHints[Te]||t8.viewHints[be]||C.equals(t8.extent,this.previousExtent_)||(this.dispatchEvent(new Zt.default(oe.default.MOVEEND,this,t8)),C.clone(t8.extent,this.previousExtent_))),this.dispatchEvent(new Zt.default(oe.default.POSTRENDER,this,t8)),this.renderComplete_=this.hasListener(oe.default.LOADSTART)||this.hasListener(oe.default.LOADEND)||this.hasListener(W)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){tp.postRenderTimeoutHandle_=void 0,tp.handlePostRender()},0))},tp.prototype.setLayerGroup=function(tc){var tp=this.getLayerGroup();tp&&this.handleLayerRemove_(new Kt.GroupEvent("removelayer",tp)),this.set(ae,tc)},tp.prototype.setSize=function(tc){this.set(se,tc)},tp.prototype.setTarget=function(tc){this.set(le,tc)},tp.prototype.setView=function(tc){if(!tc||tc instanceof Ce.default)this.set(ue,tc);else{this.set(ue,new Ce.default);var tp=this;tc.then(function(tc){tp.setView(new Ce.default(tc))})}},tp.prototype.updateSize=function(){var tc=this.getTargetElement(),tp=void 0;if(tc){var tf=getComputedStyle(tc),td=tc.offsetWidth-parseFloat(tf.borderLeftWidth)-parseFloat(tf.paddingLeft)-parseFloat(tf.paddingRight)-parseFloat(tf.borderRightWidth),tg=tc.offsetHeight-parseFloat(tf.borderTopWidth)-parseFloat(tf.paddingTop)-parseFloat(tf.paddingBottom)-parseFloat(tf.borderBottomWidth);isNaN(td)||isNaN(tg)||!Zi(tp=[td,tg])&&(tc.offsetWidth||tc.offsetHeight||tc.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0.")}this.setSize(tp),this.updateViewportSize_()},tp.prototype.updateViewportSize_=function(){var tc=this.getView();if(tc){var tp=void 0,tf=getComputedStyle(this.viewport_);tf.width&&tf.height&&(tp=[parseInt(tf.width,10),parseInt(tf.height,10)]),tc.setViewportSize(tp)}},tp}(vt.default),tr=(B=a("gn0g3"),{});e(tr,"default",()=>ir,tc=>ir=tc);var er=a("fVglf"),nr=(k=a("3xzSb"),Rn=a("fVVyM"),xt=a("DfnQm"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}()),ir=function(tc){function tp(tp){var tf=this,td=tp||{};(tf=tc.call(this,{element:document.createElement("div"),render:td.render,target:td.target})||this).ulElement_=document.createElement("ul"),tf.collapsed_=void 0===td.collapsed||td.collapsed,tf.userCollapsed_=tf.collapsed_,tf.overrideCollapsible_=void 0!==td.collapsible,tf.collapsible_=void 0===td.collapsible||td.collapsible,tf.collapsible_||(tf.collapsed_=!1);var tg=void 0!==td.className?td.className:"ol-attribution",t8=void 0!==td.tipLabel?td.tipLabel:"Attributions",ty=void 0!==td.expandClassName?td.expandClassName:tg+"-expand",tv=void 0!==td.collapseLabel?td.collapseLabel:"›",tm=void 0!==td.collapseClassName?td.collapseClassName:tg+"-collapse";"string"==typeof tv?(tf.collapseLabel_=document.createElement("span"),tf.collapseLabel_.textContent=tv,tf.collapseLabel_.className=tm):tf.collapseLabel_=tv;var t$=void 0!==td.label?td.label:"i";"string"==typeof t$?(tf.label_=document.createElement("span"),tf.label_.textContent=t$,tf.label_.className=ty):tf.label_=t$;var tx=tf.collapsible_&&!tf.collapsed_?tf.collapseLabel_:tf.label_;tf.toggleButton_=document.createElement("button"),tf.toggleButton_.setAttribute("type","button"),tf.toggleButton_.setAttribute("aria-expanded",String(!tf.collapsed_)),tf.toggleButton_.title=t8,tf.toggleButton_.appendChild(tx),tf.toggleButton_.addEventListener(k.default.CLICK,tf.handleClick_.bind(tf),!1);var tC=tg+" "+ct+" "+pt+(tf.collapsed_&&tf.collapsible_?" "+ft:"")+(tf.collapsible_?"":" ol-uncollapsible"),tE=tf.element;return tE.className=tC,tE.appendChild(tf.toggleButton_),tE.appendChild(tf.ulElement_),tf.renderedAttributions_=[],tf.renderedVisible_=!0,tf}return nr(tp,tc),tp.prototype.collectSourceAttributions_=function(tc){for(var tp={},tf=[],td=!0,tg=tc.layerStatesArray,t8=0,ty=tg.length;t8<ty;++t8){var tv=tg[t8];if(j.inView(tv,tc.viewState)){var tm=tv.layer.getSource();if(tm){var t$=tm.getAttributions();if(t$){var tx=t$(tc);if(tx){if(td=td&&!1!==tm.getAttributionsCollapsible(),Array.isArray(tx))for(var tC=0,tE=tx.length;tC<tE;++tC)tx[tC]in tp||(tf.push(tx[tC]),tp[tx[tC]]=!0);else tx in tp||(tf.push(tx),tp[tx]=!0)}}}}}return this.overrideCollapsible_||this.setCollapsible(td),tf},tp.prototype.updateElement_=function(tc){if(tc){var tp=this.collectSourceAttributions_(tc),tf=tp.length>0;if(this.renderedVisible_!=tf&&(this.element.style.display=tf?"":"none",this.renderedVisible_=tf),!Rn.equals(tp,this.renderedAttributions_)){xt.removeChildren(this.ulElement_);for(var td=0,tg=tp.length;td<tg;++td){var t8=document.createElement("li");t8.innerHTML=tp[td],this.ulElement_.appendChild(t8)}this.renderedAttributions_=tp}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},tp.prototype.handleClick_=function(tc){tc.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},tp.prototype.handleToggle_=function(){this.element.classList.toggle(ft),this.collapsed_?xt.replaceNode(this.collapseLabel_,this.label_):xt.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},tp.prototype.getCollapsible=function(){return this.collapsible_},tp.prototype.setCollapsible=function(tc){this.collapsible_!==tc&&(this.collapsible_=tc,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},tp.prototype.setCollapsed=function(tc){this.userCollapsed_=tc,this.collapsible_&&this.collapsed_!==tc&&this.handleToggle_()},tp.prototype.getCollapsed=function(){return this.collapsed_},tp.prototype.render=function(tc){this.updateElement_(tc.frameState)},tp}(er.default),rr=(Vt=a("cD8Qe"),{});e(rr,"default",()=>ar,tc=>ar=tc),er=a("fVglf"),k=a("3xzSb");var or=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),ar=function(tc){function tp(tp){var tf=this,td=tp||{};tf=tc.call(this,{element:document.createElement("div"),render:td.render,target:td.target})||this;var tg=void 0!==td.className?td.className:"ol-rotate",t8=void 0!==td.label?td.label:"⇧",ty=void 0!==td.compassClassName?td.compassClassName:"ol-compass";tf.label_=null,"string"==typeof t8?(tf.label_=document.createElement("span"),tf.label_.className=ty,tf.label_.textContent=t8):(tf.label_=t8,tf.label_.classList.add(ty));var tv=td.tipLabel?td.tipLabel:"Reset rotation",tm=document.createElement("button");tm.className=tg+"-reset",tm.setAttribute("type","button"),tm.title=tv,tm.appendChild(tf.label_),tm.addEventListener(k.default.CLICK,tf.handleClick_.bind(tf),!1);var t$=tf.element;return t$.className=tg+" "+ct+" "+pt,t$.appendChild(tm),tf.callResetNorth_=td.resetNorth?td.resetNorth:void 0,tf.duration_=void 0!==td.duration?td.duration:250,tf.autoHide_=void 0===td.autoHide||td.autoHide,tf.rotation_=void 0,tf.autoHide_&&tf.element.classList.add(ht),tf}return or(tp,tc),tp.prototype.handleClick_=function(tc){tc.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},tp.prototype.resetNorth_=function(){var tc=this.getMap().getView();if(tc){var tp=tc.getRotation();void 0!==tp&&(this.duration_>0&&tp%(2*Math.PI)!=0?tc.animate({rotation:0,duration:this.duration_,easing:Dn}):tc.setRotation(0))}},tp.prototype.render=function(tc){var tp=tc.frameState;if(tp){var tf=tp.viewState.rotation;if(tf!=this.rotation_){if(this.autoHide_){var td=this.element.classList.contains(ht);td||0!==tf?td&&0!==tf&&this.element.classList.remove(ht):this.element.classList.add(ht)}this.label_.style.transform="rotate("+tf+"rad)"}this.rotation_=tf}},tp}(er.default),sr={};e(sr,"default",()=>ur,tc=>ur=tc),er=a("fVglf"),k=a("3xzSb");var lr=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),ur=function(tc){function tp(tp){var tf=this,td=tp||{};tf=tc.call(this,{element:document.createElement("div"),target:td.target})||this;var tg=void 0!==td.className?td.className:"ol-zoom",t8=void 0!==td.delta?td.delta:1,ty=void 0!==td.zoomInClassName?td.zoomInClassName:tg+"-in",tv=void 0!==td.zoomOutClassName?td.zoomOutClassName:tg+"-out",tm=void 0!==td.zoomInLabel?td.zoomInLabel:"+",t$=void 0!==td.zoomOutLabel?td.zoomOutLabel:"–",tx=void 0!==td.zoomInTipLabel?td.zoomInTipLabel:"Zoom in",tC=void 0!==td.zoomOutTipLabel?td.zoomOutTipLabel:"Zoom out",tE=document.createElement("button");tE.className=ty,tE.setAttribute("type","button"),tE.title=tx,tE.appendChild("string"==typeof tm?document.createTextNode(tm):tm),tE.addEventListener(k.default.CLICK,tf.handleClick_.bind(tf,t8),!1);var t_=document.createElement("button");t_.className=tv,t_.setAttribute("type","button"),t_.title=tC,t_.appendChild("string"==typeof t$?document.createTextNode(t$):t$),t_.addEventListener(k.default.CLICK,tf.handleClick_.bind(tf,-t8),!1);var tS=tf.element;return tS.className=tg+" "+ct+" "+pt,tS.appendChild(tE),tS.appendChild(t_),tf.duration_=void 0!==td.duration?td.duration:250,tf}return lr(tp,tc),tp.prototype.handleClick_=function(tc,tp){tp.preventDefault(),this.zoomByDelta_(tc)},tp.prototype.zoomByDelta_=function(tc){var tp=this.getMap().getView();if(tp){var tf=tp.getZoom();if(void 0!==tf){var td=tp.getConstrainedZoom(tf+tc);this.duration_>0?(tp.getAnimating()&&tp.cancelAnimations(),tp.animate({zoom:td,duration:this.duration_,easing:Dn})):tp.setZoom(td)}}},tp}(er.default);Vt=a("cD8Qe");var hr={};e(hr,"default",()=>vr,tc=>vr=tc);var cr={};e(cr,"pan",()=>dr,tc=>dr=tc),e(cr,"zoomByDelta",()=>gr,tc=>gr=tc),e(cr,"default",()=>_r,tc=>_r=tc),vt=a("fFFY7");var pr="active",fr=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}();function dr(tc,tp,tf){var td=tc.getCenterInternal();if(td){var tg=[td[0]+tp[0],td[1]+tp[1]];tc.animateInternal({duration:void 0!==tf?tf:250,easing:Nn,center:tc.getConstrainedCenter(tg)})}}function gr(tc,tp,tf,td){var tg=tc.getZoom();if(void 0!==tg){var t8=tc.getConstrainedZoom(tg+tp),ty=tc.getResolutionForZoom(t8);tc.getAnimating()&&tc.cancelAnimations(),tc.animate({resolution:ty,anchor:tf,duration:void 0!==td?td:250,easing:Dn})}}var _r=function(tc){function tp(tp){var tf=tc.call(this)||this;return tf.on,tf.once,tf.un,tp&&tp.handleEvent&&(tf.handleEvent=tp.handleEvent),tf.map_=null,tf.setActive(!0),tf}return fr(tp,tc),tp.prototype.getActive=function(){return this.get(pr)},tp.prototype.getMap=function(){return this.map_},tp.prototype.handleEvent=function(tc){return!0},tp.prototype.setActive=function(tc){this.set(pr,tc)},tp.prototype.setMap=function(tc){this.map_=tc},tp}(vt.default),yr=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),vr=function(tc){function tp(tp){var tf=tc.call(this)||this,td=tp||{};return tf.delta_=td.delta?td.delta:1,tf.duration_=void 0!==td.duration?td.duration:250,tf}return yr(tp,tc),tp.prototype.handleEvent=function(tc){var tp=!1;if(tc.type==te.DBLCLICK){var tf=tc.originalEvent,td=tc.map,tg=tc.coordinate,t8=tf.shiftKey?-this.delta_:this.delta_,ty=td.getView();cr.zoomByDelta(ty,t8,tg,this.duration_),tf.preventDefault(),tp=!0}return!tp},tp}(cr.default),mr={};e(mr,"default",()=>jr,tc=>jr=tc);var xr={};e(xr,"centroid",()=>Er,tc=>Er=tc),e(xr,"default",()=>Sr,tc=>Sr=tc),B=a("gn0g3");var Cr=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}();function Er(tc){for(var tp=tc.length,tf=0,td=0,tg=0;tg<tp;tg++)tf+=tc[tg].clientX,td+=tc[tg].clientY;return[tf/tp,td/tp]}var Sr=function(tc){function tp(tp){var tf=this,td=tp||{};return tf=tc.call(this,td)||this,td.handleDownEvent&&(tf.handleDownEvent=td.handleDownEvent),td.handleDragEvent&&(tf.handleDragEvent=td.handleDragEvent),td.handleMoveEvent&&(tf.handleMoveEvent=td.handleMoveEvent),td.handleUpEvent&&(tf.handleUpEvent=td.handleUpEvent),td.stopDown&&(tf.stopDown=td.stopDown),tf.handlingDownUpSequence=!1,tf.trackedPointers_={},tf.targetPointers=[],tf}return Cr(tp,tc),tp.prototype.getPointerCount=function(){return this.targetPointers.length},tp.prototype.handleDownEvent=function(tc){return!1},tp.prototype.handleDragEvent=function(tc){},tp.prototype.handleEvent=function(tc){if(!tc.originalEvent)return!0;var tp=!1;if(this.updateTrackedPointers_(tc),this.handlingDownUpSequence){if(tc.type==te.POINTERDRAG)this.handleDragEvent(tc),tc.originalEvent.preventDefault();else if(tc.type==te.POINTERUP){var tf=this.handleUpEvent(tc);this.handlingDownUpSequence=tf&&this.targetPointers.length>0}}else if(tc.type==te.POINTERDOWN){var td=this.handleDownEvent(tc);this.handlingDownUpSequence=td,tp=this.stopDown(td)}else tc.type==te.POINTERMOVE&&this.handleMoveEvent(tc);return!tp},tp.prototype.handleMoveEvent=function(tc){},tp.prototype.handleUpEvent=function(tc){return!1},tp.prototype.stopDown=function(tc){return tc},tp.prototype.updateTrackedPointers_=function(tc){var tp,tf;if((tf=(tp=tc).type)===te.POINTERDOWN||tf===te.POINTERDRAG||tf===te.POINTERUP){var td=tc.originalEvent,tg=td.pointerId.toString();tc.type==te.POINTERUP?delete this.trackedPointers_[tg]:(tc.type==te.POINTERDOWN||tg in this.trackedPointers_)&&(this.trackedPointers_[tg]=td),this.targetPointers=B.getValues(this.trackedPointers_)}},tp}(cr.default);function wr(tc){var tp=arguments;return function(tc){for(var tf=!0,td=0,tg=tp.length;td<tg&&(tf=tf&&tp[td](tc));++td);return tf}}p=a("6wUzV"),p=a("6wUzV"),d=a("8UoiJ"),g=a("4Cz58");var Or=function(tc){var tp=tc.originalEvent;return tp.altKey&&!(tp.metaKey||tp.ctrlKey)&&tp.shiftKey},Tr=function(tc){var tp,tf,td;return!tc.map.getTargetElement().hasAttribute("tabindex")||(tf=(tp=tc).map.getTargetElement(),td=tp.map.getOwnerDocument().activeElement,tf.contains(td))},br=p.TRUE,Rr=function(tc){var tp=tc.originalEvent;return 0==tp.button&&!(d.WEBKIT&&d.MAC&&tp.ctrlKey)},Ir=(p.FALSE,function(tc){var tp=tc.originalEvent;return!tp.altKey&&!(tp.metaKey||tp.ctrlKey)&&!tp.shiftKey}),Pr=function(tc){var tp=tc.originalEvent;return!tp.altKey&&!(tp.metaKey||tp.ctrlKey)&&tp.shiftKey},Lr=function(tc){var tp=tc.originalEvent.target.tagName;return"INPUT"!==tp&&"SELECT"!==tp&&"TEXTAREA"!==tp},Mr=function(tc){var tp=tc.originalEvent;return g.assert(void 0!==tp,56),"mouse"==tp.pointerType},Fr=function(tc){var tp=tc.originalEvent;return g.assert(void 0!==tp,56),tp.isPrimary&&0===tp.button},Ar=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Dr=function(tc){function tp(tp){var tf=tc.call(this,{stopDown:p.FALSE})||this,td=tp||{};tf.kinetic_=td.kinetic,tf.lastCentroid=null,tf.lastPointersCount_,tf.panning_=!1;var tg=td.condition?td.condition:wr(Ir,Fr);return tf.condition_=td.onFocusOnly?wr(Tr,tg):tg,tf.noKinetic_=!1,tf}return Ar(tp,tc),tp.prototype.handleDragEvent=function(tc){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var tp=this.targetPointers,tf=xr.centroid(tp);if(tp.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(tf[0],tf[1]),this.lastCentroid){var td,tg,t8=[this.lastCentroid[0]-tf[0],tf[1]-this.lastCentroid[1]],ty=tc.map.getView();td=t8,tg=ty.getResolution(),td[0]*=tg,td[1]*=tg,$(t8,ty.getRotation()),ty.adjustCenterInternal(t8)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=tf,this.lastPointersCount_=tp.length,tc.originalEvent.preventDefault()},tp.prototype.handleUpEvent=function(tc){var tp=tc.map,tf=tp.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var td=this.kinetic_.getDistance(),tg=this.kinetic_.getAngle(),t8=tf.getCenterInternal(),ty=tp.getPixelFromCoordinateInternal(t8),tv=tp.getCoordinateFromPixelInternal([ty[0]-td*Math.cos(tg),ty[1]-td*Math.sin(tg),]);tf.animateInternal({center:tf.getConstrainedCenter(tv),duration:500,easing:Dn})}return this.panning_&&(this.panning_=!1,tf.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},tp.prototype.handleDownEvent=function(tc){if(this.targetPointers.length>0&&this.condition_(tc)){var tp=tc.map.getView();return this.lastCentroid=null,tp.getAnimating()&&tp.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},tp}(xr.default),jr=Dr,Nr={};e(Nr,"default",()=>kr,tc=>kr=tc),p=a("6wUzV");var Gr=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),kr=function(tc){function tp(tp){var tf=this,td=tp||{};return(tf=tc.call(this,{stopDown:p.FALSE})||this).condition_=td.condition?td.condition:Or,tf.lastAngle_=void 0,tf.duration_=void 0!==td.duration?td.duration:250,tf}return Gr(tp,tc),tp.prototype.handleDragEvent=function(tc){if(Mr(tc)){var tp=tc.map,tf=tp.getView();if(tf.getConstraints().rotation!==Mn){var td=tp.getSize(),tg=tc.pixel,t8=Math.atan2(td[1]/2-tg[1],tg[0]-td[0]/2);if(void 0!==this.lastAngle_){var ty=t8-this.lastAngle_;tf.adjustRotationInternal(-ty)}this.lastAngle_=t8}}},tp.prototype.handleUpEvent=function(tc){return!Mr(tc)||(tc.map.getView().endInteraction(this.duration_),!1)},tp.prototype.handleDownEvent=function(tc){return!!Mr(tc)&&!(!Rr(tc)||!this.condition_(tc))&&(tc.map.getView().beginInteraction(),this.lastAngle_=void 0,!0)},tp}(xr.default),zr={};e(zr,"default",()=>$r,tc=>$r=tc);var Ur={};e(Ur,"DragBoxEvent",()=>qr,tc=>qr=tc),e(Ur,"default",()=>Jr,tc=>Jr=tc),st=a("f18Q2");var Xr={};e(Xr,"default",()=>Vr,tc=>Vr=tc),c=a("4kyFN");var Yr=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Vr=function(tc){function tp(tp){var tf=tc.call(this)||this;return tf.geometry_=null,tf.element_=document.createElement("div"),tf.element_.style.position="absolute",tf.element_.style.pointerEvents="auto",tf.element_.className="ol-box "+tp,tf.map_=null,tf.startPixel_=null,tf.endPixel_=null,tf}return Yr(tp,tc),tp.prototype.disposeInternal=function(){this.setMap(null)},tp.prototype.render_=function(){var tc=this.startPixel_,tp=this.endPixel_,tf=this.element_.style;tf.left=Math.min(tc[0],tp[0])+"px",tf.top=Math.min(tc[1],tp[1])+"px",tf.width=Math.abs(tp[0]-tc[0])+"px",tf.height=Math.abs(tp[1]-tc[1])+"px"},tp.prototype.setMap=function(tc){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var tp=this.element_.style;tp.left="inherit",tp.top="inherit",tp.width="inherit",tp.height="inherit"}this.map_=tc,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},tp.prototype.setPixels=function(tc,tp){this.startPixel_=tc,this.endPixel_=tp,this.createOrUpdateGeometry(),this.render_()},tp.prototype.createOrUpdateGeometry=function(){var tc=this.startPixel_,tp=this.endPixel_,tf=[tc,[tc[0],tp[1]],tp,[tp[0],tc[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);tf[4]=tf[0].slice(),this.geometry_?this.geometry_.setCoordinates([tf]):this.geometry_=new Gn.default([tf])},tp.prototype.getGeometry=function(){return this.geometry_},tp}(c.default),Wr=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Kr="boxstart",Br="boxdrag",Zr="boxend",Hr="boxcancel",qr=function(tc){function tp(tp,tf,td){var tg=tc.call(this,tp)||this;return tg.coordinate=tf,tg.mapBrowserEvent=td,tg}return Wr(tp,tc),tp}(st.default),Jr=function(tc){function tp(tp){var tf=tc.call(this)||this;tf.on,tf.once,tf.un;var td=tp||{};return tf.box_=new Xr.default(td.className||"ol-dragbox"),tf.minArea_=void 0!==td.minArea?td.minArea:64,td.onBoxEnd&&(tf.onBoxEnd=td.onBoxEnd),tf.startPixel_=null,tf.condition_=td.condition?td.condition:Rr,tf.boxEndCondition_=td.boxEndCondition?td.boxEndCondition:tf.defaultBoxEndCondition,tf}return Wr(tp,tc),tp.prototype.defaultBoxEndCondition=function(tc,tp,tf){var td=tf[0]-tp[0],tg=tf[1]-tp[1];return td*td+tg*tg>=this.minArea_},tp.prototype.getGeometry=function(){return this.box_.getGeometry()},tp.prototype.handleDragEvent=function(tc){this.box_.setPixels(this.startPixel_,tc.pixel),this.dispatchEvent(new qr(Br,tc.coordinate,tc))},tp.prototype.handleUpEvent=function(tc){this.box_.setMap(null);var tp=this.boxEndCondition_(tc,this.startPixel_,tc.pixel);return tp&&this.onBoxEnd(tc),this.dispatchEvent(new qr(tp?Zr:Hr,tc.coordinate,tc)),!1},tp.prototype.handleDownEvent=function(tc){return!!this.condition_(tc)&&(this.startPixel_=tc.pixel,this.box_.setMap(tc.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new qr(Kr,tc.coordinate,tc)),!0)},tp.prototype.onBoxEnd=function(tc){},tp}(xr.default),Qr=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),$r=function(tc){function tp(tp){var tf=this,td=tp||{},tg=td.condition?td.condition:Pr;return(tf=tc.call(this,{condition:tg,className:td.className||"ol-dragzoom",minArea:td.minArea})||this).duration_=void 0!==td.duration?td.duration:200,tf.out_=void 0!==td.out&&td.out,tf}return Qr(tp,tc),tp.prototype.onBoxEnd=function(tc){var tp=this.getMap().getView(),tf=this.getGeometry();if(this.out_){var td=tp.rotatedExtentForGeometry(tf),tg=tp.getResolutionForExtentInternal(td),t8=tp.getResolution()/tg;(tf=tf.clone()).scale(t8*t8)}tp.fitInternal(tf,{duration:this.duration_,easing:Dn})},tp}(Ur.default),to={};e(to,"default",()=>ao,tc=>ao=tc),k=a("3xzSb");var eo=37,no=38,io=39,ro=40,oo=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),ao=function(tc){function tp(tp){var tf=tc.call(this)||this,td=tp||{};return tf.defaultCondition_=function(tc){return Ir(tc)&&Lr(tc)},tf.condition_=void 0!==td.condition?td.condition:tf.defaultCondition_,tf.duration_=void 0!==td.duration?td.duration:100,tf.pixelDelta_=void 0!==td.pixelDelta?td.pixelDelta:128,tf}return oo(tp,tc),tp.prototype.handleEvent=function(tc){var tp=!1;if(tc.type==k.default.KEYDOWN){var tf=tc.originalEvent,td=tf.keyCode;if(this.condition_(tc)&&(td==ro||td==eo||td==io||td==no)){var tg=tc.map.getView(),t8=tg.getResolution()*this.pixelDelta_,ty=0,tv=0;td==ro?tv=-t8:td==eo?ty=-t8:td==io?ty=t8:tv=t8;var tm=[ty,tv];$(tm,tg.getRotation()),cr.pan(tg,tm,this.duration_),tf.preventDefault(),tp=!0}}return!tp},tp}(cr.default),so={};e(so,"default",()=>uo,tc=>uo=tc),k=a("3xzSb");var lo=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),uo=function(tc){function tp(tp){var tf=tc.call(this)||this,td=tp||{};return tf.condition_=td.condition?td.condition:Lr,tf.delta_=td.delta?td.delta:1,tf.duration_=void 0!==td.duration?td.duration:100,tf}return lo(tp,tc),tp.prototype.handleEvent=function(tc){var tp=!1;if(tc.type==k.default.KEYDOWN||tc.type==k.default.KEYPRESS){var tf=tc.originalEvent,td=tf.charCode;if(this.condition_(tc)&&(43==td||45==td)){var tg=tc.map,t8=43==td?this.delta_:-this.delta_,ty=tg.getView();cr.zoomByDelta(ty,t8,void 0,this.duration_),tf.preventDefault(),tp=!0}}return!tp},tp}(cr.default),ho=function(){function tc(tc,tp,tf){this.decay_=tc,this.minVelocity_=tp,this.delay_=tf,this.points_=[],this.angle_=0,this.initialVelocity_=0}return tc.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},tc.prototype.update=function(tc,tp){this.points_.push(tc,tp,Date.now())},tc.prototype.end=function(){if(this.points_.length<6)return!1;var tc=Date.now()-this.delay_,tp=this.points_.length-3;if(this.points_[tp+2]<tc)return!1;for(var tf=tp-3;tf>0&&this.points_[tf+2]>tc;)tf-=3;var td=this.points_[tp+2]-this.points_[tf+2];if(td<1e3/60)return!1;var tg=this.points_[tp]-this.points_[tf],t8=this.points_[tp+1]-this.points_[tf+1];return this.angle_=Math.atan2(t8,tg),this.initialVelocity_=Math.sqrt(tg*tg+t8*t8)/td,this.initialVelocity_>this.minVelocity_},tc.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},tc.prototype.getAngle=function(){return this.angle_},tc}(),co={};e(co,"Mode",()=>fo,tc=>fo=tc),e(co,"default",()=>go,tc=>go=tc),k=a("3xzSb"),d=a("8UoiJ"),E=a("9byFX");var po=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),fo={TRACKPAD:"trackpad",WHEEL:"wheel"},go=function(tc){function tp(tp){var tf=this,td=tp||{};(tf=tc.call(this,td)||this).totalDelta_=0,tf.lastDelta_=0,tf.maxDelta_=void 0!==td.maxDelta?td.maxDelta:1,tf.duration_=void 0!==td.duration?td.duration:250,tf.timeout_=void 0!==td.timeout?td.timeout:80,tf.useAnchor_=void 0===td.useAnchor||td.useAnchor,tf.constrainResolution_=void 0!==td.constrainResolution&&td.constrainResolution;var tg=td.condition?td.condition:br;return tf.condition_=td.onFocusOnly?wr(Tr,tg):tg,tf.lastAnchor_=null,tf.startTime_=void 0,tf.timeoutId_,tf.mode_=void 0,tf.trackpadEventGap_=400,tf.trackpadTimeoutId_,tf.deltaPerZoom_=300,tf}return po(tp,tc),tp.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},tp.prototype.handleEvent=function(tc){if(!this.condition_(tc)||tc.type!==k.default.WHEEL)return!0;var tp,tf=tc.map,td=tc.originalEvent;if(td.preventDefault(),this.useAnchor_&&(this.lastAnchor_=tc.coordinate),tc.type==k.default.WHEEL&&(tp=td.deltaY,d.FIREFOX&&td.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(tp/=d.DEVICE_PIXEL_RATIO),td.deltaMode===WheelEvent.DOM_DELTA_LINE&&(tp*=40)),0===tp)return!1;this.lastDelta_=tp;var tg=Date.now();void 0===this.startTime_&&(this.startTime_=tg),(!this.mode_||tg-this.startTime_>this.trackpadEventGap_)&&(this.mode_=4>Math.abs(tp)?fo.TRACKPAD:fo.WHEEL);var t8=tf.getView();if(this.mode_===fo.TRACKPAD&&!t8.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(t8.getAnimating()&&t8.cancelAnimations(),t8.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),t8.adjustZoom(-tp/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=tg,!1;this.totalDelta_+=tp;var ty=Math.max(this.timeout_-(tg-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,tf),ty),!1},tp.prototype.handleWheelZoom_=function(tc){var tp=tc.getView();tp.getAnimating()&&tp.cancelAnimations();var tf=-E.clamp(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(tp.getConstrainResolution()||this.constrainResolution_)&&(tf=tf?tf>0?1:-1:0),cr.zoomByDelta(tp,tf,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},tp.prototype.setMouseAnchor=function(tc){this.useAnchor_=tc,tc||(this.lastAnchor_=null)},tp}(cr.default),_o={};e(_o,"default",()=>vo,tc=>vo=tc),p=a("6wUzV");var yo=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),vo=function(tc){function tp(tp){var tf=this,td=tp||{},tg=td;return tg.stopDown||(tg.stopDown=p.FALSE),(tf=tc.call(this,tg)||this).anchor_=null,tf.lastAngle_=void 0,tf.rotating_=!1,tf.rotationDelta_=0,tf.threshold_=void 0!==td.threshold?td.threshold:.3,tf.duration_=void 0!==td.duration?td.duration:250,tf}return yo(tp,tc),tp.prototype.handleDragEvent=function(tc){var tp=0,tf=this.targetPointers[0],td=this.targetPointers[1],tg=Math.atan2(td.clientY-tf.clientY,td.clientX-tf.clientX);if(void 0!==this.lastAngle_){var t8=tg-this.lastAngle_;this.rotationDelta_+=t8,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),tp=t8}this.lastAngle_=tg;var ty=tc.map,tv=ty.getView();if(tv.getConstraints().rotation!==Mn){var tm=ty.getViewport().getBoundingClientRect(),t$=xr.centroid(this.targetPointers);t$[0]-=tm.left,t$[1]-=tm.top,this.anchor_=ty.getCoordinateFromPixelInternal(t$),this.rotating_&&(ty.render(),tv.adjustRotationInternal(tp,this.anchor_))}},tp.prototype.handleUpEvent=function(tc){return!(this.targetPointers.length<2)||(tc.map.getView().endInteraction(this.duration_),!1)},tp.prototype.handleDownEvent=function(tc){if(this.targetPointers.length>=2){var tp=tc.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||tp.getView().beginInteraction(),!0}return!1},tp}(xr.default),mo={};e(mo,"default",()=>Co,tc=>Co=tc),p=a("6wUzV");var xo=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Co=function(tc){function tp(tp){var tf=this,td=tp||{},tg=td;return tg.stopDown||(tg.stopDown=p.FALSE),(tf=tc.call(this,tg)||this).anchor_=null,tf.duration_=void 0!==td.duration?td.duration:400,tf.lastDistance_=void 0,tf.lastScaleDelta_=1,tf}return xo(tp,tc),tp.prototype.handleDragEvent=function(tc){var tp=1,tf=this.targetPointers[0],td=this.targetPointers[1],tg=tf.clientX-td.clientX,t8=tf.clientY-td.clientY,ty=Math.sqrt(tg*tg+t8*t8);void 0!==this.lastDistance_&&(tp=this.lastDistance_/ty),this.lastDistance_=ty;var tv=tc.map,tm=tv.getView();1!=tp&&(this.lastScaleDelta_=tp);var t$=tv.getViewport().getBoundingClientRect(),tx=xr.centroid(this.targetPointers);tx[0]-=t$.left,tx[1]-=t$.top,this.anchor_=tv.getCoordinateFromPixelInternal(tx),tv.render(),tm.adjustResolutionInternal(tp,this.anchor_)},tp.prototype.handleUpEvent=function(tc){if(this.targetPointers.length<2){var tp=tc.map.getView(),tf=this.lastScaleDelta_>1?1:-1;return tp.endInteraction(this.duration_,tf),!1}return!0},tp.prototype.handleDownEvent=function(tc){if(this.targetPointers.length>=2){var tp=tc.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||tp.getView().beginInteraction(),!0}return!1},tp}(xr.default),Eo=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),So=function(tc){function tp(tp){var tf,td,tg,t8,ty,tv;return(tp=B.assign({},tp)).controls||(tp.controls=(tf={},td=new Vt.default,(void 0===tf.zoom||tf.zoom)&&td.push(new sr.default(tf.zoomOptions)),(void 0===tf.rotate||tf.rotate)&&td.push(new rr.default(tf.rotateOptions)),(void 0===tf.attribution||tf.attribution)&&td.push(new tr.default(tf.attributionOptions)),td)),tp.interactions||(tp.interactions=(t8=tg={onFocusOnly:!0},ty=new Vt.default,tv=new ho(-.005,.05,100),(void 0===t8.altShiftDragRotate||t8.altShiftDragRotate)&&ty.push(new Nr.default),(void 0===t8.doubleClickZoom||t8.doubleClickZoom)&&ty.push(new hr.default({delta:t8.zoomDelta,duration:t8.zoomDuration})),(void 0===t8.dragPan||t8.dragPan)&&ty.push(new mr.default({onFocusOnly:t8.onFocusOnly,kinetic:tv})),(void 0===t8.pinchRotate||t8.pinchRotate)&&ty.push(new _o.default),(void 0===t8.pinchZoom||t8.pinchZoom)&&ty.push(new mo.default({duration:t8.zoomDuration})),(void 0===t8.keyboard||t8.keyboard)&&(ty.push(new to.default),ty.push(new so.default({delta:t8.zoomDelta,duration:t8.zoomDuration}))),(void 0===t8.mouseWheelZoom||t8.mouseWheelZoom)&&ty.push(new co.default({onFocusOnly:t8.onFocusOnly,duration:t8.zoomDuration})),(void 0===t8.shiftDragZoom||t8.shiftDragZoom)&&ty.push(new zr.default({duration:t8.zoomDuration})),ty)),tc.call(this,tp)||this}return Eo(tp,tc),tp.prototype.createRenderer=function(){return new l.default(this)},tp}(Yt.default),wo={};e(wo,"default",()=>Bo,tc=>Bo=tc);var Oo={};e(Oo,"default",()=>bo,tc=>bo=tc);var To=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),bo=function(tc){function tp(tp){return tc.call(this,tp||{})||this}return To(tp,tc),tp}(j.default),Ro={};e(Ro,"default",()=>Wo,tc=>Wo=tc);var Io={};e(Io,"default",()=>Uo,tc=>Uo=tc);var Po={};e(Po,"default",()=>Go,tc=>Go=tc),k=a("3xzSb");var Lo=0,Mo=1,Fo=2,Ao=3,Do=4,jo=a("2FcER"),No=(K=a("d8cxx"),f=a("9iPUS"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}()),Go=function(tc){function tp(tp){var tf=tc.call(this)||this;return tf.ready=!0,tf.boundHandleImageChange_=tf.handleImageChange_.bind(tf),tf.layer_=tp,tf.declutterExecutorGroup=null,tf}return No(tp,tc),tp.prototype.getFeatures=function(tc){return f.abstract()},tp.prototype.getData=function(tc){return null},tp.prototype.prepareFrame=function(tc){return f.abstract()},tp.prototype.renderFrame=function(tc,tp){return f.abstract()},tp.prototype.loadedTileCallback=function(tc,tp,tf){tc[tp]||(tc[tp]={}),tc[tp][tf.tileCoord.toString()]=tf},tp.prototype.createLoadedTileFinder=function(tc,tp,tf){return(function(td,tg){var t8=this.loadedTileCallback.bind(this,tf,td);return tc.forEachLoadedTile(tp,td,tg,t8)}).bind(this)},tp.prototype.forEachFeatureAtCoordinate=function(tc,tp,tf,td,tg){},tp.prototype.getDataAtPixel=function(tc,tp,tf){return null},tp.prototype.getLayer=function(){return this.layer_},tp.prototype.handleFontsChanged=function(){},tp.prototype.handleImageChange_=function(tc){tc.target.getState()===Fo&&this.renderIfReadyAndVisible()},tp.prototype.loadImage=function(tc){var tp=tc.getState();return tp!=Fo&&tp!=Ao&&tc.addEventListener(k.default.CHANGE,this.boundHandleImageChange_),tp==Lo&&(tc.load(),tp=tc.getState()),tp==Fo},tp.prototype.renderIfReadyAndVisible=function(){var tc=this.getLayer();tc.getVisible()&&tc.getSourceState()==K.default.READY&&tc.changed()},tp.prototype.disposeInternal=function(){delete this.layer_,tc.prototype.disposeInternal.call(this)},tp}(jo.default),ko=(C=a("9pD6L"),xt=a("DfnQm"),Rn=a("fVVyM"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}()),zo=null,Uo=function(tc){function tp(tp){var tf=tc.call(this,tp)||this;return tf.container=null,tf.renderedResolution,tf.tempTransform=[1,0,0,1,0,0],tf.pixelTransform=[1,0,0,1,0,0],tf.inversePixelTransform=[1,0,0,1,0,0],tf.context=null,tf.containerReused=!1,tf.pixelContext_=null,tf.frameState=null,tf}return ko(tp,tc),tp.prototype.getImageData=function(tc,tp,tf){var td,tg;zo||((td=document.createElement("canvas")).width=1,td.height=1,zo=td.getContext("2d")),zo.clearRect(0,0,1,1);try{zo.drawImage(tc,tp,tf,1,1,0,0,1,1),tg=zo.getImageData(0,0,1,1).data}catch(t8){return null}return tg},tp.prototype.getBackground=function(tc){var tp=this.getLayer().getBackground();return"function"==typeof tp&&(tp=tp(tc.viewState.resolution)),tp||void 0},tp.prototype.useContainer=function(tc,tp,tf,td){var tg,t8,ty=this.getLayer().getClassName();if(tc&&tc.className===ty&&""===tc.style.opacity&&1===tf&&(!td||tc.style.backgroundColor&&Rn.equals(P(tc.style.backgroundColor),P(td)))&&(tm=tc.firstElementChild)instanceof HTMLCanvasElement&&(t8=tm.getContext("2d")),t8&&t8.canvas.style.transform===tp?(this.container=tc,this.context=t8,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(tg=document.createElement("div")).className=ty;var tv=tg.style;tv.position="absolute",tv.width="100%",tv.height="100%",td&&(tv.backgroundColor=td);var tm=(t8=xt.createCanvasContext2D()).canvas;tg.appendChild(tm),(tv=tm.style).position="absolute",tv.left="0",tv.transformOrigin="top left",this.container=tg,this.context=t8}},tp.prototype.clipUnrotated=function(tc,tp,tf){var td=C.getTopLeft(tf),tg=C.getTopRight(tf),t8=C.getBottomRight(tf),ty=C.getBottomLeft(tf);y(tp.coordinateToPixelTransform,td),y(tp.coordinateToPixelTransform,tg),y(tp.coordinateToPixelTransform,t8),y(tp.coordinateToPixelTransform,ty);var tv=this.inversePixelTransform;y(tv,td),y(tv,tg),y(tv,t8),y(tv,ty),tc.save(),tc.beginPath(),tc.moveTo(Math.round(td[0]),Math.round(td[1])),tc.lineTo(Math.round(tg[0]),Math.round(tg[1])),tc.lineTo(Math.round(t8[0]),Math.round(t8[1])),tc.lineTo(Math.round(ty[0]),Math.round(ty[1])),tc.clip()},tp.prototype.dispatchRenderEvent_=function(tc,tp,tf){var td=this.getLayer();if(td.hasListener(tc)){var tg=new at.default(tc,this.inversePixelTransform,tf,tp);td.dispatchEvent(tg)}},tp.prototype.preRender=function(tc,tp){this.frameState=tp,this.dispatchRenderEvent_(U,tc,tp)},tp.prototype.postRender=function(tc,tp){this.dispatchRenderEvent_(X,tc,tp)},tp.prototype.getRenderTransform=function(tc,tp,tf,td,tg,t8,ty){var tv=td/tp,tm=-tc[0]+ty,t$=-tc[1];return v(this.tempTransform,tg/2,t8/2,tv,-tv,-tf,tm,t$)},tp.prototype.getDataAtPixel=function(tc,tp,tf){var td=y(this.inversePixelTransform,tc.slice()),tg=this.context,t8=this.getLayer().getExtent();if(t8){var ty=y(tp.pixelToCoordinateTransform,tc.slice());if(!C.containsCoordinate(t8,ty))return null}var tv,tm=Math.round(td[0]),t$=Math.round(td[1]),tx=this.pixelContext_;if(!tx){var tC=document.createElement("canvas");tC.width=1,tC.height=1,tx=tC.getContext("2d"),this.pixelContext_=tx}tx.clearRect(0,0,1,1);try{tx.drawImage(tg.canvas,tm,t$,1,1,0,0,1,1),tv=tx.getImageData(0,0,1,1).data}catch(tE){return"SecurityError"===tE.name?(this.pixelContext_=null,new Uint8Array):tv}return 0===tv[3]?null:tv},tp.prototype.disposeInternal=function(){delete this.frameState,tc.prototype.disposeInternal.call(this)},tp}(Po.default),Xo={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},Yo={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},Vo=(B=a("gn0g3"),C=a("9pD6L"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}()),Wo=function(tc){function tp(tp){var tf=tc.call(this,tp)||this;return tf.image_=null,tf}return Vo(tp,tc),tp.prototype.getImage=function(){return this.image_?this.image_.getImage():null},tp.prototype.prepareFrame=function(tc){var tp=tc.layerStatesArray[tc.layerIndex],tf=tc.pixelRatio,td=tc.viewState,tg=td.resolution,t8=this.getLayer().getSource(),ty=tc.viewHints,tv=tc.extent;if(void 0!==tp.extent&&(tv=C.getIntersection(tv,wn(tp.extent,td.projection))),!ty[Te]&&!ty[be]&&!C.isEmpty(tv)){if(t8){var tm=td.projection,t$=t8.getImage(tv,tg,tf,tm);t$&&(this.loadImage(t$)?this.image_=t$:t$.getState()===Do&&(this.image_=null))}else this.image_=null}return!!this.image_},tp.prototype.getData=function(tc){var tp=this.frameState;if(!tp)return null;var tf=this.getLayer(),td=y(tp.pixelToCoordinateTransform,tc.slice()),tg=tf.getExtent();if(tg&&!C.containsCoordinate(tg,td))return null;var t8=this.image_.getExtent(),ty=this.image_.getImage(),tv=C.getWidth(t8),tm=Math.floor(ty.width*((td[0]-t8[0])/tv));if(tm<0||tm>=ty.width)return null;var t$=C.getHeight(t8),tx=Math.floor(ty.height*((t8[3]-td[1])/t$));return tx<0||tx>=ty.height?null:this.getImageData(ty,tm,tx)},tp.prototype.renderFrame=function(tc,tp){var tf=this.image_,td=tf.getExtent(),tg=tf.getResolution(),t8=tf.getPixelRatio(),ty=tc.layerStatesArray[tc.layerIndex],tv=tc.pixelRatio,tm=tc.viewState,t$=tm.center,tx=tm.resolution,tC=tc.size,tE=tv*tg/(tx*t8),t_=Math.round(tC[0]*tv),tS=Math.round(tC[1]*tv),tw=tm.rotation;if(tw){var tR=Math.round(Math.sqrt(t_*t_+tS*tS));t_=tR,tS=tR}v(this.pixelTransform,tc.size[0]/2,tc.size[1]/2,1/tv,1/tv,tw,-t_/2,-tS/2),m(this.inversePixelTransform,this.pixelTransform);var tT=x(this.pixelTransform);this.useContainer(tp,tT,ty.opacity,this.getBackground(tc));var tI=this.context,tO=tI.canvas;tO.width!=t_||tO.height!=tS?(tO.width=t_,tO.height=tS):this.containerReused||tI.clearRect(0,0,t_,tS);var tP=!1,tL=!0;if(ty.extent){var tb=wn(ty.extent,tm.projection);(tP=(tL=C.intersects(tb,tc.extent))&&!C.containsExtent(tb,tc.extent))&&this.clipUnrotated(tI,tc,tb)}var tF=tf.getImage(),tD=v(this.tempTransform,t_/2,tS/2,tE,tE,0,t8*(td[0]-t$[0])/tg,t8*(t$[1]-td[3])/tg);this.renderedResolution=tg*tv/t8;var tA=tF.width*tD[0],tk=tF.height*tD[3];if(this.getLayer().getSource().getInterpolate()||B.assign(tI,Xo),this.preRender(tI,tc),tL&&tA>=.5&&tk>=.5){var tG=tD[4],t0=tD[5],tN=ty.opacity,tM=void 0;1!==tN&&(tM=tI.globalAlpha,tI.globalAlpha=tN),tI.drawImage(tF,0,0,+tF.width,+tF.height,Math.round(tG),Math.round(t0),Math.round(tA),Math.round(tk)),1!==tN&&(tI.globalAlpha=tM)}return this.postRender(tI,tc),tP&&tI.restore(),B.assign(tI,Yo),tT!==tO.style.transform&&(tO.style.transform=tT),this.container},tp}(Io.default),Ko=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Bo=function(tc){function tp(tp){return tc.call(this,tp)||this}return Ko(tp,tc),tp.prototype.createRenderer=function(){return new Ro.default(this)},tp.prototype.getData=function(tp){return tc.prototype.getData.call(this,tp)},tp}(Oo.default),Zo={};e(Zo,"default",()=>Ia,tc=>Ia=tc);var Ho={};e(Ho,"default",()=>$o,tc=>$o=tc);var qo="preload",Jo="useInterimTilesOnError",Qo=(B=a("gn0g3"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}()),$o=function(tc){function tp(tp){var tf=this,td=tp||{},tg=B.assign({},td);return delete tg.preload,delete tg.useInterimTilesOnError,(tf=tc.call(this,tg)||this).on,tf.once,tf.un,tf.setPreload(void 0!==td.preload?td.preload:0),tf.setUseInterimTilesOnError(void 0===td.useInterimTilesOnError||td.useInterimTilesOnError),tf}return Qo(tp,tc),tp.prototype.getPreload=function(){return this.get(qo)},tp.prototype.setPreload=function(tc){this.set(qo,tc)},tp.prototype.getUseInterimTilesOnError=function(){return this.get(Jo)},tp.prototype.setUseInterimTilesOnError=function(tc){this.set(Jo,tc)},tp.prototype.getData=function(tp){return tc.prototype.getData.call(this,tp)},tp}(j.default),ta={};e(ta,"default",()=>ba,tc=>ba=tc);var ea={};e(ea,"default",()=>fa,tc=>fa=tc);var na={};e(na,"default",()=>ra,tc=>ra=tc),mt=a("KD0eF"),k=a("3xzSb"),f=a("9iPUS");var ia=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),ra=function(tc){function tp(tp,tf,td){var tg=tc.call(this)||this,t8=td||{};return tg.tileCoord=tp,tg.state=tf,tg.interimTile=null,tg.key="",tg.transition_=void 0===t8.transition?250:t8.transition,tg.transitionStarts_={},tg.interpolate=!!t8.interpolate,tg}return ia(tp,tc),tp.prototype.changed=function(){this.dispatchEvent(k.default.CHANGE)},tp.prototype.release=function(){},tp.prototype.getKey=function(){return this.key+"/"+this.tileCoord},tp.prototype.getInterimTile=function(){if(!this.interimTile)return this;var tc=this.interimTile;do{if(tc.getState()==ge)return this.transition_=0,tc;tc=tc.interimTile}while(tc);return this},tp.prototype.refreshInterimChain=function(){if(this.interimTile){var tc=this.interimTile,tp=this;do{if(tc.getState()==ge){tc.interimTile=null;break}tc.getState()==de?tp=tc:tc.getState()==fe?tp.interimTile=tc.interimTile:tp=tc,tc=tp.interimTile}while(tc)}},tp.prototype.getTileCoord=function(){return this.tileCoord},tp.prototype.getState=function(){return this.state},tp.prototype.setState=function(tc){if(this.state!==_e&&this.state>tc)throw Error("Tile load sequence violation");this.state=tc,this.changed()},tp.prototype.load=function(){f.abstract()},tp.prototype.getAlpha=function(tc,tp){if(!this.transition_)return 1;var tf=this.transitionStarts_[tc];if(tf){if(-1===tf)return 1}else tf=tp,this.transitionStarts_[tc]=tf;var td=tp-tf+1e3/60;return td>=this.transition_?1:An(td/this.transition_)},tp.prototype.inTransition=function(tc){return!!this.transition_&&-1!==this.transitionStarts_[tc]},tp.prototype.endTransition=function(tc){this.transition_&&(this.transitionStarts_[tc]=-1)},tp}(mt.default),oa=(xt=a("DfnQm"),{});e(oa,"listenImage",()=>ha,tc=>ha=tc),e(oa,"default",()=>ca,tc=>ca=tc),k=a("3xzSb");var aa={};e(aa,"default",()=>la,tc=>la=tc),mt=a("KD0eF"),k=a("3xzSb"),f=a("9iPUS");var sa=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),la=function(tc){function tp(tp,tf,td,tg){var t8=tc.call(this)||this;return t8.extent=tp,t8.pixelRatio_=td,t8.resolution=tf,t8.state=tg,t8}return sa(tp,tc),tp.prototype.changed=function(){this.dispatchEvent(k.default.CHANGE)},tp.prototype.getExtent=function(){return this.extent},tp.prototype.getImage=function(){return f.abstract()},tp.prototype.getPixelRatio=function(){return this.pixelRatio_},tp.prototype.getResolution=function(){return this.resolution},tp.prototype.getState=function(){return this.state},tp.prototype.load=function(){f.abstract()},tp}(mt.default),ua=(d=a("8UoiJ"),C=a("9pD6L"),Z=a("ilM9F"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}());function ha(tc,tp,tf){var td=tc,tg=!0,t8=!1,ty=!1,tv=[Z.listenOnce(td,k.default.LOAD,function(){ty=!0,t8||tp()}),];return td.src&&d.IMAGE_DECODE?(t8=!0,td.decode().then(function(){tg&&tp()}).catch(function(tc){tg&&(ty?tp():tf())})):tv.push(Z.listenOnce(td,k.default.ERROR,tf)),function(){tg=!1,tv.forEach(Z.unlistenByKey)}}var ca=function(tc){function tp(tp,tf,td,tg,t8,ty){var tv=tc.call(this,tp,tf,td,Lo)||this;return tv.src_=tg,tv.image_=new Image,null!==t8&&(tv.image_.crossOrigin=t8),tv.unlisten_=null,tv.state=Lo,tv.imageLoadFunction_=ty,tv}return ua(tp,tc),tp.prototype.getImage=function(){return this.image_},tp.prototype.handleImageError_=function(){this.state=Ao,this.unlistenImage_(),this.changed()},tp.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=C.getHeight(this.extent)/this.image_.height),this.state=Fo,this.unlistenImage_(),this.changed()},tp.prototype.load=function(){this.state!=Lo&&this.state!=Ao||(this.state=Mo,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=ha(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},tp.prototype.setImage=function(tc){this.image_=tc,this.resolution=C.getHeight(this.extent)/this.image_.height},tp.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},tp}(aa.default),pa=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),fa=function(tc){function tp(tp,tf,td,tg,t8,ty){var tv=tc.call(this,tp,tf,ty)||this;return tv.crossOrigin_=tg,tv.src_=td,tv.key=td,tv.image_=new Image,null!==tg&&(tv.image_.crossOrigin=tg),tv.unlisten_=null,tv.tileLoadFunction_=t8,tv}return pa(tp,tc),tp.prototype.getImage=function(){return this.image_},tp.prototype.setImage=function(tc){this.image_=tc,this.state=ge,this.unlistenImage_(),this.changed()},tp.prototype.handleImageError_=function(){var tc;this.state=_e,this.unlistenImage_(),this.image_=((tc=xt.createCanvasContext2D(1,1)).fillStyle="rgba(0,0,0,0)",tc.fillRect(0,0,1,1),tc.canvas),this.changed()},tp.prototype.handleImageLoad_=function(){var tc=this.image_;tc.naturalWidth&&tc.naturalHeight?this.state=ge:this.state=ye,this.unlistenImage_(),this.changed()},tp.prototype.load=function(){this.state==_e&&(this.state=fe,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==fe&&(this.state=de,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=oa.listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},tp.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},tp}(na.default),da={};e(da,"default",()=>Ea,tc=>Ea=tc),k=a("3xzSb"),C=a("9pD6L"),E=a("9byFX");var ga,_a=function(){function tc(tc,tp,tf,td,tg,t8){this.sourceProj_=tc,this.targetProj_=tp;var ty={},tv=fn(this.targetProj_,this.sourceProj_);this.transformInv_=function(tc){var tp=tc[0]+"/"+tc[1];return ty[tp]||(ty[tp]=tv(tc)),ty[tp]},this.maxSourceExtent_=td,this.errorThresholdSquared_=tg*tg,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!td&&!!this.sourceProj_.getExtent()&&C.getWidth(td)==C.getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?C.getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?C.getWidth(this.targetProj_.getExtent()):null;var tm=C.getTopLeft(tf),t$=C.getTopRight(tf),tx=C.getBottomRight(tf),tC=C.getBottomLeft(tf),tE=this.transformInv_(tm),t_=this.transformInv_(t$),tS=this.transformInv_(tx),tw=this.transformInv_(tC),tR=10+(t8?Math.max(0,Math.ceil(E.log2(C.getArea(tf)/(t8*t8*65536)))):0);if(this.addQuad_(tm,t$,tx,tC,tE,t_,tS,tw,tR),this.wrapsXInSource_){var tT=1/0;this.triangles_.forEach(function(tc,tp,tf){tT=Math.min(tT,tc.source[0][0],tc.source[1][0],tc.source[2][0])}),this.triangles_.forEach((function(tc){if(Math.max(tc.source[0][0],tc.source[1][0],tc.source[2][0])-tT>this.sourceWorldWidth_/2){var tp=[[tc.source[0][0],tc.source[0][1]],[tc.source[1][0],tc.source[1][1]],[tc.source[2][0],tc.source[2][1]],];tp[0][0]-tT>this.sourceWorldWidth_/2&&(tp[0][0]-=this.sourceWorldWidth_),tp[1][0]-tT>this.sourceWorldWidth_/2&&(tp[1][0]-=this.sourceWorldWidth_),tp[2][0]-tT>this.sourceWorldWidth_/2&&(tp[2][0]-=this.sourceWorldWidth_);var tf=Math.min(tp[0][0],tp[1][0],tp[2][0]);Math.max(tp[0][0],tp[1][0],tp[2][0])-tf<this.sourceWorldWidth_/2&&(tc.source=tp)}}).bind(this))}ty={}}return tc.prototype.addTriangle_=function(tc,tp,tf,td,tg,t8){this.triangles_.push({source:[td,tg,t8],target:[tc,tp,tf]})},tc.prototype.addQuad_=function(tc,tp,tf,td,tg,t8,ty,tv,tm){var t$=C.boundingExtent([tg,t8,ty,tv]),tx=this.sourceWorldWidth_?C.getWidth(t$)/this.sourceWorldWidth_:null,tC=this.sourceWorldWidth_,tE=this.sourceProj_.canWrapX()&&tx>.5&&tx<1,t_=!1;if(tm>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var tS=C.boundingExtent([tc,tp,tf,td]);t_=C.getWidth(tS)/this.targetWorldWidth_>.25||t_}!tE&&this.sourceProj_.isGlobal()&&tx&&(t_=tx>.25||t_)}if(!(!t_&&this.maxSourceExtent_&&isFinite(t$[0])&&isFinite(t$[1])&&isFinite(t$[2])&&isFinite(t$[3]))||C.intersects(t$,this.maxSourceExtent_)){var tw=0;if(!(t_||isFinite(tg[0])&&isFinite(tg[1])&&isFinite(t8[0])&&isFinite(t8[1])&&isFinite(ty[0])&&isFinite(ty[1])&&isFinite(tv[0])&&isFinite(tv[1]))){if(tm>0)t_=!0;else if(1!=(tw=(isFinite(tg[0])&&isFinite(tg[1])?0:8)+(isFinite(t8[0])&&isFinite(t8[1])?0:4)+(isFinite(ty[0])&&isFinite(ty[1])?0:2)+(isFinite(tv[0])&&isFinite(tv[1])?0:1))&&2!=tw&&4!=tw&&8!=tw)return}if(tm>0){if(!t_){var tR=[(tc[0]+tf[0])/2,(tc[1]+tf[1])/2],tT=this.transformInv_(tR),tI=void 0;tI=tE?(E.modulo(tg[0],tC)+E.modulo(ty[0],tC))/2-E.modulo(tT[0],tC):(tg[0]+ty[0])/2-tT[0];var tO=(tg[1]+ty[1])/2-tT[1];t_=tI*tI+tO*tO>this.errorThresholdSquared_}if(t_){if(Math.abs(tc[0]-tf[0])<=Math.abs(tc[1]-tf[1])){var tP=[(tp[0]+tf[0])/2,(tp[1]+tf[1])/2],tL=this.transformInv_(tP),tb=[(td[0]+tc[0])/2,(td[1]+tc[1])/2],tF=this.transformInv_(tb);this.addQuad_(tc,tp,tP,tb,tg,t8,tL,tF,tm-1),this.addQuad_(tb,tP,tf,td,tF,tL,ty,tv,tm-1)}else{var tD=[(tc[0]+tp[0])/2,(tc[1]+tp[1])/2],tA=this.transformInv_(tD),tk=[(tf[0]+td[0])/2,(tf[1]+td[1])/2],tG=this.transformInv_(tk);this.addQuad_(tc,tD,tk,td,tg,tA,tG,tv,tm-1),this.addQuad_(tD,tp,tf,tk,tA,t8,ty,tG,tm-1)}return}}if(tE){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&tw||this.addTriangle_(tc,tf,td,tg,ty,tv),14&tw||this.addTriangle_(tc,tf,tp,tg,ty,t8),tw&&(13&tw||this.addTriangle_(tp,td,tc,t8,tv,tg),7&tw||this.addTriangle_(tp,td,tf,t8,tv,ty))}},tc.prototype.calculateSourceExtent=function(){var tc=C.createEmpty();return this.triangles_.forEach(function(tp,tf,td){var tg=tp.source;C.extendCoordinate(tc,tg[0]),C.extendCoordinate(tc,tg[1]),C.extendCoordinate(tc,tg[2])}),tc},tc.prototype.getTriangles=function(){return this.triangles_},tc}();function ya(tc,tp,tf,td,tg){tc.beginPath(),tc.moveTo(0,0),tc.lineTo(tp,tf),tc.lineTo(td,tg),tc.closePath(),tc.save(),tc.clip(),tc.fillRect(0,0,Math.max(tp,td)+1,Math.max(tf,tg)),tc.restore()}function va(tc,tp){return Math.abs(tc[4*tp]-210)>2||Math.abs(tc[4*tp+3]-191.25)>2}function ma(tc,tp,tf,td){var tg=dn(tf,tp,tc),t8=ln(tp,td,tf),ty=tp.getMetersPerUnit();void 0!==ty&&(t8*=ty);var tv=tc.getMetersPerUnit();void 0!==tv&&(t8/=tv);var tm=tc.getExtent();if(!tm||C.containsCoordinate(tm,tg)){var t$=ln(tc,t8,tg)/t8;isFinite(t$)&&t$>0&&(t8/=t$)}return t8}function xa(tc,tp,tf,td,tg,t8,ty,tv,tm,t$,tx,tC){var tE=xt.createCanvasContext2D(Math.round(tf*tc),Math.round(tf*tp));if(tC||B.assign(tE,Xo),0===tm.length)return tE.canvas;function t_(tc){return Math.round(tc*tf)/tf}tE.scale(tf,tf),tE.globalCompositeOperation="lighter";var tS=C.createEmpty();tm.forEach(function(tc,tp,tf){C.extend(tS,tc.extent)});var tw=C.getWidth(tS),tR=C.getHeight(tS),tT=xt.createCanvasContext2D(Math.round(tf*tw/td),Math.round(tf*tR/td));tC||B.assign(tT,Xo);var tI=tf/td;tm.forEach(function(tc,tp,tf){var td=tc.extent[0]-tS[0],tg=-(tc.extent[3]-tS[3]),t8=C.getWidth(tc.extent),ty=C.getHeight(tc.extent);tc.image.width>0&&tc.image.height>0&&tT.drawImage(tc.image,t$,t$,tc.image.width-2*t$,tc.image.height-2*t$,td*tI,tg*tI,t8*tI,ty*tI)});var tO=C.getTopLeft(ty);return tv.getTriangles().forEach(function(tc,tp,tg){var ty=tc.source,tv=tc.target,tm=ty[0][0],t$=ty[0][1],tx=ty[1][0],tw=ty[1][1],tR=ty[2][0],tI=ty[2][1],tP=t_((tv[0][0]-tO[0])/t8),tL=t_(-(tv[0][1]-tO[1])/t8),tb=t_((tv[1][0]-tO[0])/t8),tF=t_(-(tv[1][1]-tO[1])/t8),tD=t_((tv[2][0]-tO[0])/t8),tA=t_(-(tv[2][1]-tO[1])/t8),tk=tm,tG=t$;tm=0,t$=0;var t0=[[tx-=tk,tw-=tG,0,0,tb-tP],[tR-=tk,tI-=tG,0,0,tD-tP],[0,0,tx,tw,tF-tL],[0,0,tR,tI,tA-tL],],tN=E.solveLinearSystem(t0);if(tN){if(tE.save(),tE.beginPath(),function(){if(void 0===ga){var tc=document.createElement("canvas").getContext("2d");tc.globalCompositeOperation="lighter",tc.fillStyle="rgba(210, 0, 0, 0.75)",ya(tc,4,5,4,0),ya(tc,4,5,0,5);var tp=tc.getImageData(0,0,3,3).data;ga=va(tp,0)||va(tp,4)||va(tp,8)}return ga}()||!tC){tE.moveTo(tb,tF);for(var tM=tP-tb,tz=tL-tF,tU=0;tU<4;tU++)tE.lineTo(tb+t_((tU+1)*tM/4),tF+t_(tU*tz/3)),3!=tU&&tE.lineTo(tb+t_((tU+1)*tM/4),tF+t_((tU+1)*tz/3));tE.lineTo(tD,tA)}else tE.moveTo(tb,tF),tE.lineTo(tP,tL),tE.lineTo(tD,tA);tE.clip(),tE.transform(tN[0],tN[2],tN[1],tN[3],tP,tL),tE.translate(tS[0]-tk,tS[3]-tG),tE.scale(td/tf,-td/tf),tE.drawImage(tT.canvas,0,0),tE.restore()}}),tx&&(tE.save(),tE.globalCompositeOperation="source-over",tE.strokeStyle="black",tE.lineWidth=1,tv.getTriangles().forEach(function(tc,tp,tf){var td=tc.target,tg=(td[0][0]-tO[0])/t8,ty=-(td[0][1]-tO[1])/t8,tv=(td[1][0]-tO[0])/t8,tm=-(td[1][1]-tO[1])/t8,t$=(td[2][0]-tO[0])/t8,tx=-(td[2][1]-tO[1])/t8;tE.beginPath(),tE.moveTo(tv,tm),tE.lineTo(tg,ty),tE.lineTo(t$,tx),tE.closePath(),tE.stroke()}),tE.restore()),tE.canvas}B=a("gn0g3"),C=a("9pD6L"),xt=a("DfnQm"),E=a("9byFX"),E=a("9byFX"),C=a("9pD6L"),Z=a("ilM9F");var Ca=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Ea=function(tc){function tp(tp,tf,td,tg,t8,ty,tv,tm,t$,tx,tC,tE){var t_=tc.call(this,t8,fe,{interpolate:!!tE})||this;t_.renderEdges_=void 0!==tC&&tC,t_.pixelRatio_=tv,t_.gutter_=tm,t_.canvas_=null,t_.sourceTileGrid_=tf,t_.targetTileGrid_=tg,t_.wrappedTileCoord_=ty||t8,t_.sourceTiles_=[],t_.sourcesListenerKeys_=null,t_.sourceZ_=0;var tS=tg.getTileCoordExtent(t_.wrappedTileCoord_),tw=t_.targetTileGrid_.getExtent(),tR=t_.sourceTileGrid_.getExtent(),tT=tw?C.getIntersection(tS,tw):tS;if(0===C.getArea(tT))return t_.state=ye,t_;var tI,tO,tP,tL,tb,tF,tD=tp.getExtent();tD&&(tR=tR?C.getIntersection(tR,tD):tD);var tA=tg.getResolution(t_.wrappedTileCoord_[0]),tk=(tI=tp,tO=td,tP=tT,tL=tA,tb=C.getCenter(tP),tF=ma(tI,tO,tb,tL),(!isFinite(tF)||tF<=0)&&C.forEachCorner(tP,function(tc){return tF=ma(tI,tO,tc,tL),isFinite(tF)&&tF>0}),tF);if(!isFinite(tk)||tk<=0||(t_.triangulation_=new _a(tp,td,tT,tR,tk*(void 0!==tx?tx:.5),tA),0===t_.triangulation_.getTriangles().length))return t_.state=ye,t_;t_.sourceZ_=tf.getZForResolution(tk);var tG=t_.triangulation_.calculateSourceExtent();if(tR&&(tp.canWrapX()?(tG[1]=E.clamp(tG[1],tR[1],tR[3]),tG[3]=E.clamp(tG[3],tR[1],tR[3])):tG=C.getIntersection(tG,tR)),C.getArea(tG)){for(var t0=tf.getTileRangeForExtentAndZ(tG,t_.sourceZ_),tN=t0.minX;tN<=t0.maxX;tN++)for(var tM=t0.minY;tM<=t0.maxY;tM++){var tz=t$(t_.sourceZ_,tN,tM,tv);tz&&t_.sourceTiles_.push(tz)}0===t_.sourceTiles_.length&&(t_.state=ye)}else t_.state=ye;return t_}return Ca(tp,tc),tp.prototype.getImage=function(){return this.canvas_},tp.prototype.reproject_=function(){var tc=[];if(this.sourceTiles_.forEach((function(tp,tf,td){tp&&tp.getState()==ge&&tc.push({extent:this.sourceTileGrid_.getTileCoordExtent(tp.tileCoord),image:tp.getImage()})}).bind(this)),this.sourceTiles_.length=0,0===tc.length)this.state=_e;else{var tp=this.wrappedTileCoord_[0],tf=this.targetTileGrid_.getTileSize(tp),td="number"==typeof tf?tf:tf[0],tg="number"==typeof tf?tf:tf[1],t8=this.targetTileGrid_.getResolution(tp),ty=this.sourceTileGrid_.getResolution(this.sourceZ_),tv=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=xa(td,tg,this.pixelRatio_,ty,this.sourceTileGrid_.getExtent(),t8,tv,this.triangulation_,tc,this.gutter_,this.renderEdges_,this.interpolate),this.state=ge}this.changed()},tp.prototype.load=function(){if(this.state==fe){this.state=de,this.changed();var tc=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(tp,tf,td){var tg=tp.getState();if(tg==fe||tg==de){tc++;var t8=Z.listen(tp,k.default.CHANGE,function(tf){var td=tp.getState();td!=ge&&td!=_e&&td!=ye||(Z.unlistenByKey(t8),0==--tc&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(t8)}}).bind(this)),0===tc?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(tc,tp,tf){tc.getState()==fe&&tc.load()})}},tp.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Z.unlistenByKey),this.sourcesListenerKeys_=null},tp}(na.default),Sa=function(){function tc(tc,tp,tf,td){this.minX=tc,this.maxX=tp,this.minY=tf,this.maxY=td}return tc.prototype.contains=function(tc){return this.containsXY(tc[1],tc[2])},tc.prototype.containsTileRange=function(tc){return this.minX<=tc.minX&&tc.maxX<=this.maxX&&this.minY<=tc.minY&&tc.maxY<=this.maxY},tc.prototype.containsXY=function(tc,tp){return this.minX<=tc&&tc<=this.maxX&&this.minY<=tp&&tp<=this.maxY},tc.prototype.equals=function(tc){return this.minX==tc.minX&&this.minY==tc.minY&&this.maxX==tc.maxX&&this.maxY==tc.maxY},tc.prototype.extend=function(tc){tc.minX<this.minX&&(this.minX=tc.minX),tc.maxX>this.maxX&&(this.maxX=tc.maxX),tc.minY<this.minY&&(this.minY=tc.minY),tc.maxY>this.maxY&&(this.maxY=tc.maxY)},tc.prototype.getHeight=function(){return this.maxY-this.minY+1},tc.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},tc.prototype.getWidth=function(){return this.maxX-this.minX+1},tc.prototype.intersects=function(tc){return this.minX<=tc.maxX&&this.maxX>=tc.minX&&this.minY<=tc.maxY&&this.maxY>=tc.minY},tc}();function wa(tc,tp,tf,td,tg){return void 0!==tg?(tg.minX=tc,tg.maxX=tp,tg.minY=tf,tg.maxY=td,tg):new Sa(tc,tp,tf,td)}var Oa=Sa,Ta=(B=a("gn0g3"),C=a("9pD6L"),f=a("9iPUS"),Rn=a("fVVyM"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}()),ba=function(tc){function tp(tp){var tf=tc.call(this,tp)||this;return tf.extentChanged=!0,tf.renderedExtent_=null,tf.renderedPixelRatio,tf.renderedProjection=null,tf.renderedRevision,tf.renderedTiles=[],tf.newTiles_=!1,tf.tmpExtent=C.createEmpty(),tf.tmpTileRange_=new Oa(0,0,0,0),tf}return Ta(tp,tc),tp.prototype.isDrawableTile=function(tc){var tp=this.getLayer(),tf=tc.getState(),td=tp.getUseInterimTilesOnError();return tf==ge||tf==ye||tf==_e&&!td},tp.prototype.getTile=function(tc,tp,tf,td){var tg=td.pixelRatio,t8=td.viewState.projection,ty=this.getLayer(),tv=ty.getSource().getTile(tc,tp,tf,tg,t8);return tv.getState()==_e&&(ty.getUseInterimTilesOnError()?ty.getPreload()>0&&(this.newTiles_=!0):tv.setState(ge)),this.isDrawableTile(tv)||(tv=tv.getInterimTile()),tv},tp.prototype.getData=function(tc){var tp=this.frameState;if(!tp)return null;var tf=this.getLayer(),td=y(tp.pixelToCoordinateTransform,tc.slice()),tg=tf.getExtent();if(tg&&!C.containsCoordinate(tg,td))return null;for(var t8=tp.pixelRatio,ty=tp.viewState.projection,tv=tp.viewState,tm=tf.getRenderSource(),t$=tm.getTileGridForProjection(tv.projection),tx=tm.getTilePixelRatio(tp.pixelRatio),tC=t$.getZForResolution(tv.resolution);tC>=t$.getMinZoom();--tC){var tE=t$.getTileCoordForCoordAndZ(td,tC),t_=tm.getTile(tC,tE[1],tE[2],t8,ty);if(!(t_ instanceof ea.default||t_ instanceof da.default))break;if(t_.getState()===ge){var tS=t$.getOrigin(tC),tw=Hi(t$.getTileSize(tC)),tR=t$.getResolution(tC),tT=Math.floor(tx*((td[0]-tS[0])/tR-tE[1]*tw[0])),tI=Math.floor(tx*((tS[1]-td[1])/tR-tE[2]*tw[1]));return this.getImageData(t_.getImage(),tT,tI)}}return null},tp.prototype.loadedTileCallback=function(tp,tf,td){return!!this.isDrawableTile(td)&&tc.prototype.loadedTileCallback.call(this,tp,tf,td)},tp.prototype.prepareFrame=function(tc){return!!this.getLayer().getSource()},tp.prototype.renderFrame=function(tc,tp){var tf=tc.layerStatesArray[tc.layerIndex],td=tc.viewState,tg=td.projection,t8=td.resolution,ty=td.center,tv=td.rotation,tm=tc.pixelRatio,t$=this.getLayer(),tx=t$.getSource(),tC=tx.getRevision(),tE=tx.getTileGridForProjection(tg),t_=tE.getZForResolution(t8,tx.zDirection),tS=tE.getResolution(t_),tw=tc.extent,tR=tf.extent&&wn(tf.extent,tg);tR&&(tw=C.getIntersection(tw,wn(tf.extent,tg)));var tT=tx.getTilePixelRatio(tm),tI=Math.round(tc.size[0]*tT),tO=Math.round(tc.size[1]*tT);if(tv){var tP=Math.round(Math.sqrt(tI*tI+tO*tO));tI=tP,tO=tP}var tL=tS*tI/2/tT,tb=tS*tO/2/tT,tF=[ty[0]-tL,ty[1]-tb,ty[0]+tL,ty[1]+tb],tD=tE.getTileRangeForExtentAndZ(tw,t_),tA={};tA[t_]={};var tk=this.createLoadedTileFinder(tx,tg,tA),tG=this.tmpExtent,t0=this.tmpTileRange_;this.newTiles_=!1;for(var tN=tD.minX;tN<=tD.maxX;++tN)for(var tM=tD.minY;tM<=tD.maxY;++tM){var tz=this.getTile(t_,tN,tM,tc);if(this.isDrawableTile(tz)){var tU=f.getUid(this);if(tz.getState()==ge){tA[t_][tz.tileCoord.toString()]=tz;var tX=tz.inTransition(tU);this.newTiles_||!tX&&-1!==this.renderedTiles.indexOf(tz)||(this.newTiles_=!0)}if(1===tz.getAlpha(tU,tc.time))continue}var tY=tE.getTileCoordChildTileRange(tz.tileCoord,t0,tG),tV=!1;tY&&(tV=tk(t_+1,tY)),tV||tE.forEachTileCoordParentTileRange(tz.tileCoord,tk,t0,tG)}var tB=tS/t8;v(this.pixelTransform,tc.size[0]/2,tc.size[1]/2,1/tT,1/tT,tv,-tI/2,-tO/2);var tW=x(this.pixelTransform);this.useContainer(tp,tW,tf.opacity,this.getBackground(tc));var tK=this.context,tZ=tK.canvas;m(this.inversePixelTransform,this.pixelTransform),v(this.tempTransform,tI/2,tO/2,tB,tB,0,-tI/2,-tO/2),tZ.width!=tI||tZ.height!=tO?(tZ.width=tI,tZ.height=tO):this.containerReused||tK.clearRect(0,0,tI,tO),tR&&this.clipUnrotated(tK,tc,tR),tx.getInterpolate()||B.assign(tK,Xo),this.preRender(tK,tc),this.renderedTiles.length=0;var tj,t1,tH,tq=Object.keys(tA).map(Number);tq.sort(Rn.numberSafeCompareFunction),1!==tf.opacity||this.containerReused&&!tx.getOpaque(tc.viewState.projection)?(tj=[],t1=[]):tq=tq.reverse();for(var t3=tq.length-1;t3>=0;--t3){var t7=tq[t3],t2=tx.getTilePixelSize(t7,tm,tg),t4=tE.getResolution(t7)/tS,t6=t2[0]*t4*tB,tJ=t2[1]*t4*tB,tQ=tE.getTileCoordForCoordAndZ(C.getTopLeft(tF),t7),t5=tE.getTileCoordExtent(tQ),t9=y(this.tempTransform,[tT*(t5[0]-tF[0])/tS,tT*(tF[3]-t5[3])/tS,]),ec=tT*tx.getGutterForProjection(tg),ep=tA[t7];for(var ef in ep){var ed=(tz=ep[ef]).tileCoord,eg=tQ[1]-ed[1],e8=Math.round(t9[0]-(eg-1)*t6),ey=tQ[2]-ed[2],ev=Math.round(t9[1]-(ey-1)*tJ),em=e8-(tN=Math.round(t9[0]-eg*t6)),e$=ev-(tM=Math.round(t9[1]-ey*tJ)),ex=t_===t7,eC=!1;if(!(tX=ex&&1!==tz.getAlpha(f.getUid(this),tc.time))){if(tj){tH=[tN,tM,tN+em,tM,tN+em,tM+e$,tN,tM+e$];for(var eE=0,e_=tj.length;eE<e_;++eE)if(t_!==t7&&t7<t1[eE]){var eS=tj[eE];C.intersects([tN,tM,tN+em,tM+e$],[eS[0],eS[3],eS[4],eS[7]])&&(eC||(tK.save(),eC=!0),tK.beginPath(),tK.moveTo(tH[0],tH[1]),tK.lineTo(tH[2],tH[3]),tK.lineTo(tH[4],tH[5]),tK.lineTo(tH[6],tH[7]),tK.moveTo(eS[6],eS[7]),tK.lineTo(eS[4],eS[5]),tK.lineTo(eS[2],eS[3]),tK.lineTo(eS[0],eS[1]),tK.clip())}tj.push(tH),t1.push(t7)}else tK.clearRect(tN,tM,em,e$)}this.drawTileImage(tz,tc,tN,tM,em,e$,ec,ex),tj&&!tX?(eC&&tK.restore(),this.renderedTiles.unshift(tz)):this.renderedTiles.push(tz),this.updateUsedTiles(tc.usedTiles,tx,tz)}}this.renderedRevision=tC,this.renderedResolution=tS,this.extentChanged=!this.renderedExtent_||!C.equals(this.renderedExtent_,tF),this.renderedExtent_=tF,this.renderedPixelRatio=tm,this.renderedProjection=tg,this.manageTilePyramid(tc,tx,tE,tm,tg,tw,t_,t$.getPreload()),this.scheduleExpireCache(tc,tx),this.postRender(tK,tc),tf.extent&&tK.restore(),B.assign(tK,Yo),tW!==tZ.style.transform&&(tZ.style.transform=tW);var ew=yt(tf.opacity),eR=this.container;return ew!==eR.style.opacity&&(eR.style.opacity=ew),this.container},tp.prototype.drawTileImage=function(tc,tp,tf,td,tg,t8,ty,tv){var tm=this.getTileImage(tc);if(tm){var t$=f.getUid(this),tx=tv?tc.getAlpha(t$,tp.time):1,tC=tx!==this.context.globalAlpha;tC&&(this.context.save(),this.context.globalAlpha=tx),this.context.drawImage(tm,ty,ty,tm.width-2*ty,tm.height-2*ty,tf,td,tg,t8),tC&&this.context.restore(),1!==tx?tp.animate=!0:tv&&tc.endTransition(t$)}},tp.prototype.getImage=function(){var tc=this.context;return tc?tc.canvas:null},tp.prototype.getTileImage=function(tc){return tc.getImage()},tp.prototype.scheduleExpireCache=function(tc,tp){if(tp.canExpireCache()){var tf=(function(tc,tp,tf){var td=f.getUid(tc);td in tf.usedTiles&&tc.expireCache(tf.viewState.projection,tf.usedTiles[td])}).bind(null,tp);tc.postRenderFunctions.push(tf)}},tp.prototype.updateUsedTiles=function(tc,tp,tf){var td=f.getUid(tp);td in tc||(tc[td]={}),tc[td][tf.getKey()]=!0},tp.prototype.manageTilePyramid=function(tc,tp,tf,td,tg,t8,ty,tv,tm){var t$=f.getUid(tp);t$ in tc.wantedTiles||(tc.wantedTiles[t$]={});var tx,tC,tE,t_,tS,tw,tR=tc.wantedTiles[t$],tT=tc.tileQueue,tI=0;for(tw=tf.getMinZoom();tw<=ty;++tw)for(tC=tf.getTileRangeForExtentAndZ(t8,tw,tC),tE=tf.getResolution(tw),t_=tC.minX;t_<=tC.maxX;++t_)for(tS=tC.minY;tS<=tC.maxY;++tS)ty-tw<=tv?(++tI,(tx=tp.getTile(tw,t_,tS,td,tg)).getState()==fe&&(tR[tx.getKey()]=!0,tT.isKeyQueued(tx.getKey())||tT.enqueue([tx,t$,tf.getTileCoordCenter(tx.tileCoord),tE])),void 0!==tm&&tm(tx)):tp.useTile(tw,t_,tS,tg);tp.updateCacheSize(tI,tg)},tp}(Io.default),Ra=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Ia=function(tc){function tp(tp){return tc.call(this,tp)||this}return Ra(tp,tc),tp.prototype.createRenderer=function(){return new ta.default(this)},tp}(Ho.default),Pa={};e(Pa,"ATTRIBUTION",()=>_s,tc=>_s=tc),e(Pa,"default",()=>ys,tc=>ys=tc);var La={};e(La,"default",()=>ds,tc=>ds=tc);var Ma={};e(Ma,"default",()=>ps,tc=>ps=tc),k=a("3xzSb");var Fa={};e(Fa,"default",()=>ka,tc=>ka=tc),g=a("4Cz58");var Aa=function(){function tc(tc){this.highWaterMark=void 0!==tc?tc:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return tc.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},tc.prototype.expireCache=function(tc){for(;this.canExpireCache();)this.pop()},tc.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},tc.prototype.containsKey=function(tc){return this.entries_.hasOwnProperty(tc)},tc.prototype.forEach=function(tc){for(var tp=this.oldest_;tp;)tc(tp.value_,tp.key_,this),tp=tp.newer},tc.prototype.get=function(tc,tp){var tf=this.entries_[tc];return g.assert(void 0!==tf,15),tf===this.newest_||(tf===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(tf.newer.older=tf.older,tf.older.newer=tf.newer),tf.newer=null,tf.older=this.newest_,this.newest_.newer=tf,this.newest_=tf),tf.value_},tc.prototype.remove=function(tc){var tp=this.entries_[tc];return g.assert(void 0!==tp,15),tp===this.newest_?(this.newest_=tp.older,this.newest_&&(this.newest_.newer=null)):tp===this.oldest_?(this.oldest_=tp.newer,this.oldest_&&(this.oldest_.older=null)):(tp.newer.older=tp.older,tp.older.newer=tp.newer),delete this.entries_[tc],--this.count_,tp.value_},tc.prototype.getCount=function(){return this.count_},tc.prototype.getKeys=function(){var tc,tp=Array(this.count_),tf=0;for(tc=this.newest_;tc;tc=tc.older)tp[tf++]=tc.key_;return tp},tc.prototype.getValues=function(){var tc,tp=Array(this.count_),tf=0;for(tc=this.newest_;tc;tc=tc.older)tp[tf++]=tc.value_;return tp},tc.prototype.peekLast=function(){return this.oldest_.value_},tc.prototype.peekLastKey=function(){return this.oldest_.key_},tc.prototype.peekFirstKey=function(){return this.newest_.key_},tc.prototype.pop=function(){var tc=this.oldest_;return delete this.entries_[tc.key_],tc.newer&&(tc.newer.older=null),this.oldest_=tc.newer,this.oldest_||(this.newest_=null),--this.count_,tc.value_},tc.prototype.replace=function(tc,tp){this.get(tc),this.entries_[tc].value_=tp},tc.prototype.set=function(tc,tp){g.assert(!(tc in this.entries_),16);var tf={key_:tc,newer:null,older:this.newest_,value_:tp};this.newest_?this.newest_.newer=tf:this.oldest_=tf,this.newest_=tf,this.entries_[tc]=tf,++this.count_},tc.prototype.setSize=function(tc){this.highWaterMark=tc},tc}();function Da(tc,tp,tf,td){return void 0!==td?(td[0]=tc,td[1]=tp,td[2]=tf,td):[tc,tp,tf]}function ja(tc,tp,tf){return tc+"/"+tp+"/"+tf}function Na(tc){return ja(tc[0],tc[1],tc[2])}var Ga=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),ka=function(tc){function tp(){return null!==tc&&tc.apply(this,arguments)||this}return Ga(tp,tc),tp.prototype.expireCache=function(tc){for(;this.canExpireCache()&&!(this.peekLast().getKey() in tc);)this.pop().release()},tp.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var tc,tp=(tc=this.peekFirstKey()).split("/").map(Number)[0];this.forEach((function(tc){tc.tileCoord[0]!==tp&&(this.remove(Na(tc.tileCoord)),tc.release())}).bind(this))}},tp}(Aa),za={};e(za,"default",()=>ls,tc=>ls=tc);var Ua="tileloadstart",Xa="tileloadend",Ya="tileloaderror",Va={};e(Va,"TileSourceEvent",()=>is,tc=>is=tc),e(Va,"default",()=>rs,tc=>rs=tc),st=a("f18Q2");var Wa={};e(Wa,"default",()=>Za,tc=>Za=tc),vt=a("fFFY7"),K=a("d8cxx"),f=a("9iPUS");var Ka=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}();function Ba(tc){return tc?Array.isArray(tc)?function(tp){return tc}:"function"==typeof tc?tc:function(tp){return[tc]}:null}var Za=function(tc){function tp(tp){var tf=tc.call(this)||this;tf.projection=sn(tp.projection),tf.attributions_=Ba(tp.attributions),tf.attributionsCollapsible_=void 0===tp.attributionsCollapsible||tp.attributionsCollapsible,tf.loading=!1,tf.state_=void 0!==tp.state?tp.state:K.default.READY,tf.wrapX_=void 0!==tp.wrapX&&tp.wrapX,tf.interpolate_=!!tp.interpolate,tf.viewResolver=null,tf.viewRejector=null;var td=tf;return tf.viewPromise_=new Promise(function(tc,tp){td.viewResolver=tc,td.viewRejector=tp}),tf}return Ka(tp,tc),tp.prototype.getAttributions=function(){return this.attributions_},tp.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},tp.prototype.getProjection=function(){return this.projection},tp.prototype.getResolutions=function(){return f.abstract()},tp.prototype.getView=function(){return this.viewPromise_},tp.prototype.getState=function(){return this.state_},tp.prototype.getWrapX=function(){return this.wrapX_},tp.prototype.getInterpolate=function(){return this.interpolate_},tp.prototype.refresh=function(){this.changed()},tp.prototype.setAttributions=function(tc){this.attributions_=Ba(tc),this.changed()},tp.prototype.setState=function(tc){this.state_=tc,this.changed()},tp}(vt.default),Ha=(f=a("9iPUS"),g=a("4Cz58"),a("43hY5")),qa=(g=a("4Cz58"),E=a("9byFX"),C=a("9pD6L"),Rn=a("fVVyM"),[0,0,0]),Ja=function(){function tc(tc){if(this.minZoom=void 0!==tc.minZoom?tc.minZoom:0,this.resolutions_=tc.resolutions,g.assert(Rn.isSorted(this.resolutions_,function(tc,tp){return tp-tc},!0),17),!tc.origins)for(var tp,tf=0,td=this.resolutions_.length-1;tf<td;++tf)if(tp){if(this.resolutions_[tf]/this.resolutions_[tf+1]!==tp){tp=void 0;break}}else tp=this.resolutions_[tf]/this.resolutions_[tf+1];this.zoomFactor_=tp,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==tc.origin?tc.origin:null,this.origins_=null,void 0!==tc.origins&&(this.origins_=tc.origins,g.assert(this.origins_.length==this.resolutions_.length,20));var tg=tc.extent;void 0===tg||this.origin_||this.origins_||(this.origin_=C.getTopLeft(tg)),g.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==tc.tileSizes&&(this.tileSizes_=tc.tileSizes,g.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==tc.tileSize?tc.tileSize:this.tileSizes_?null:Pe,g.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==tg?tg:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==tc.sizes?this.fullTileRanges_=tc.sizes.map(function(tc,tp){var tf=new Oa(Math.min(0,tc[0]),Math.max(tc[0]-1,-1),Math.min(0,tc[1]),Math.max(tc[1]-1,-1));if(tg){var td=this.getTileRangeForExtentAndZ(tg,tp);tf.minX=Math.max(td.minX,tf.minX),tf.maxX=Math.min(td.maxX,tf.maxX),tf.minY=Math.max(td.minY,tf.minY),tf.maxY=Math.min(td.maxY,tf.maxY)}return tf},this):tg&&this.calculateTileRanges_(tg)}return tc.prototype.forEachTileCoord=function(tc,tp,tf){for(var td=this.getTileRangeForExtentAndZ(tc,tp),tg=td.minX,t8=td.maxX;tg<=t8;++tg)for(var ty=td.minY,tv=td.maxY;ty<=tv;++ty)tf([tp,tg,ty])},tc.prototype.forEachTileCoordParentTileRange=function(tc,tp,tf,td){var tg,t8,ty=null,tv=tc[0]-1;for(2===this.zoomFactor_?(tg=tc[1],t8=tc[2]):ty=this.getTileCoordExtent(tc,td);tv>=this.minZoom;){if(tp(tv,2===this.zoomFactor_?wa(tg=Math.floor(tg/2),tg,t8=Math.floor(t8/2),t8,tf):this.getTileRangeForExtentAndZ(ty,tv,tf)))return!0;--tv}return!1},tc.prototype.getExtent=function(){return this.extent_},tc.prototype.getMaxZoom=function(){return this.maxZoom},tc.prototype.getMinZoom=function(){return this.minZoom},tc.prototype.getOrigin=function(tc){return this.origin_?this.origin_:this.origins_[tc]},tc.prototype.getResolution=function(tc){return this.resolutions_[tc]},tc.prototype.getResolutions=function(){return this.resolutions_},tc.prototype.getTileCoordChildTileRange=function(tc,tp,tf){if(tc[0]<this.maxZoom){if(2===this.zoomFactor_){var td=2*tc[1],tg=2*tc[2];return wa(td,td+1,tg,tg+1,tp)}var t8=this.getTileCoordExtent(tc,tf||this.tmpExtent_);return this.getTileRangeForExtentAndZ(t8,tc[0]+1,tp)}return null},tc.prototype.getTileRangeForTileCoordAndZ=function(tc,tp,tf){if(tp>this.maxZoom||tp<this.minZoom)return null;var td=tc[0],tg=tc[1],t8=tc[2];if(tp===td)return wa(tg,t8,tg,t8,tf);if(this.zoomFactor_){var ty=Math.pow(this.zoomFactor_,tp-td),tv=Math.floor(tg*ty),tm=Math.floor(t8*ty);return tp<td?wa(tv,tv,tm,tm,tf):wa(tv,Math.floor(ty*(tg+1))-1,tm,Math.floor(ty*(t8+1))-1,tf)}var t$=this.getTileCoordExtent(tc,this.tmpExtent_);return this.getTileRangeForExtentAndZ(t$,tp,tf)},tc.prototype.getTileRangeExtent=function(tc,tp,tf){var td=this.getOrigin(tc),tg=this.getResolution(tc),t8=Hi(this.getTileSize(tc),this.tmpSize_),ty=td[0]+tp.minX*t8[0]*tg,tv=td[0]+(tp.maxX+1)*t8[0]*tg,tm=td[1]+tp.minY*t8[1]*tg,t$=td[1]+(tp.maxY+1)*t8[1]*tg;return C.createOrUpdate(ty,tm,tv,t$,tf)},tc.prototype.getTileRangeForExtentAndZ=function(tc,tp,tf){var td=qa;this.getTileCoordForXYAndZ_(tc[0],tc[3],tp,!1,td);var tg=td[1],t8=td[2];return this.getTileCoordForXYAndZ_(tc[2],tc[1],tp,!0,td),wa(tg,td[1],t8,td[2],tf)},tc.prototype.getTileCoordCenter=function(tc){var tp=this.getOrigin(tc[0]),tf=this.getResolution(tc[0]),td=Hi(this.getTileSize(tc[0]),this.tmpSize_);return[tp[0]+(tc[1]+.5)*td[0]*tf,tp[1]-(tc[2]+.5)*td[1]*tf]},tc.prototype.getTileCoordExtent=function(tc,tp){var tf=this.getOrigin(tc[0]),td=this.getResolution(tc[0]),tg=Hi(this.getTileSize(tc[0]),this.tmpSize_),t8=tf[0]+tc[1]*tg[0]*td,ty=tf[1]-(tc[2]+1)*tg[1]*td,tv=t8+tg[0]*td,tm=ty+tg[1]*td;return C.createOrUpdate(t8,ty,tv,tm,tp)},tc.prototype.getTileCoordForCoordAndResolution=function(tc,tp,tf){return this.getTileCoordForXYAndResolution_(tc[0],tc[1],tp,!1,tf)},tc.prototype.getTileCoordForXYAndResolution_=function(tc,tp,tf,td,tg){var t8=this.getZForResolution(tf),ty=tf/this.getResolution(t8),tv=this.getOrigin(t8),tm=Hi(this.getTileSize(t8),this.tmpSize_),t$=ty*(tc-tv[0])/tf/tm[0],tx=ty*(tv[1]-tp)/tf/tm[1];return td?(t$=E.ceil(t$,5)-1,tx=E.ceil(tx,5)-1):(t$=E.floor(t$,5),tx=E.floor(tx,5)),Da(t8,t$,tx,tg)},tc.prototype.getTileCoordForXYAndZ_=function(tc,tp,tf,td,tg){var t8=this.getOrigin(tf),ty=this.getResolution(tf),tv=Hi(this.getTileSize(tf),this.tmpSize_),tm=(tc-t8[0])/ty/tv[0],t$=(t8[1]-tp)/ty/tv[1];return td?(tm=E.ceil(tm,5)-1,t$=E.ceil(t$,5)-1):(tm=E.floor(tm,5),t$=E.floor(t$,5)),Da(tf,tm,t$,tg)},tc.prototype.getTileCoordForCoordAndZ=function(tc,tp,tf){return this.getTileCoordForXYAndZ_(tc[0],tc[1],tp,!1,tf)},tc.prototype.getTileCoordResolution=function(tc){return this.resolutions_[tc[0]]},tc.prototype.getTileSize=function(tc){return this.tileSize_?this.tileSize_:this.tileSizes_[tc]},tc.prototype.getFullTileRange=function(tc){return this.fullTileRanges_?this.fullTileRanges_[tc]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,tc):null},tc.prototype.getZForResolution=function(tc,tp){var tf=Rn.linearFindNearest(this.resolutions_,tc,tp||0);return E.clamp(tf,this.minZoom,this.maxZoom)},tc.prototype.calculateTileRanges_=function(tc){for(var tp=this.resolutions_.length,tf=Array(tp),td=this.minZoom;td<tp;++td)tf[td]=this.getTileRangeForExtentAndZ(tc,td);this.fullTileRanges_=tf},tc}();function Qa(tc){var tp,tf,td,tg,t8,ty,tv,tm=tc.getDefaultTileGrid();return tm||(tm=(tf=ts(tp=tc),td=void 0,tg=void 0,ty=(t8=void 0,!1,Ha.default.TOP_LEFT),tv=$a(tf,td,tg),new Ja({extent:tf,origin:C.getCorner(tf,ty),resolutions:tv,tileSize:tg})),tc.setDefaultTileGrid(tm)),tm}function $a(tc,tp,tf,td){for(var tg=void 0!==tp?tp:Ie,t8=C.getHeight(tc),ty=C.getWidth(tc),tv=Hi(void 0!==tf?tf:Pe),tm=td>0?td:Math.max(ty/tv[0],t8/tv[1]),t$=tg+1,tx=Array(t$),tC=0;tC<t$;++tC)tx[tC]=tm/Math.pow(2,tC);return tx}function ts(tc){var tp=(tc=sn(tc)).getExtent();if(!tp){var tf=180*we[Oe.DEGREES]/tc.getMetersPerUnit();tp=C.createOrUpdate(-tf,-tf,tf,tf)}return tp}C=a("9pD6L");var es=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),ns=function(tc){function tp(tp){var tf=tc.call(this,{attributions:tp.attributions,attributionsCollapsible:tp.attributionsCollapsible,projection:tp.projection,state:tp.state,wrapX:tp.wrapX,interpolate:tp.interpolate})||this;return tf.on,tf.once,tf.un,tf.opaque_=void 0!==tp.opaque&&tp.opaque,tf.tilePixelRatio_=void 0!==tp.tilePixelRatio?tp.tilePixelRatio:1,tf.tileGrid=void 0!==tp.tileGrid?tp.tileGrid:null,tf.tileGrid&&Hi(tf.tileGrid.getTileSize(tf.tileGrid.getMinZoom()),[256,256]),tf.tileCache=new Fa.default(tp.cacheSize||0),tf.tmpSize=[0,0],tf.key_=tp.key||"",tf.tileOptions={transition:tp.transition,interpolate:tp.interpolate},tf.zDirection=tp.zDirection?tp.zDirection:0,tf}return es(tp,tc),tp.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},tp.prototype.expireCache=function(tc,tp){var tf=this.getTileCacheForProjection(tc);tf&&tf.expireCache(tp)},tp.prototype.forEachLoadedTile=function(tc,tp,tf,td){var tg=this.getTileCacheForProjection(tc);if(!tg)return!1;for(var t8,ty,tv,tm=!0,t$=tf.minX;t$<=tf.maxX;++t$)for(var tx=tf.minY;tx<=tf.maxY;++tx)ty=ja(tp,t$,tx),tv=!1,tg.containsKey(ty)&&(tv=(t8=tg.get(ty)).getState()===ge)&&(tv=!1!==td(t8)),tv||(tm=!1);return tm},tp.prototype.getGutterForProjection=function(tc){return 0},tp.prototype.getKey=function(){return this.key_},tp.prototype.setKey=function(tc){this.key_!==tc&&(this.key_=tc,this.changed())},tp.prototype.getOpaque=function(tc){return this.opaque_},tp.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},tp.prototype.getTile=function(tc,tp,tf,td,tg){return f.abstract()},tp.prototype.getTileGrid=function(){return this.tileGrid},tp.prototype.getTileGridForProjection=function(tc){return this.tileGrid?this.tileGrid:Qa(tc)},tp.prototype.getTileCacheForProjection=function(tc){return g.assert(cn(this.getProjection(),tc),68),this.tileCache},tp.prototype.getTilePixelRatio=function(tc){return this.tilePixelRatio_},tp.prototype.getTilePixelSize=function(tc,tp,tf){var td,tg,t8,ty=this.getTileGridForProjection(tf),tv=this.getTilePixelRatio(tp),tm=Hi(ty.getTileSize(tc),this.tmpSize);return 1==tv?tm:(td=tm,tg=tv,void 0===(t8=this.tmpSize)&&(t8=[0,0]),t8[0]=td[0]*tg+.5|0,t8[1]=td[1]*tg+.5|0,t8)},tp.prototype.getTileCoordForTileUrlFunction=function(tc,tp){var tf=void 0!==tp?tp:this.getProjection(),td=this.getTileGridForProjection(tf);return this.getWrapX()&&tf.isGlobal()&&(tc=function(tc,tp,tf){var td=tp[0],tg=tc.getTileCoordCenter(tp),t8=ts(tf);if(C.containsCoordinate(t8,tg))return tp;var ty=C.getWidth(t8),tv=Math.ceil((t8[0]-tg[0])/ty);return tg[0]+=ty*tv,tc.getTileCoordForCoordAndZ(tg,td)}(td,tc,tf)),!function(tc,tp){var tf=tc[0],td=tc[1],tg=tc[2];if(tp.getMinZoom()>tf||tf>tp.getMaxZoom())return!1;var t8=tp.getFullTileRange(tf);return!t8||t8.containsXY(td,tg)}(tc,td)?null:tc},tp.prototype.clear=function(){this.tileCache.clear()},tp.prototype.refresh=function(){this.clear(),tc.prototype.refresh.call(this)},tp.prototype.updateCacheSize=function(tc,tp){var tf=this.getTileCacheForProjection(tp);tc>tf.highWaterMark&&(tf.highWaterMark=tc)},tp.prototype.useTile=function(tc,tp,tf,td){},tp}(Wa.default),is=function(tc){function tp(tp,tf){var td=tc.call(this,tp)||this;return td.tile=tf,td}return es(tp,tc),tp}(st.default),rs=ns;function os(tc,tp){var tf=/\{z\}/g,td=/\{x\}/g,tg=/\{y\}/g,t8=/\{-y\}/g;return function(ty,tv,tm){return ty?tc.replace(tf,ty[0].toString()).replace(td,ty[1].toString()).replace(tg,ty[2].toString()).replace(t8,function(){var tc=ty[0],tf=tp.getFullTileRange(tc);return g.assert(tf,55),(tf.getHeight()-ty[2]-1).toString()}):void 0}}function as(tc,tp){for(var tf,td=tc.length,tg=Array(td),t8=0;t8<td;++t8)tg[t8]=os(tc[t8],tp);return 1===(tf=tg).length?tf[0]:function(tc,tp,td){if(tc){var tg,t8=((tg=tc)[1]<<tg[0])+tg[2];return tf[E.modulo(t8,tf.length)](tc,tp,td)}}}g=a("4Cz58"),E=a("9byFX"),f=a("9iPUS");var ss=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),ls=function(tc){function tp(tf){var td=tc.call(this,{attributions:tf.attributions,cacheSize:tf.cacheSize,opaque:tf.opaque,projection:tf.projection,state:tf.state,tileGrid:tf.tileGrid,tilePixelRatio:tf.tilePixelRatio,wrapX:tf.wrapX,transition:tf.transition,interpolate:tf.interpolate,key:tf.key,attributionsCollapsible:tf.attributionsCollapsible,zDirection:tf.zDirection})||this;return td.generateTileUrlFunction_=td.tileUrlFunction===tp.prototype.tileUrlFunction,td.tileLoadFunction=tf.tileLoadFunction,tf.tileUrlFunction&&(td.tileUrlFunction=tf.tileUrlFunction),td.urls=null,tf.urls?td.setUrls(tf.urls):tf.url&&td.setUrl(tf.url),td.tileLoadingKeys_={},td}return ss(tp,tc),tp.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},tp.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},tp.prototype.getUrls=function(){return this.urls},tp.prototype.handleTileChange=function(tc){var tp,tf=tc.target,td=f.getUid(tf),tg=tf.getState();tg==de?(this.tileLoadingKeys_[td]=!0,tp=Ua):td in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[td],tp=tg==_e?Ya:tg==ge?Xa:void 0),null!=tp&&this.dispatchEvent(new Va.TileSourceEvent(tp,tf))},tp.prototype.setTileLoadFunction=function(tc){this.tileCache.clear(),this.tileLoadFunction=tc,this.changed()},tp.prototype.setTileUrlFunction=function(tc,tp){this.tileUrlFunction=tc,this.tileCache.pruneExceptNewestZ(),void 0!==tp?this.setKey(tp):this.changed()},tp.prototype.setUrl=function(tc){var tp=function(tc){var tp=[],tf=/\{([a-z])-([a-z])\}/.exec(tc);if(tf){var td=tf[1].charCodeAt(0),tg=tf[2].charCodeAt(0),t8=void 0;for(t8=td;t8<=tg;++t8)tp.push(tc.replace(tf[0],String.fromCharCode(t8)));return tp}if(tf=/\{(\d+)-(\d+)\}/.exec(tc)){for(var ty=parseInt(tf[2],10),tv=parseInt(tf[1],10);tv<=ty;tv++)tp.push(tc.replace(tf[0],tv.toString()));return tp}return tp.push(tc),tp}(tc);this.urls=tp,this.setUrls(tp)},tp.prototype.setUrls=function(tc){this.urls=tc;var tp=tc.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(as(tc,this.tileGrid),tp):this.setKey(tp)},tp.prototype.tileUrlFunction=function(tc,tp,tf){},tp.prototype.useTile=function(tc,tp,tf){var td=ja(tc,tp,tf);this.tileCache.containsKey(td)&&this.tileCache.get(td)},tp}(Va.default),us=(f=a("9iPUS"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}()),hs=function(tc){function tp(tp){var tf=this,td=void 0===tp.imageSmoothing||tp.imageSmoothing;return void 0!==tp.interpolate&&(td=tp.interpolate),(tf=tc.call(this,{attributions:tp.attributions,cacheSize:tp.cacheSize,opaque:tp.opaque,projection:tp.projection,state:tp.state,tileGrid:tp.tileGrid,tileLoadFunction:tp.tileLoadFunction?tp.tileLoadFunction:cs,tilePixelRatio:tp.tilePixelRatio,tileUrlFunction:tp.tileUrlFunction,url:tp.url,urls:tp.urls,wrapX:tp.wrapX,transition:tp.transition,interpolate:td,key:tp.key,attributionsCollapsible:tp.attributionsCollapsible,zDirection:tp.zDirection})||this).crossOrigin=void 0!==tp.crossOrigin?tp.crossOrigin:null,tf.tileClass=void 0!==tp.tileClass?tp.tileClass:ea.default,tf.tileCacheForProjection={},tf.tileGridForProjection={},tf.reprojectionErrorThreshold_=tp.reprojectionErrorThreshold,tf.renderReprojectionEdges_=!1,tf}return us(tp,tc),tp.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var tc in this.tileCacheForProjection)if(this.tileCacheForProjection[tc].canExpireCache())return!0;return!1},tp.prototype.expireCache=function(tc,tp){var tf=this.getTileCacheForProjection(tc);for(var td in this.tileCache.expireCache(this.tileCache==tf?tp:{}),this.tileCacheForProjection){var tg=this.tileCacheForProjection[td];tg.expireCache(tg==tf?tp:{})}},tp.prototype.getGutterForProjection=function(tc){return this.getProjection()&&tc&&!cn(this.getProjection(),tc)?0:this.getGutter()},tp.prototype.getGutter=function(){return 0},tp.prototype.getKey=function(){var tp=tc.prototype.getKey.call(this);return this.getInterpolate()||(tp+=":disable-interpolation"),tp},tp.prototype.getOpaque=function(tp){return!(this.getProjection()&&tp&&!cn(this.getProjection(),tp))&&tc.prototype.getOpaque.call(this,tp)},tp.prototype.getTileGridForProjection=function(tc){var tp=this.getProjection();if(!this.tileGrid||tp&&!cn(tp,tc)){var tf=f.getUid(tc);return tf in this.tileGridForProjection||(this.tileGridForProjection[tf]=Qa(tc)),this.tileGridForProjection[tf]}return this.tileGrid},tp.prototype.getTileCacheForProjection=function(tc){var tp=this.getProjection();if(!tp||cn(tp,tc))return this.tileCache;var tf=f.getUid(tc);return tf in this.tileCacheForProjection||(this.tileCacheForProjection[tf]=new Fa.default(this.tileCache.highWaterMark)),this.tileCacheForProjection[tf]},tp.prototype.createTile_=function(tc,tp,tf,td,tg,t8){var ty=[tc,tp,tf],tv=this.getTileCoordForTileUrlFunction(ty,tg),tm=tv?this.tileUrlFunction(tv,td,tg):void 0,t$=new this.tileClass(ty,void 0!==tm?fe:ye,void 0!==tm?tm:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return t$.key=t8,t$.addEventListener(k.default.CHANGE,this.handleTileChange.bind(this)),t$},tp.prototype.getTile=function(tc,tp,tf,td,tg){var t8=this.getProjection();if(t8&&tg&&!cn(t8,tg)){var ty=this.getTileCacheForProjection(tg),tv=[tc,tp,tf],tm=void 0,t$=Na(tv);ty.containsKey(t$)&&(tm=ty.get(t$));var tx=this.getKey();if(tm&&tm.key==tx)return tm;var tC=this.getTileGridForProjection(t8),tE=this.getTileGridForProjection(tg),t_=this.getTileCoordForTileUrlFunction(tv,tg),tS=new da.default(t8,tC,tg,tE,tv,t_,this.getTilePixelRatio(td),this.getGutter(),(function(tc,tp,tf,td){return this.getTileInternal(tc,tp,tf,td,t8)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return tS.key=tx,tm?(tS.interimTile=tm,tS.refreshInterimChain(),ty.replace(t$,tS)):ty.set(t$,tS),tS}return this.getTileInternal(tc,tp,tf,td,t8||tg)},tp.prototype.getTileInternal=function(tc,tp,tf,td,tg){var t8=null,ty=ja(tc,tp,tf),tv=this.getKey();if(this.tileCache.containsKey(ty)){if((t8=this.tileCache.get(ty)).key!=tv){var tm=t8;t8=this.createTile_(tc,tp,tf,td,tg,tv),tm.getState()==fe?t8.interimTile=tm.interimTile:t8.interimTile=tm,t8.refreshInterimChain(),this.tileCache.replace(ty,t8)}}else t8=this.createTile_(tc,tp,tf,td,tg,tv),this.tileCache.set(ty,t8);return t8},tp.prototype.setRenderReprojectionEdges=function(tc){if(this.renderReprojectionEdges_!=tc){for(var tp in this.renderReprojectionEdges_=tc,this.tileCacheForProjection)this.tileCacheForProjection[tp].clear();this.changed()}},tp.prototype.setTileGridForProjection=function(tc,tp){var tf=sn(tc);if(tf){var td=f.getUid(tf);td in this.tileGridForProjection||(this.tileGridForProjection[td]=tp)}},tp}(za.default);function cs(tc,tp){tc.getImage().src=tp}var ps=hs,fs=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),ds=function(tc){function tp(tp){var tf,td,tg,t8,ty=tp||{},tv=void 0===ty.imageSmoothing||ty.imageSmoothing;void 0!==ty.interpolate&&(tv=ty.interpolate);var tm=void 0!==ty.projection?ty.projection:"EPSG:3857",t$=void 0!==ty.tileGrid?ty.tileGrid:(t8={extent:tg=(td=tf={extent:ts(tm),maxResolution:ty.maxResolution,maxZoom:ty.maxZoom,minZoom:ty.minZoom,tileSize:ty.tileSize}).extent||sn("EPSG:3857").getExtent(),minZoom:td.minZoom,tileSize:td.tileSize,resolutions:$a(tg,td.maxZoom,td.tileSize,td.maxResolution)},new Ja(t8));return tc.call(this,{attributions:ty.attributions,cacheSize:ty.cacheSize,crossOrigin:ty.crossOrigin,interpolate:tv,opaque:ty.opaque,projection:tm,reprojectionErrorThreshold:ty.reprojectionErrorThreshold,tileGrid:t$,tileLoadFunction:ty.tileLoadFunction,tilePixelRatio:ty.tilePixelRatio,tileUrlFunction:ty.tileUrlFunction,url:ty.url,urls:ty.urls,wrapX:void 0===ty.wrapX||ty.wrapX,transition:ty.transition,attributionsCollapsible:ty.attributionsCollapsible,zDirection:ty.zDirection})||this}return fs(tp,tc),tp}(Ma.default),gs=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),_s='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',ys=function(tc){function tp(tp){var tf,td=tp||{},tg=void 0===td.imageSmoothing||td.imageSmoothing;void 0!==td.interpolate&&(tg=td.interpolate),tf=void 0!==td.attributions?td.attributions:[_s];var t8=void 0!==td.crossOrigin?td.crossOrigin:"anonymous",ty=void 0!==td.url?td.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return tc.call(this,{attributions:tf,attributionsCollapsible:!1,cacheSize:td.cacheSize,crossOrigin:t8,interpolate:tg,maxZoom:void 0!==td.maxZoom?td.maxZoom:19,opaque:void 0===td.opaque||td.opaque,reprojectionErrorThreshold:td.reprojectionErrorThreshold,tileLoadFunction:td.tileLoadFunction,transition:td.transition,url:ty,wrapX:td.wrapX,zDirection:td.zDirection})||this}return gs(tp,tc),tp}(La.default),vs={};e(vs,"default",()=>js,tc=>js=tc);var ms="1.3.0",xs=(k=a("3xzSb"),{});e(xs,"ImageSourceEventType",()=>Os,tc=>Os=tc),e(xs,"ImageSourceEvent",()=>Ts,tc=>Ts=tc),e(xs,"defaultImageLoadFunction",()=>bs,tc=>bs=tc),e(xs,"default",()=>Rs,tc=>Rs=tc),st=a("f18Q2");var Cs={};e(Cs,"default",()=>Ss,tc=>Ss=tc),k=a("3xzSb"),C=a("9pD6L"),Z=a("ilM9F");var Es=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Ss=function(tc){function tp(tp,tf,td,tg,t8,ty,tv){var tm=this,t$=tp.getExtent(),tx=tf.getExtent(),tC=tx?C.getIntersection(td,tx):td,tE=ma(tp,tf,C.getCenter(tC),tg),t_=new _a(tp,tf,tC,t$,.5*tE,tg),tS=ty(t_.calculateSourceExtent(),tE,t8),tw=tS?Lo:Do,tR=tS?tS.getPixelRatio():1;return(tm=tc.call(this,td,tg,tR,tw)||this).targetProj_=tf,tm.maxSourceExtent_=t$,tm.triangulation_=t_,tm.targetResolution_=tg,tm.targetExtent_=td,tm.sourceImage_=tS,tm.sourcePixelRatio_=tR,tm.interpolate_=tv,tm.canvas_=null,tm.sourceListenerKey_=null,tm}return Es(tp,tc),tp.prototype.disposeInternal=function(){this.state==Mo&&this.unlistenSource_(),tc.prototype.disposeInternal.call(this)},tp.prototype.getImage=function(){return this.canvas_},tp.prototype.getProjection=function(){return this.targetProj_},tp.prototype.reproject_=function(){var tc=this.sourceImage_.getState();if(tc==Fo){var tp=C.getWidth(this.targetExtent_)/this.targetResolution_,tf=C.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=xa(tp,tf,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()},],0,void 0,this.interpolate_)}this.state=tc,this.changed()},tp.prototype.load=function(){if(this.state==Lo){this.state=Mo,this.changed();var tc=this.sourceImage_.getState();tc==Fo||tc==Ao?this.reproject_():(this.sourceListenerKey_=Z.listen(this.sourceImage_,k.default.CHANGE,function(tc){var tp=this.sourceImage_.getState();tp!=Fo&&tp!=Ao||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},tp.prototype.unlistenSource_=function(){Z.unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null},tp}(aa.default),ws=(f=a("9iPUS"),C=a("9pD6L"),Rn=a("fVVyM"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}()),Os={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},Ts=function(tc){function tp(tp,tf){var td=tc.call(this,tp)||this;return td.image=tf,td}return ws(tp,tc),tp}(st.default);function bs(tc,tp){tc.getImage().src=tp}var Rs=function(tc){function tp(tp){var tf=this,td=void 0===tp.imageSmoothing||tp.imageSmoothing;return void 0!==tp.interpolate&&(td=tp.interpolate),(tf=tc.call(this,{attributions:tp.attributions,projection:tp.projection,state:tp.state,interpolate:td})||this).on,tf.once,tf.un,tf.resolutions_=void 0!==tp.resolutions?tp.resolutions:null,tf.reprojectedImage_=null,tf.reprojectedRevision_=0,tf}return ws(tp,tc),tp.prototype.getResolutions=function(){return this.resolutions_},tp.prototype.findNearestResolution=function(tc){if(this.resolutions_){var tp=Rn.linearFindNearest(this.resolutions_,tc,0);tc=this.resolutions_[tp]}return tc},tp.prototype.getImage=function(tc,tp,tf,td){var tg=this.getProjection();if(tg&&td&&!cn(tg,td)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&cn(this.reprojectedImage_.getProjection(),td)&&this.reprojectedImage_.getResolution()==tp&&C.equals(this.reprojectedImage_.getExtent(),tc))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Cs.default(tg,td,tc,tp,tf,(function(tc,tp,tf){return this.getImageInternal(tc,tp,tf,tg)}).bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return tg&&(td=tg),this.getImageInternal(tc,tp,tf,td)},tp.prototype.getImageInternal=function(tc,tp,tf,td){return f.abstract()},tp.prototype.handleImageChange=function(tc){var tp,tf=tc.target;switch(tf.getState()){case Mo:this.loading=!0,tp=Os.IMAGELOADSTART;break;case Fo:this.loading=!1,tp=Os.IMAGELOADEND;break;case Ao:this.loading=!1,tp=Os.IMAGELOADERROR;break;default:return}this.hasListener(tp)&&this.dispatchEvent(new Ts(tp,tf))},tp}(Wa.default),Is="carmentaserver",Ps="geoserver",Ls="mapserver",Ms="qgis";function Fs(tc,tp){var tf=[];Object.keys(tp).forEach(function(tc){null!==tp[tc]&&void 0!==tp[tc]&&tf.push(tc+"="+encodeURIComponent(tp[tc]))});var td=tf.join("&");return(tc=-1===(tc=tc.replace(/[?&]$/,"")).indexOf("?")?tc+"?":tc+"&")+td}g=a("4Cz58"),B=a("gn0g3"),E=a("9byFX"),C=a("9pD6L");var As=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Ds=[101,101],js=function(tc){function tp(tp){var tf=this,td=tp||{},tg=void 0===td.imageSmoothing||td.imageSmoothing;return void 0!==td.interpolate&&(tg=td.interpolate),(tf=tc.call(this,{attributions:td.attributions,interpolate:tg,projection:td.projection,resolutions:td.resolutions})||this).crossOrigin_=void 0!==td.crossOrigin?td.crossOrigin:null,tf.url_=td.url,tf.imageLoadFunction_=void 0!==td.imageLoadFunction?td.imageLoadFunction:xs.defaultImageLoadFunction,tf.params_=td.params||{},tf.v13_=!0,tf.updateV13_(),tf.serverType_=td.serverType,tf.hidpi_=void 0===td.hidpi||td.hidpi,tf.image_=null,tf.imageSize_=[0,0],tf.renderedRevision_=0,tf.ratio_=void 0!==td.ratio?td.ratio:1.5,tf}return As(tp,tc),tp.prototype.getFeatureInfoUrl=function(tc,tp,tf,td){if(void 0!==this.url_){var tg=sn(tf),t8=this.getProjection();t8&&t8!==tg&&(tp=ma(t8,tg,tc,tp),tc=dn(tc,tg,t8));var ty=C.getForViewAndSize(tc,tp,0,Ds),tv={SERVICE:"WMS",VERSION:ms,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};B.assign(tv,this.params_,td);var tm=E.floor((tc[0]-ty[0])/tp,4),t$=E.floor((ty[3]-tc[1])/tp,4);return tv[this.v13_?"I":"X"]=tm,tv[this.v13_?"J":"Y"]=t$,this.getRequestUrl_(ty,Ds,1,t8||tg,tv)}},tp.prototype.getLegendUrl=function(tc,tp){if(void 0!==this.url_){var tf={SERVICE:"WMS",VERSION:ms,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===tp||void 0===tp.LAYER){var td=this.params_.LAYERS;if(!(!Array.isArray(td)||1===td.length))return;tf.LAYER=td}if(void 0!==tc){var tg=this.getProjection()?this.getProjection().getMetersPerUnit():1;tf.SCALE=tc*tg/28e-5}return B.assign(tf,tp),Fs(this.url_,tf)}},tp.prototype.getParams=function(){return this.params_},tp.prototype.getImageInternal=function(tc,tp,tf,td){if(void 0===this.url_)return null;tp=this.findNearestResolution(tp),1==tf||this.hidpi_&&void 0!==this.serverType_||(tf=1);var tg=tp/tf,t8=C.getCenter(tc),ty=E.ceil(C.getWidth(tc)/tg,4),tv=E.ceil(C.getHeight(tc)/tg,4),tm=C.getForViewAndSize(t8,tg,0,[ty,tv]),t$=E.ceil(this.ratio_*C.getWidth(tc)/tg,4),tx=E.ceil(this.ratio_*C.getHeight(tc)/tg,4),tC=C.getForViewAndSize(t8,tg,0,[t$,tx]),tE=this.image_;if(tE&&this.renderedRevision_==this.getRevision()&&tE.getResolution()==tp&&tE.getPixelRatio()==tf&&C.containsExtent(tE.getExtent(),tm))return tE;var t_={SERVICE:"WMS",VERSION:ms,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};B.assign(t_,this.params_),this.imageSize_[0]=E.round(C.getWidth(tC)/tg,4),this.imageSize_[1]=E.round(C.getHeight(tC)/tg,4);var tS=this.getRequestUrl_(tC,this.imageSize_,tf,td,t_);return this.image_=new oa.default(tC,tp,tf,tS,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(k.default.CHANGE,this.handleImageChange.bind(this)),this.image_},tp.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},tp.prototype.getRequestUrl_=function(tc,tp,tf,td,tg){if(g.assert(void 0!==this.url_,9),tg[this.v13_?"CRS":"SRS"]=td.getCode(),"STYLES"in this.params_||(tg.STYLES=""),1!=tf)switch(this.serverType_){case Ps:var t8=90*tf+.5|0;"FORMAT_OPTIONS"in tg?tg.FORMAT_OPTIONS+=";dpi:"+t8:tg.FORMAT_OPTIONS="dpi:"+t8;break;case Ls:tg.MAP_RESOLUTION=90*tf;break;case Is:case Ms:tg.DPI=90*tf;break;default:g.assert(!1,8)}tg.WIDTH=tp[0],tg.HEIGHT=tp[1];var ty,tv=td.getAxisOrientation();return ty=this.v13_&&"ne"==tv.substr(0,2)?[tc[1],tc[0],tc[3],tc[2]]:tc,tg.BBOX=ty.join(","),Fs(this.url_,tg)},tp.prototype.getUrl=function(){return this.url_},tp.prototype.setImageLoadFunction=function(tc){this.image_=null,this.imageLoadFunction_=tc,this.changed()},tp.prototype.setUrl=function(tc){tc!=this.url_&&(this.url_=tc,this.image_=null,this.changed())},tp.prototype.updateParams=function(tc){B.assign(this.params_,tc),this.updateV13_(),this.image_=null,this.changed()},tp.prototype.updateV13_=function(){var tc=this.params_.VERSION||ms;this.v13_=function(tc,tp){for(var tf=(""+tc).split("."),td="1.3".split("."),tg=0;tg<Math.max(tf.length,td.length);tg++){var t8=parseInt(tf[tg]||"0",10),ty=parseInt(td[tg]||"0",10);if(t8>ty)return 1;if(ty>t8)return -1}return 0}(tc,"1.3")>=0},tp}(xs.default),Ns={};Ns=function(tc,tp,tf){tc="default"in tc?tc.default:tc,tf="default"in tf?tf.default:tf;let td="layer-switcher-";class tg extends tc{constructor(tc){let tp=Object.assign({},tc),tf=document.createElement("div");super({element:tf,target:tp.target}),this.activationMode=tp.activationMode||"mouseover",this.startActive=!0===tp.startActive,this.label=void 0!==tp.label?tp.label:"",this.collapseLabel=void 0!==tp.collapseLabel?tp.collapseLabel:"\xbb",this.tipLabel=tp.tipLabel?tp.tipLabel:"Legend",this.collapseTipLabel=tp.collapseTipLabel?tp.collapseTipLabel:"Collapse legend",this.groupSelectStyle=tg.getGroupSelectStyle(tp.groupSelectStyle),this.reverse=!1!==tp.reverse,this.mapListeners=[],this.hiddenClassName="ol-unselectable ol-control layer-switcher",tg.isTouchDevice_()&&(this.hiddenClassName+=" touch"),this.shownClassName="shown",tf.className=this.hiddenClassName,this.button=document.createElement("button"),tf.appendChild(this.button),this.panel=document.createElement("div"),this.panel.className="panel",tf.appendChild(this.panel),tg.enableTouchScroll_(this.panel),tf.classList.add(td+"group-select-style-"+this.groupSelectStyle),tf.classList.add(td+"activation-mode-"+this.activationMode),"click"===this.activationMode?(tf.classList.add("activationModeClick"),this.button.onclick=tc=>{let tp=tc||window.event;this.element.classList.contains(this.shownClassName)?this.hidePanel():this.showPanel(),tp.preventDefault()}):(this.button.onmouseover=()=>{this.showPanel()},this.button.onclick=tc=>{let tp=tc||window.event;this.showPanel(),tp.preventDefault()},this.panel.onmouseout=tc=>{this.panel.contains(tc.relatedTarget)||this.hidePanel()}),this.updateButton()}setMap(tc){for(let tf=0;tf<this.mapListeners.length;tf++)tp.unByKey(this.mapListeners[tf]);this.mapListeners.length=0,super.setMap(tc),tc&&(this.startActive?this.showPanel():this.renderPanel(),"click"!==this.activationMode&&this.mapListeners.push(tc.on("pointerdown",()=>{this.hidePanel()})))}showPanel(){this.element.classList.contains(this.shownClassName)||(this.element.classList.add(this.shownClassName),this.updateButton(),this.renderPanel()),this.dispatchEvent("show")}hidePanel(){this.element.classList.contains(this.shownClassName)&&(this.element.classList.remove(this.shownClassName),this.updateButton()),this.dispatchEvent("hide")}updateButton(){this.element.classList.contains(this.shownClassName)?(this.button.textContent=this.collapseLabel,this.button.setAttribute("title",this.collapseTipLabel),this.button.setAttribute("aria-label",this.collapseTipLabel)):(this.button.textContent=this.label,this.button.setAttribute("title",this.tipLabel),this.button.setAttribute("aria-label",this.tipLabel))}renderPanel(){this.dispatchEvent("render"),tg.renderPanel(this.getMap(),this.panel,{groupSelectStyle:this.groupSelectStyle,reverse:this.reverse}),this.dispatchEvent("rendercomplete")}static renderPanel(tc,tp,tf){let td=new Event("render");for(tp.dispatchEvent(td),(tf=tf||{}).groupSelectStyle=tg.getGroupSelectStyle(tf.groupSelectStyle),tg.ensureTopVisibleBaseLayerShown(tc,tf.groupSelectStyle);tp.firstChild;)tp.removeChild(tp.firstChild);tg.forEachRecursive(tc,function(tc,tp,tf){tc.set("indeterminate",!1)}),"children"===tf.groupSelectStyle||"none"===tf.groupSelectStyle?tg.setGroupVisibility(tc):"group"===tf.groupSelectStyle&&tg.setChildVisibility(tc);let t8=document.createElement("ul");tp.appendChild(t8),tg.renderLayers_(tc,tc,t8,tf,function(td){tg.renderPanel(tc,tp,tf)});let ty=new Event("rendercomplete");tp.dispatchEvent(ty)}static isBaseGroup(tc){if(tc instanceof tf){let tp=tc.getLayers().getArray();return tp.length&&"base"===tp[0].get("type")}return!1}static setGroupVisibility(tc){tg.getGroupsAndLayers(tc,function(tc){return tc instanceof tf&&!tc.get("combine")&&!tg.isBaseGroup(tc)}).reverse().forEach(function(tc){let tp=tc.getLayersArray().map(function(tc){return tc.getVisible()});tp.every(function(tc){return!0===tc})?(tc.setVisible(!0),tc.set("indeterminate",!1)):tp.every(function(tc){return!1===tc})?(tc.setVisible(!1),tc.set("indeterminate",!1)):(tc.setVisible(!0),tc.set("indeterminate",!0))})}static setChildVisibility(tc){tg.getGroupsAndLayers(tc,function(tc){return tc instanceof tf&&!tc.get("combine")&&!tg.isBaseGroup(tc)}).forEach(function(tc){let tp=tc,tf=tp.getVisible(),td=tp.get("indeterminate");tp.getLayers().getArray().forEach(function(tc){tc.set("indeterminate",!1),(!tf||td)&&tc.getVisible()&&tc.set("indeterminate",!0)})})}static ensureTopVisibleBaseLayerShown(tc,tp){let tf;tg.forEachRecursive(tc,function(tc,tp,td){"base"===tc.get("type")&&tc.getVisible()&&(tf=tc)}),tf&&tg.setVisible_(tc,tf,!0,tp)}static getGroupsAndLayers(tc,tp){let tf=[];return tp=tp||function(tc,tp,tf){return!0},tg.forEachRecursive(tc,function(tc,td,tg){tc.get("title")&&tp(tc,td,tg)&&tf.push(tc)}),tf}static setVisible_(tc,tp,td,t8){tp.setVisible(td),td&&"base"===tp.get("type")&&tg.forEachRecursive(tc,function(tc,tf,td){tc!=tp&&"base"===tc.get("type")&&tc.setVisible(!1)}),tp instanceof tf&&!tp.get("combine")&&"children"===t8&&tp.getLayers().forEach(tf=>{tg.setVisible_(tc,tf,tp.getVisible(),t8)})}static renderLayer_(tc,tp,t8,ty,tv){let tm=document.createElement("li"),t$=tp.get("title"),tx=tg.uuid(),tC=document.createElement("label");if(tp instanceof tf&&!tp.get("combine")){let tE=tg.isBaseGroup(tp);if(tm.classList.add("group"),tE&&tm.classList.add(td+"base-group"),tp.get("fold")){tm.classList.add(td+"fold"),tm.classList.add(td+tp.get("fold"));let t_=document.createElement("button");t_.onclick=function(tc){let tf=tc||window.event;tg.toggleFold_(tp,tm),tf.preventDefault()},tm.appendChild(t_)}if(!tE&&"none"!=ty.groupSelectStyle){let tS=document.createElement("input");tS.type="checkbox",tS.id=tx,tS.checked=tp.getVisible(),tS.indeterminate=tp.get("indeterminate"),tS.onchange=function(tf){let td=tf.target;tg.setVisible_(tc,tp,td.checked,ty.groupSelectStyle),tv(tp)},tm.appendChild(tS),tC.htmlFor=tx}tC.innerHTML=t$,tm.appendChild(tC);let tw=document.createElement("ul");tm.appendChild(tw),tg.renderLayers_(tc,tp,tw,ty,tv)}else{tm.className="layer";let tR=document.createElement("input");"base"===tp.get("type")?tR.type="radio":tR.type="checkbox",tR.id=tx,tR.checked=tp.get("visible"),tR.indeterminate=tp.get("indeterminate"),tR.onchange=function(tf){let td=tf.target;tg.setVisible_(tc,tp,td.checked,ty.groupSelectStyle),tv(tp)},tm.appendChild(tR),tC.htmlFor=tx,tC.innerHTML=t$;let tT=tc.getView().getResolution();if(tT>=tp.getMaxResolution()||tT<tp.getMinResolution())tC.className+=" disabled";else if(tp.getMinZoom&&tp.getMaxZoom){let tI=tc.getView().getZoom();(tI<=tp.getMinZoom()||tI>tp.getMaxZoom())&&(tC.className+=" disabled")}tm.appendChild(tC)}return tm}static renderLayers_(tc,tp,tf,td,t8){let ty=tp.getLayers().getArray().slice();td.reverse&&(ty=ty.reverse());for(let tv,tm=0;tm<ty.length;tm++)(tv=ty[tm]).get("title")&&tf.appendChild(tg.renderLayer_(tc,tv,tm,td,t8))}static forEachRecursive(tc,tp){tc.getLayers().forEach(function(tc,td,t8){tp(tc,td,t8),tc instanceof tf&&tg.forEachRecursive(tc,tp)})}static uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(tc){let tp=16*Math.random()|0;return("x"==tc?tp:3&tp|8).toString(16)})}static enableTouchScroll_(tc){if(tg.isTouchDevice_()){let tp=0;tc.addEventListener("touchstart",function(tc){tp=this.scrollTop+tc.touches[0].pageY},!1),tc.addEventListener("touchmove",function(tc){this.scrollTop=tp-tc.touches[0].pageY},!1)}}static isTouchDevice_(){try{return document.createEvent("TouchEvent"),!0}catch(tc){return!1}}static toggleFold_(tc,tp){tp.classList.remove(td+tc.get("fold")),tc.set("fold","open"===tc.get("fold")?"close":"open"),tp.classList.add(td+tc.get("fold"))}static getGroupSelectStyle(tc){return["none","children","group"].indexOf(tc)>=0?tc:"children"}}return window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=tg),tg}(a("fVglf"),a("2FcER"),a("YSU3I")),Kt=a("YSU3I");var Gs={};e(Gs,"default",()=>Su,tc=>Su=tc);var ks={};e(ks,"default",()=>il,tc=>il=tc);var zs={};zs=function(){function tc(tc,td,tg,t8,ty){!function tc(tf,td,tg,t8,ty){for(;t8>tg;){if(t8-tg>600){var tv=t8-tg+1,tm=td-tg+1,t$=Math.log(tv),tx=.5*Math.exp(2*t$/3),tC=.5*Math.sqrt(t$*tx*(tv-tx)/tv)*(tm-tv/2<0?-1:1);tc(tf,td,Math.max(tg,Math.floor(td-tm*tx/tv+tC)),Math.min(t8,Math.floor(td+(tv-tm)*tx/tv+tC)),ty)}var tE=tf[td],t_=tg,tS=t8;for(tp(tf,tg,td),ty(tf[t8],tE)>0&&tp(tf,tg,t8);t_<tS;){for(tp(tf,t_,tS),t_++,tS--;0>ty(tf[t_],tE);)t_++;for(;ty(tf[tS],tE)>0;)tS--}0===ty(tf[tg],tE)?tp(tf,tg,tS):tp(tf,++tS,t8),tS<=td&&(tg=tS+1),td<=tS&&(t8=tS-1)}}(tc,td,tg||0,t8||tc.length-1,ty||tf)}function tp(tc,tp,tf){var td=tc[tp];tc[tp]=tc[tf],tc[tf]=td}function tf(tc,tp){return tc<tp?-1:tc>tp?1:0}var td=function(tc){void 0===tc&&(tc=9),this._maxEntries=Math.max(4,tc),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function tg(tc,tp,tf){if(!tf)return tp.indexOf(tc);for(var td=0;td<tp.length;td++)if(tf(tc,tp[td]))return td;return -1}function t8(tc,tp){ty(tc,0,tc.children.length,tp,tc)}function ty(tc,tp,tf,td,tg){tg||(tg=tS(null)),tg.minX=1/0,tg.minY=1/0,tg.maxX=-1/0,tg.maxY=-1/0;for(var t8=tp;t8<tf;t8++){var ty=tc.children[t8];tv(tg,tc.leaf?td(ty):ty)}return tg}function tv(tc,tp){return tc.minX=Math.min(tc.minX,tp.minX),tc.minY=Math.min(tc.minY,tp.minY),tc.maxX=Math.max(tc.maxX,tp.maxX),tc.maxY=Math.max(tc.maxY,tp.maxY),tc}function tm(tc,tp){return tc.minX-tp.minX}function t$(tc,tp){return tc.minY-tp.minY}function tx(tc){return(tc.maxX-tc.minX)*(tc.maxY-tc.minY)}function tC(tc){return tc.maxX-tc.minX+(tc.maxY-tc.minY)}function tE(tc,tp){return tc.minX<=tp.minX&&tc.minY<=tp.minY&&tp.maxX<=tc.maxX&&tp.maxY<=tc.maxY}function t_(tc,tp){return tp.minX<=tc.maxX&&tp.minY<=tc.maxY&&tp.maxX>=tc.minX&&tp.maxY>=tc.minY}function tS(tc){return{children:tc,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function tw(tp,tf,td,tg,t8){for(var ty=[tf,td];ty.length;)if(!((td=ty.pop())-(tf=ty.pop())<=tg)){var tv=tf+Math.ceil((td-tf)/tg/2)*tg;tc(tp,tv,tf,td,t8),ty.push(tf,tv,tv,td)}}return td.prototype.all=function(){return this._all(this.data,[])},td.prototype.search=function(tc){var tp=this.data,tf=[];if(!t_(tc,tp))return tf;for(var td=this.toBBox,tg=[];tp;){for(var t8=0;t8<tp.children.length;t8++){var ty=tp.children[t8],tv=tp.leaf?td(ty):ty;t_(tc,tv)&&(tp.leaf?tf.push(ty):tE(tc,tv)?this._all(ty,tf):tg.push(ty))}tp=tg.pop()}return tf},td.prototype.collides=function(tc){var tp=this.data;if(!t_(tc,tp))return!1;for(var tf=[];tp;){for(var td=0;td<tp.children.length;td++){var tg=tp.children[td],t8=tp.leaf?this.toBBox(tg):tg;if(t_(tc,t8)){if(tp.leaf||tE(tc,t8))return!0;tf.push(tg)}}tp=tf.pop()}return!1},td.prototype.load=function(tc){if(!tc||!tc.length)return this;if(tc.length<this._minEntries){for(var tp=0;tp<tc.length;tp++)this.insert(tc[tp]);return this}var tf=this._build(tc.slice(),0,tc.length-1,0);if(this.data.children.length){if(this.data.height===tf.height)this._splitRoot(this.data,tf);else{if(this.data.height<tf.height){var td=this.data;this.data=tf,tf=td}this._insert(tf,this.data.height-tf.height-1,!0)}}else this.data=tf;return this},td.prototype.insert=function(tc){return tc&&this._insert(tc,this.data.height-1),this},td.prototype.clear=function(){return this.data=tS([]),this},td.prototype.remove=function(tc,tp){if(!tc)return this;for(var tf,td,t8,ty=this.data,tv=this.toBBox(tc),tm=[],t$=[];ty||tm.length;){if(ty||(ty=tm.pop(),td=tm[tm.length-1],tf=t$.pop(),t8=!0),ty.leaf){var tx=tg(tc,ty.children,tp);if(-1!==tx)return ty.children.splice(tx,1),tm.push(ty),this._condense(tm),this}t8||ty.leaf||!tE(ty,tv)?td?(tf++,ty=td.children[tf],t8=!1):ty=null:(tm.push(ty),t$.push(tf),tf=0,td=ty,ty=ty.children[0])}return this},td.prototype.toBBox=function(tc){return tc},td.prototype.compareMinX=function(tc,tp){return tc.minX-tp.minX},td.prototype.compareMinY=function(tc,tp){return tc.minY-tp.minY},td.prototype.toJSON=function(){return this.data},td.prototype.fromJSON=function(tc){return this.data=tc,this},td.prototype._all=function(tc,tp){for(var tf=[];tc;)tc.leaf?tp.push.apply(tp,tc.children):tf.push.apply(tf,tc.children),tc=tf.pop();return tp},td.prototype._build=function(tc,tp,tf,td){var tg,ty=tf-tp+1,tv=this._maxEntries;if(ty<=tv)return t8(tg=tS(tc.slice(tp,tf+1)),this.toBBox),tg;td||(td=Math.ceil(Math.log(ty)/Math.log(tv)),tv=Math.ceil(ty/Math.pow(tv,td-1))),(tg=tS([])).leaf=!1,tg.height=td;var tm=Math.ceil(ty/tv),t$=tm*Math.ceil(Math.sqrt(tv));tw(tc,tp,tf,t$,this.compareMinX);for(var tx=tp;tx<=tf;tx+=t$){var tC=Math.min(tx+t$-1,tf);tw(tc,tx,tC,tm,this.compareMinY);for(var tE=tx;tE<=tC;tE+=tm){var t_=Math.min(tE+tm-1,tC);tg.children.push(this._build(tc,tE,t_,td-1))}}return t8(tg,this.toBBox),tg},td.prototype._chooseSubtree=function(tc,tp,tf,td){for(;td.push(tp),!tp.leaf&&td.length-1!==tf;){for(var tg,t8,ty=1/0,tv=1/0,tm=void 0,t$=0;t$<tp.children.length;t$++){var tC=tp.children[t$],tE=tx(tC),t_=(tg=tc,(Math.max((t8=tC).maxX,tg.maxX)-Math.min(t8.minX,tg.minX))*(Math.max(t8.maxY,tg.maxY)-Math.min(t8.minY,tg.minY))-tE);t_<tv?(tv=t_,ty=tE<ty?tE:ty,tm=tC):t_===tv&&tE<ty&&(ty=tE,tm=tC)}tp=tm||tp.children[0]}return tp},td.prototype._insert=function(tc,tp,tf){var td=tf?tc:this.toBBox(tc),tg=[],t8=this._chooseSubtree(td,this.data,tp,tg);for(t8.children.push(tc),tv(t8,td);tp>=0&&tg[tp].children.length>this._maxEntries;)this._split(tg,tp),tp--;this._adjustParentBBoxes(td,tg,tp)},td.prototype._split=function(tc,tp){var tf=tc[tp],td=tf.children.length,tg=this._minEntries;this._chooseSplitAxis(tf,tg,td);var ty=this._chooseSplitIndex(tf,tg,td),tv=tS(tf.children.splice(ty,tf.children.length-ty));tv.height=tf.height,tv.leaf=tf.leaf,t8(tf,this.toBBox),t8(tv,this.toBBox),tp?tc[tp-1].children.push(tv):this._splitRoot(tf,tv)},td.prototype._splitRoot=function(tc,tp){this.data=tS([tc,tp]),this.data.height=tc.height+1,this.data.leaf=!1,t8(this.data,this.toBBox)},td.prototype._chooseSplitIndex=function(tc,tp,tf){for(var td,tg,t8,tv,tm,t$,tC,tE=1/0,t_=1/0,tS=tp;tS<=tf-tp;tS++){var tw=ty(tc,0,tS,this.toBBox),tR=ty(tc,tS,tf,this.toBBox),tT=(tg=tw,t8=tR,tv=void 0,tm=void 0,t$=void 0,tC=void 0,tv=Math.max(tg.minX,t8.minX),tm=Math.max(tg.minY,t8.minY),Math.max(0,(t$=Math.min(tg.maxX,t8.maxX))-tv)*Math.max(0,(tC=Math.min(tg.maxY,t8.maxY))-tm)),tI=tx(tw)+tx(tR);tT<tE?(tE=tT,td=tS,t_=tI<t_?tI:t_):tT===tE&&tI<t_&&(t_=tI,td=tS)}return td||tf-tp},td.prototype._chooseSplitAxis=function(tc,tp,tf){var td=tc.leaf?this.compareMinX:tm,tg=tc.leaf?this.compareMinY:t$;this._allDistMargin(tc,tp,tf,td)<this._allDistMargin(tc,tp,tf,tg)&&tc.children.sort(td)},td.prototype._allDistMargin=function(tc,tp,tf,td){tc.children.sort(td);for(var tg=this.toBBox,t8=ty(tc,0,tp,tg),tm=ty(tc,tf-tp,tf,tg),t$=tC(t8)+tC(tm),tx=tp;tx<tf-tp;tx++){var tE=tc.children[tx];tv(t8,tc.leaf?tg(tE):tE),t$+=tC(t8)}for(var t_=tf-tp-1;t_>=tp;t_--){var tS=tc.children[t_];tv(tm,tc.leaf?tg(tS):tS),t$+=tC(tm)}return t$},td.prototype._adjustParentBBoxes=function(tc,tp,tf){for(var td=tf;td>=0;td--)tv(tp[td],tc)},td.prototype._condense=function(tc){for(var tp=tc.length-1,tf=void 0;tp>=0;tp--)0===tc[tp].children.length?tp>0?(tf=tc[tp-1].children).splice(tf.indexOf(tc[tp]),1):this.clear():t8(tc[tp],this.toBBox)},td}(),B=a("gn0g3");var Us={};e(Us,"default",()=>Zs,tc=>Zs=tc);var Xs={};e(Xs,"default",()=>Ks,tc=>Ks=tc),f=a("9iPUS");var Ys=function(){function tc(tc){this.opacity_=tc.opacity,this.rotateWithView_=tc.rotateWithView,this.rotation_=tc.rotation,this.scale_=tc.scale,this.scaleArray_=Hi(tc.scale),this.displacement_=tc.displacement}return tc.prototype.clone=function(){var tp=this.getScale();return new tc({opacity:this.getOpacity(),scale:Array.isArray(tp)?tp.slice():tp,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},tc.prototype.getOpacity=function(){return this.opacity_},tc.prototype.getRotateWithView=function(){return this.rotateWithView_},tc.prototype.getRotation=function(){return this.rotation_},tc.prototype.getScale=function(){return this.scale_},tc.prototype.getScaleArray=function(){return this.scaleArray_},tc.prototype.getDisplacement=function(){return this.displacement_},tc.prototype.getAnchor=function(){return f.abstract()},tc.prototype.getImage=function(tc){return f.abstract()},tc.prototype.getHitDetectionImage=function(){return f.abstract()},tc.prototype.getPixelRatio=function(tc){return 1},tc.prototype.getImageState=function(){return f.abstract()},tc.prototype.getImageSize=function(){return f.abstract()},tc.prototype.getOrigin=function(){return f.abstract()},tc.prototype.getSize=function(){return f.abstract()},tc.prototype.setDisplacement=function(tc){this.displacement_=tc},tc.prototype.setOpacity=function(tc){this.opacity_=tc},tc.prototype.setRotateWithView=function(tc){this.rotateWithView_=tc},tc.prototype.setRotation=function(tc){this.rotation_=tc},tc.prototype.setScale=function(tc){this.scale_=tc,this.scaleArray_=Hi(tc)},tc.prototype.listenImageChange=function(tc){f.abstract()},tc.prototype.load=function(){f.abstract()},tc.prototype.unlistenImageChange=function(tc){f.abstract()},tc}();function Vs(tc){return Array.isArray(tc)?M(tc):tc}xt=a("DfnQm");var Ws=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Ks=function(tc){function tp(tp){var tf=this,td=void 0!==tp.rotateWithView&&tp.rotateWithView;return(tf=tc.call(this,{opacity:1,rotateWithView:td,rotation:void 0!==tp.rotation?tp.rotation:0,scale:void 0!==tp.scale?tp.scale:1,displacement:void 0!==tp.displacement?tp.displacement:[0,0]})||this).canvas_=void 0,tf.hitDetectionCanvas_=null,tf.fill_=void 0!==tp.fill?tp.fill:null,tf.origin_=[0,0],tf.points_=tp.points,tf.radius_=void 0!==tp.radius?tp.radius:tp.radius1,tf.radius2_=tp.radius2,tf.angle_=void 0!==tp.angle?tp.angle:0,tf.stroke_=void 0!==tp.stroke?tp.stroke:null,tf.size_=null,tf.renderOptions_=null,tf.render(),tf}return Ws(tp,tc),tp.prototype.clone=function(){var tc=this.getScale(),tf=new tp({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(tc)?tc.slice():tc,displacement:this.getDisplacement().slice()});return tf.setOpacity(this.getOpacity()),tf},tp.prototype.getAnchor=function(){var tc=this.size_;if(!tc)return null;var tp=this.getDisplacement();return[tc[0]/2-tp[0],tc[1]/2+tp[1]]},tp.prototype.getAngle=function(){return this.angle_},tp.prototype.getFill=function(){return this.fill_},tp.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},tp.prototype.getImage=function(tc){var tp=this.canvas_[tc];if(!tp){var tf=this.renderOptions_,td=xt.createCanvasContext2D(tf.size*tc,tf.size*tc);this.draw_(tf,td,tc),tp=td.canvas,this.canvas_[tc]=tp}return tp},tp.prototype.getPixelRatio=function(tc){return tc},tp.prototype.getImageSize=function(){return this.size_},tp.prototype.getImageState=function(){return Fo},tp.prototype.getOrigin=function(){return this.origin_},tp.prototype.getPoints=function(){return this.points_},tp.prototype.getRadius=function(){return this.radius_},tp.prototype.getRadius2=function(){return this.radius2_},tp.prototype.getSize=function(){return this.size_},tp.prototype.getStroke=function(){return this.stroke_},tp.prototype.listenImageChange=function(tc){},tp.prototype.load=function(){},tp.prototype.unlistenImageChange=function(tc){},tp.prototype.calculateLineJoinSize_=function(tc,tp,tf){if(0===tp||this.points_===1/0||"bevel"!==tc&&"miter"!==tc)return tp;var td=this.radius_,tg=void 0===this.radius2_?td:this.radius2_;if(td<tg){var t8=td;td=tg,tg=t8}var ty=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_),tv=tg*Math.sin(ty),tm=td-Math.sqrt(tg*tg-tv*tv),t$=Math.sqrt(tv*tv+tm*tm),tx=t$/tv;if("miter"===tc&&tx<=tf)return tx*tp;var tC=tp/2/tx,tE=tp/2*(tm/t$),t_=Math.sqrt((td+tC)*(td+tC)+tE*tE)-td;if(void 0===this.radius2_||"bevel"===tc)return 2*t_;var tS=td*Math.sin(ty),tw=tg-Math.sqrt(td*td-tS*tS),tR=Math.sqrt(tS*tS+tw*tw)/tS;return tR<=tf?2*Math.max(t_,tR*tp/2-tg-td):2*t_},tp.prototype.createRenderOptions=function(){var tc,tp=Ot,tf=0,td=null,tg=0,t8=0;this.stroke_&&(null===(tc=this.stroke_.getColor())&&(tc=Tt),tc=Vs(tc),void 0===(t8=this.stroke_.getWidth())&&(t8=1),td=this.stroke_.getLineDash(),tg=this.stroke_.getLineDashOffset(),void 0===(tp=this.stroke_.getLineJoin())&&(tp=Ot),void 0===(tf=this.stroke_.getMiterLimit())&&(tf=10));var ty=this.calculateLineJoinSize_(tp,t8,tf);return{strokeStyle:tc,strokeWidth:t8,size:Math.ceil(2*Math.max(this.radius_,this.radius2_||0)+ty),lineDash:td,lineDashOffset:tg,lineJoin:tp,miterLimit:tf}},tp.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var tc=this.renderOptions_.size;this.canvas_={},this.size_=[tc,tc]},tp.prototype.draw_=function(tc,tp,tf){if(tp.scale(tf,tf),tp.translate(tc.size/2,tc.size/2),this.createPath_(tp),this.fill_){var td=this.fill_.getColor();null===td&&(td=Et),tp.fillStyle=Vs(td),tp.fill()}this.stroke_&&(tp.strokeStyle=tc.strokeStyle,tp.lineWidth=tc.strokeWidth,tp.setLineDash&&tc.lineDash&&(tp.setLineDash(tc.lineDash),tp.lineDashOffset=tc.lineDashOffset),tp.lineJoin=tc.lineJoin,tp.miterLimit=tc.miterLimit,tp.stroke())},tp.prototype.createHitDetectionCanvas_=function(tc){if(this.fill_){var tp=this.fill_.getColor(),tf=0;if("string"==typeof tp&&(tp=P(tp)),null===tp?tf=1:Array.isArray(tp)&&(tf=4===tp.length?tp[3]:1),0===tf){var td=xt.createCanvasContext2D(tc.size,tc.size);this.hitDetectionCanvas_=td.canvas,this.drawHitDetectionCanvas_(tc,td)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},tp.prototype.createPath_=function(tc){var tp=this.points_,tf=this.radius_;if(tp===1/0)tc.arc(0,0,tf,0,2*Math.PI);else{var td=void 0===this.radius2_?tf:this.radius2_;void 0!==this.radius2_&&(tp*=2);for(var tg=this.angle_-Math.PI/2,t8=2*Math.PI/tp,ty=0;ty<tp;ty++){var tv=tg+ty*t8,tm=ty%2==0?tf:td;tc.lineTo(tm*Math.cos(tv),tm*Math.sin(tv))}tc.closePath()}},tp.prototype.drawHitDetectionCanvas_=function(tc,tp){tp.translate(tc.size/2,tc.size/2),this.createPath_(tp),tp.fillStyle=Et,tp.fill(),this.stroke_&&(tp.strokeStyle=tc.strokeStyle,tp.lineWidth=tc.strokeWidth,tc.lineDash&&(tp.setLineDash(tc.lineDash),tp.lineDashOffset=tc.lineDashOffset),tp.lineJoin=tc.lineJoin,tp.miterLimit=tc.miterLimit,tp.stroke())},tp}(Ys),Bs=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Zs=function(tc){function tp(tp){var tf=tp||{};return tc.call(this,{points:1/0,fill:tf.fill,radius:tf.radius,stroke:tf.stroke,scale:void 0!==tf.scale?tf.scale:1,rotation:void 0!==tf.rotation?tf.rotation:0,rotateWithView:void 0!==tf.rotateWithView&&tf.rotateWithView,displacement:void 0!==tf.displacement?tf.displacement:[0,0]})||this}return Bs(tp,tc),tp.prototype.clone=function(){var tc=this.getScale(),tf=new tp({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(tc)?tc.slice():tc,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return tf.setOpacity(this.getOpacity()),tf},tp.prototype.setRadius=function(tc){this.radius_=tc,this.render()},tp}(Xs.default),Hs=function(){function tc(tc){var tp=tc||{};this.color_=void 0!==tp.color?tp.color:null}return tc.prototype.clone=function(){var tp=this.getColor();return new tc({color:Array.isArray(tp)?tp.slice():tp||void 0})},tc.prototype.getColor=function(){return this.color_},tc.prototype.setColor=function(tc){this.color_=tc},tc}(),qs=function(){function tc(tc){var tp=tc||{};this.color_=void 0!==tp.color?tp.color:null,this.lineCap_=tp.lineCap,this.lineDash_=void 0!==tp.lineDash?tp.lineDash:null,this.lineDashOffset_=tp.lineDashOffset,this.lineJoin_=tp.lineJoin,this.miterLimit_=tp.miterLimit,this.width_=tp.width}return tc.prototype.clone=function(){var tp=this.getColor();return new tc({color:Array.isArray(tp)?tp.slice():tp||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},tc.prototype.getColor=function(){return this.color_},tc.prototype.getLineCap=function(){return this.lineCap_},tc.prototype.getLineDash=function(){return this.lineDash_},tc.prototype.getLineDashOffset=function(){return this.lineDashOffset_},tc.prototype.getLineJoin=function(){return this.lineJoin_},tc.prototype.getMiterLimit=function(){return this.miterLimit_},tc.prototype.getWidth=function(){return this.width_},tc.prototype.setColor=function(tc){this.color_=tc},tc.prototype.setLineCap=function(tc){this.lineCap_=tc},tc.prototype.setLineDash=function(tc){this.lineDash_=tc},tc.prototype.setLineDashOffset=function(tc){this.lineDashOffset_=tc},tc.prototype.setLineJoin=function(tc){this.lineJoin_=tc},tc.prototype.setMiterLimit=function(tc){this.miterLimit_=tc},tc.prototype.setWidth=function(tc){this.width_=tc},tc}(),Js=(g=a("4Cz58"),function(){function tc(tc){var tp=tc||{};this.geometry_=null,this.geometryFunction_=tl,void 0!==tp.geometry&&this.setGeometry(tp.geometry),this.fill_=void 0!==tp.fill?tp.fill:null,this.image_=void 0!==tp.image?tp.image:null,this.renderer_=void 0!==tp.renderer?tp.renderer:null,this.hitDetectionRenderer_=void 0!==tp.hitDetectionRenderer?tp.hitDetectionRenderer:null,this.stroke_=void 0!==tp.stroke?tp.stroke:null,this.text_=void 0!==tp.text?tp.text:null,this.zIndex_=tp.zIndex}return tc.prototype.clone=function(){var tp=this.getGeometry();return tp&&"object"==typeof tp&&(tp=tp.clone()),new tc({geometry:tp,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},tc.prototype.getRenderer=function(){return this.renderer_},tc.prototype.setRenderer=function(tc){this.renderer_=tc},tc.prototype.setHitDetectionRenderer=function(tc){this.hitDetectionRenderer_=tc},tc.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},tc.prototype.getGeometry=function(){return this.geometry_},tc.prototype.getGeometryFunction=function(){return this.geometryFunction_},tc.prototype.getFill=function(){return this.fill_},tc.prototype.setFill=function(tc){this.fill_=tc},tc.prototype.getImage=function(){return this.image_},tc.prototype.setImage=function(tc){this.image_=tc},tc.prototype.getStroke=function(){return this.stroke_},tc.prototype.setStroke=function(tc){this.stroke_=tc},tc.prototype.getText=function(){return this.text_},tc.prototype.setText=function(tc){this.text_=tc},tc.prototype.getZIndex=function(){return this.zIndex_},tc.prototype.setGeometry=function(tc){"function"==typeof tc?this.geometryFunction_=tc:"string"==typeof tc?this.geometryFunction_=function(tp){return tp.get(tc)}:tc?void 0!==tc&&(this.geometryFunction_=function(){return tc}):this.geometryFunction_=tl,this.geometry_=tc},tc.prototype.setZIndex=function(tc){this.zIndex_=tc},tc}()),Qs=null;function $s(tc,tp){if(!Qs){var tf=new Hs({color:"rgba(255,255,255,0.4)"}),td=new qs({color:"#3399CC",width:1.25});Qs=[new Js({image:new Us.default({fill:tf,stroke:td,radius:5}),fill:tf,stroke:td}),]}return Qs}function tl(tc){return tc.getGeometry()}var el=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),nl="renderOrder",il=function(tc){function tp(tp){var tf=this,td=tp||{},tg=B.assign({},td);return delete tg.style,delete tg.renderBuffer,delete tg.updateWhileAnimating,delete tg.updateWhileInteracting,(tf=tc.call(this,tg)||this).declutter_=void 0!==td.declutter&&td.declutter,tf.renderBuffer_=void 0!==td.renderBuffer?td.renderBuffer:100,tf.style_=null,tf.styleFunction_=void 0,tf.setStyle(td.style),tf.updateWhileAnimating_=void 0!==td.updateWhileAnimating&&td.updateWhileAnimating,tf.updateWhileInteracting_=void 0!==td.updateWhileInteracting&&td.updateWhileInteracting,tf}return el(tp,tc),tp.prototype.getDeclutter=function(){return this.declutter_},tp.prototype.getFeatures=function(tp){return tc.prototype.getFeatures.call(this,tp)},tp.prototype.getRenderBuffer=function(){return this.renderBuffer_},tp.prototype.getRenderOrder=function(){return this.get(nl)},tp.prototype.getStyle=function(){return this.style_},tp.prototype.getStyleFunction=function(){return this.styleFunction_},tp.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},tp.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},tp.prototype.renderDeclutter=function(tc){tc.declutterTree||(tc.declutterTree=new(n(zs))(9)),this.getRenderer().renderDeclutter(tc)},tp.prototype.setRenderOrder=function(tc){this.set(nl,tc)},tp.prototype.setStyle=function(tc){var tp,tf,td;this.style_=void 0!==tc?tc:$s,this.styleFunction_=null===tc?void 0:("function"==typeof(tp=this.style_)?tf=tp:(Array.isArray(tp)?td=tp:(g.assert("function"==typeof tp.getZIndex,41),td=[tp]),tf=function(){return td}),tf),this.changed()},tp}(j.default),rl={};e(rl,"default",()=>Cu,tc=>Cu=tc);var ol={};e(ol,"default",()=>gl,tc=>gl=tc);var al={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},sl=[al.FILL],ll=[al.STROKE],ul=[al.BEGIN_PATH],hl=[al.CLOSE_PATH],cl=al,pl=a("iM9A6"),fl=function(){function tc(){}return tc.prototype.drawCustom=function(tc,tp,tf,td){},tc.prototype.drawGeometry=function(tc){},tc.prototype.setStyle=function(tc){},tc.prototype.drawCircle=function(tc,tp){},tc.prototype.drawFeature=function(tc,tp){},tc.prototype.drawGeometryCollection=function(tc,tp){},tc.prototype.drawLineString=function(tc,tp){},tc.prototype.drawMultiLineString=function(tc,tp){},tc.prototype.drawMultiPoint=function(tc,tp){},tc.prototype.drawMultiPolygon=function(tc,tp){},tc.prototype.drawPoint=function(tc,tp){},tc.prototype.drawPolygon=function(tc,tp){},tc.prototype.drawText=function(tc,tp){},tc.prototype.setFillStrokeStyle=function(tc,tp){},tc.prototype.setImageStyle=function(tc,tp){},tc.prototype.setTextStyle=function(tc,tp){},tc}(),dl=(C=a("9pD6L"),Rn=a("fVVyM"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}()),gl=function(tc){function tp(tp,tf,td,tg){var t8=tc.call(this)||this;return t8.tolerance=tp,t8.maxExtent=tf,t8.pixelRatio=tg,t8.maxLineWidth=0,t8.resolution=td,t8.beginGeometryInstruction1_=null,t8.beginGeometryInstruction2_=null,t8.bufferedMaxExtent_=null,t8.instructions=[],t8.coordinates=[],t8.tmpCoordinate_=[],t8.hitDetectionInstructions=[],t8.state={},t8}return dl(tp,tc),tp.prototype.applyPixelRatio=function(tc){var tp=this.pixelRatio;return 1==tp?tc:tc.map(function(tc){return tc*tp})},tp.prototype.appendFlatPointCoordinates=function(tc,tp){for(var tf=this.getBufferedMaxExtent(),td=this.tmpCoordinate_,tg=this.coordinates,t8=tg.length,ty=0,tv=tc.length;ty<tv;ty+=tp)td[0]=tc[ty],td[1]=tc[ty+1],C.containsCoordinate(tf,td)&&(tg[t8++]=td[0],tg[t8++]=td[1]);return t8},tp.prototype.appendFlatLineCoordinates=function(tc,tp,tf,td,tg,t8){var ty=this.coordinates,tv=ty.length,tm=this.getBufferedMaxExtent();t8&&(tp+=td);var t$,tx,tC,tE=tc[tp],t_=tc[tp+1],tS=this.tmpCoordinate_,tw=!0;for(t$=tp+td;t$<tf;t$+=td)tS[0]=tc[t$],tS[1]=tc[t$+1],(tC=C.coordinateRelationship(tm,tS))!==tx?(tw&&(ty[tv++]=tE,ty[tv++]=t_,tw=!1),ty[tv++]=tS[0],ty[tv++]=tS[1]):tC===pl.default.INTERSECTING?(ty[tv++]=tS[0],ty[tv++]=tS[1],tw=!1):tw=!0,tE=tS[0],t_=tS[1],tx=tC;return(tg&&tw||t$===tp+td)&&(ty[tv++]=tE,ty[tv++]=t_),tv},tp.prototype.drawCustomCoordinates_=function(tc,tp,tf,td,tg){for(var t8=0,ty=tf.length;t8<ty;++t8){var tv=tf[t8],tm=this.appendFlatLineCoordinates(tc,tp,tv,td,!1,!1);tg.push(tm),tp=tv}return tp},tp.prototype.drawCustom=function(tc,tp,tf,td){this.beginGeometry(tc,tp);var tg,t8,ty,tv,tm,t$=tc.getType(),tx=tc.getStride(),tC=this.coordinates.length;switch(t$){case Ee.MULTI_POLYGON:tg=tc.getOrientedFlatCoordinates(),tv=[];var tE=tc.getEndss();tm=0;for(var t_=0,tS=tE.length;t_<tS;++t_){var tw=[];tm=this.drawCustomCoordinates_(tg,tm,tE[t_],tx,tw),tv.push(tw)}this.instructions.push([cl.CUSTOM,tC,tv,tc,tf,pi]),this.hitDetectionInstructions.push([cl.CUSTOM,tC,tv,tc,td||tf,pi,]);break;case Ee.POLYGON:case Ee.MULTI_LINE_STRING:ty=[],tg=t$==Ee.POLYGON?tc.getOrientedFlatCoordinates():tc.getFlatCoordinates(),tm=this.drawCustomCoordinates_(tg,0,tc.getEnds(),tx,ty),this.instructions.push([cl.CUSTOM,tC,ty,tc,tf,ci]),this.hitDetectionInstructions.push([cl.CUSTOM,tC,ty,tc,td||tf,ci,]);break;case Ee.LINE_STRING:case Ee.CIRCLE:tg=tc.getFlatCoordinates(),t8=this.appendFlatLineCoordinates(tg,0,tg.length,tx,!1,!1),this.instructions.push([cl.CUSTOM,tC,t8,tc,tf,hi]),this.hitDetectionInstructions.push([cl.CUSTOM,tC,t8,tc,td||tf,hi,]);break;case Ee.MULTI_POINT:tg=tc.getFlatCoordinates(),(t8=this.appendFlatPointCoordinates(tg,tx))>tC&&(this.instructions.push([cl.CUSTOM,tC,t8,tc,tf,hi]),this.hitDetectionInstructions.push([cl.CUSTOM,tC,t8,tc,td||tf,hi,]));break;case Ee.POINT:tg=tc.getFlatCoordinates(),this.coordinates.push(tg[0],tg[1]),t8=this.coordinates.length,this.instructions.push([cl.CUSTOM,tC,t8,tc,tf]),this.hitDetectionInstructions.push([cl.CUSTOM,tC,t8,tc,td||tf])}this.endGeometry(tp)},tp.prototype.beginGeometry=function(tc,tp){this.beginGeometryInstruction1_=[cl.BEGIN_GEOMETRY,tp,0,tc],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[cl.BEGIN_GEOMETRY,tp,0,tc],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},tp.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},tp.prototype.reverseHitDetectionInstructions=function(){var tc,tp=this.hitDetectionInstructions;tp.reverse();var tf,td,tg=tp.length,t8=-1;for(tc=0;tc<tg;++tc)(td=(tf=tp[tc])[0])==cl.END_GEOMETRY?t8=tc:td==cl.BEGIN_GEOMETRY&&(tf[2]=tc,Rn.reverseSubArray(this.hitDetectionInstructions,t8,tc),t8=-1)},tp.prototype.setFillStrokeStyle=function(tc,tp){var tf=this.state;if(tc){var td=tc.getColor();tf.fillStyle=Vs(td||Et)}else tf.fillStyle=void 0;if(tp){var tg=tp.getColor();tf.strokeStyle=Vs(tg||Tt);var t8=tp.getLineCap();tf.lineCap=void 0!==t8?t8:St;var ty=tp.getLineDash();tf.lineDash=ty?ty.slice():wt;var tv=tp.getLineDashOffset();tf.lineDashOffset=tv||0;var tm=tp.getLineJoin();tf.lineJoin=void 0!==tm?tm:Ot;var t$=tp.getWidth();tf.lineWidth=void 0!==t$?t$:1;var tx=tp.getMiterLimit();tf.miterLimit=void 0!==tx?tx:10,tf.lineWidth>this.maxLineWidth&&(this.maxLineWidth=tf.lineWidth,this.bufferedMaxExtent_=null)}else tf.strokeStyle=void 0,tf.lineCap=void 0,tf.lineDash=null,tf.lineDashOffset=void 0,tf.lineJoin=void 0,tf.lineWidth=void 0,tf.miterLimit=void 0},tp.prototype.createFill=function(tc){var tp=tc.fillStyle,tf=[cl.SET_FILL_STYLE,tp];return"string"!=typeof tp&&tf.push(!0),tf},tp.prototype.applyStroke=function(tc){this.instructions.push(this.createStroke(tc))},tp.prototype.createStroke=function(tc){return[cl.SET_STROKE_STYLE,tc.strokeStyle,tc.lineWidth*this.pixelRatio,tc.lineCap,tc.lineJoin,tc.miterLimit,this.applyPixelRatio(tc.lineDash),tc.lineDashOffset*this.pixelRatio,]},tp.prototype.updateFillStyle=function(tc,tp){var tf=tc.fillStyle;"string"==typeof tf&&tc.currentFillStyle==tf||(void 0!==tf&&this.instructions.push(tp.call(this,tc)),tc.currentFillStyle=tf)},tp.prototype.updateStrokeStyle=function(tc,tp){var tf=tc.strokeStyle,td=tc.lineCap,tg=tc.lineDash,t8=tc.lineDashOffset,ty=tc.lineJoin,tv=tc.lineWidth,tm=tc.miterLimit;tc.currentStrokeStyle==tf&&tc.currentLineCap==td&&(tg==tc.currentLineDash||Rn.equals(tc.currentLineDash,tg))&&tc.currentLineDashOffset==t8&&tc.currentLineJoin==ty&&tc.currentLineWidth==tv&&tc.currentMiterLimit==tm||(void 0!==tf&&tp.call(this,tc),tc.currentStrokeStyle=tf,tc.currentLineCap=td,tc.currentLineDash=tg,tc.currentLineDashOffset=t8,tc.currentLineJoin=ty,tc.currentLineWidth=tv,tc.currentMiterLimit=tm)},tp.prototype.endGeometry=function(tc){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var tp=[cl.END_GEOMETRY,tc];this.instructions.push(tp),this.hitDetectionInstructions.push(tp)},tp.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=C.clone(this.maxExtent),this.maxLineWidth>0)){var tc=this.resolution*(this.maxLineWidth+1)/2;C.buffer(this.bufferedMaxExtent_,tc,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},tp}(fl),_l={};e(_l,"default",()=>vl,tc=>vl=tc);var yl=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),vl=function(tc){function tp(tp,tf,td,tg){var t8=tc.call(this,tp,tf,td,tg)||this;return t8.hitDetectionImage_=null,t8.image_=null,t8.imagePixelRatio_=void 0,t8.anchorX_=void 0,t8.anchorY_=void 0,t8.height_=void 0,t8.opacity_=void 0,t8.originX_=void 0,t8.originY_=void 0,t8.rotateWithView_=void 0,t8.rotation_=void 0,t8.scale_=void 0,t8.width_=void 0,t8.declutterImageWithText_=void 0,t8}return yl(tp,tc),tp.prototype.drawPoint=function(tc,tp){if(this.image_){this.beginGeometry(tc,tp);var tf=tc.getFlatCoordinates(),td=tc.getStride(),tg=this.coordinates.length,t8=this.appendFlatPointCoordinates(tf,td);this.instructions.push([cl.DRAW_IMAGE,tg,t8,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_,],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_,]),this.hitDetectionInstructions.push([cl.DRAW_IMAGE,tg,t8,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_,]),this.endGeometry(tp)}},tp.prototype.drawMultiPoint=function(tc,tp){if(this.image_){this.beginGeometry(tc,tp);var tf=tc.getFlatCoordinates(),td=tc.getStride(),tg=this.coordinates.length,t8=this.appendFlatPointCoordinates(tf,td);this.instructions.push([cl.DRAW_IMAGE,tg,t8,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_,],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_,]),this.hitDetectionInstructions.push([cl.DRAW_IMAGE,tg,t8,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_,]),this.endGeometry(tp)}},tp.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,tc.prototype.finish.call(this)},tp.prototype.setImageStyle=function(tc,tp){var tf=tc.getAnchor(),td=tc.getSize(),tg=tc.getHitDetectionImage(),t8=tc.getImage(this.pixelRatio),ty=tc.getOrigin();this.imagePixelRatio_=tc.getPixelRatio(this.pixelRatio),this.anchorX_=tf[0],this.anchorY_=tf[1],this.hitDetectionImage_=tg,this.image_=t8,this.height_=td[1],this.opacity_=tc.getOpacity(),this.originX_=ty[0]*this.imagePixelRatio_,this.originY_=ty[1]*this.imagePixelRatio_,this.rotateWithView_=tc.getRotateWithView(),this.rotation_=tc.getRotation(),this.scale_=tc.getScaleArray(),this.width_=td[0],this.declutterImageWithText_=tp},tp}(ol.default),ml={};e(ml,"default",()=>Cl,tc=>Cl=tc);var xl=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Cl=function(tc){function tp(tp,tf,td,tg){return tc.call(this,tp,tf,td,tg)||this}return xl(tp,tc),tp.prototype.drawFlatCoordinates_=function(tc,tp,tf,td){var tg=this.coordinates.length,t8=this.appendFlatLineCoordinates(tc,tp,tf,td,!1,!1),ty=[cl.MOVE_TO_LINE_TO,tg,t8];return this.instructions.push(ty),this.hitDetectionInstructions.push(ty),tf},tp.prototype.drawLineString=function(tc,tp){var tf=this.state,td=tf.strokeStyle,tg=tf.lineWidth;if(void 0!==td&&void 0!==tg){this.updateStrokeStyle(tf,this.applyStroke),this.beginGeometry(tc,tp),this.hitDetectionInstructions.push([cl.SET_STROKE_STYLE,tf.strokeStyle,tf.lineWidth,tf.lineCap,tf.lineJoin,tf.miterLimit,wt,0,],ul);var t8=tc.getFlatCoordinates(),ty=tc.getStride();this.drawFlatCoordinates_(t8,0,t8.length,ty),this.hitDetectionInstructions.push(ll),this.endGeometry(tp)}},tp.prototype.drawMultiLineString=function(tc,tp){var tf=this.state,td=tf.strokeStyle,tg=tf.lineWidth;if(void 0!==td&&void 0!==tg){this.updateStrokeStyle(tf,this.applyStroke),this.beginGeometry(tc,tp),this.hitDetectionInstructions.push([cl.SET_STROKE_STYLE,tf.strokeStyle,tf.lineWidth,tf.lineCap,tf.lineJoin,tf.miterLimit,tf.lineDash,tf.lineDashOffset,],ul);for(var t8=tc.getEnds(),ty=tc.getFlatCoordinates(),tv=tc.getStride(),tm=0,t$=0,tx=t8.length;t$<tx;++t$)tm=this.drawFlatCoordinates_(ty,tm,t8[t$],tv);this.hitDetectionInstructions.push(ll),this.endGeometry(tp)}},tp.prototype.finish=function(){var tp=this.state;return null!=tp.lastStroke&&tp.lastStroke!=this.coordinates.length&&this.instructions.push(ll),this.reverseHitDetectionInstructions(),this.state=null,tc.prototype.finish.call(this)},tp.prototype.applyStroke=function(tp){null!=tp.lastStroke&&tp.lastStroke!=this.coordinates.length&&(this.instructions.push(ll),tp.lastStroke=this.coordinates.length),tp.lastStroke=0,tc.prototype.applyStroke.call(this,tp),this.instructions.push(ul)},tp}(ol.default),El={};e(El,"default",()=>wl,tc=>wl=tc);var Sl=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),wl=function(tc){function tp(tp,tf,td,tg){return tc.call(this,tp,tf,td,tg)||this}return Sl(tp,tc),tp.prototype.drawFlatCoordinatess_=function(tc,tp,tf,td){var tg=this.state,t8=void 0!==tg.fillStyle,ty=void 0!==tg.strokeStyle,tv=tf.length;this.instructions.push(ul),this.hitDetectionInstructions.push(ul);for(var tm=0;tm<tv;++tm){var t$=tf[tm],tx=this.coordinates.length,tC=this.appendFlatLineCoordinates(tc,tp,t$,td,!0,!ty),tE=[cl.MOVE_TO_LINE_TO,tx,tC];this.instructions.push(tE),this.hitDetectionInstructions.push(tE),ty&&(this.instructions.push(hl),this.hitDetectionInstructions.push(hl)),tp=t$}return t8&&(this.instructions.push(sl),this.hitDetectionInstructions.push(sl)),ty&&(this.instructions.push(ll),this.hitDetectionInstructions.push(ll)),tp},tp.prototype.drawCircle=function(tc,tp){var tf=this.state,td=tf.fillStyle,tg=tf.strokeStyle;if(void 0!==td||void 0!==tg){this.setFillStrokeStyles_(),this.beginGeometry(tc,tp),void 0!==tf.fillStyle&&this.hitDetectionInstructions.push([cl.SET_FILL_STYLE,Et]),void 0!==tf.strokeStyle&&this.hitDetectionInstructions.push([cl.SET_STROKE_STYLE,tf.strokeStyle,tf.lineWidth,tf.lineCap,tf.lineJoin,tf.miterLimit,tf.lineDash,tf.lineDashOffset,]);var t8=tc.getFlatCoordinates(),ty=tc.getStride(),tv=this.coordinates.length;this.appendFlatLineCoordinates(t8,0,t8.length,ty,!1,!1);var tm=[cl.CIRCLE,tv];this.instructions.push(ul,tm),this.hitDetectionInstructions.push(ul,tm),void 0!==tf.fillStyle&&(this.instructions.push(sl),this.hitDetectionInstructions.push(sl)),void 0!==tf.strokeStyle&&(this.instructions.push(ll),this.hitDetectionInstructions.push(ll)),this.endGeometry(tp)}},tp.prototype.drawPolygon=function(tc,tp){var tf=this.state,td=tf.fillStyle,tg=tf.strokeStyle;if(void 0!==td||void 0!==tg){this.setFillStrokeStyles_(),this.beginGeometry(tc,tp),void 0!==tf.fillStyle&&this.hitDetectionInstructions.push([cl.SET_FILL_STYLE,Et]),void 0!==tf.strokeStyle&&this.hitDetectionInstructions.push([cl.SET_STROKE_STYLE,tf.strokeStyle,tf.lineWidth,tf.lineCap,tf.lineJoin,tf.miterLimit,tf.lineDash,tf.lineDashOffset,]);var t8=tc.getEnds(),ty=tc.getOrientedFlatCoordinates(),tv=tc.getStride();this.drawFlatCoordinatess_(ty,0,t8,tv),this.endGeometry(tp)}},tp.prototype.drawMultiPolygon=function(tc,tp){var tf=this.state,td=tf.fillStyle,tg=tf.strokeStyle;if(void 0!==td||void 0!==tg){this.setFillStrokeStyles_(),this.beginGeometry(tc,tp),void 0!==tf.fillStyle&&this.hitDetectionInstructions.push([cl.SET_FILL_STYLE,Et]),void 0!==tf.strokeStyle&&this.hitDetectionInstructions.push([cl.SET_STROKE_STYLE,tf.strokeStyle,tf.lineWidth,tf.lineCap,tf.lineJoin,tf.miterLimit,tf.lineDash,tf.lineDashOffset,]);for(var t8=tc.getEndss(),ty=tc.getOrientedFlatCoordinates(),tv=tc.getStride(),tm=0,t$=0,tx=t8.length;t$<tx;++t$)tm=this.drawFlatCoordinatess_(ty,tm,t8[t$],tv);this.endGeometry(tp)}},tp.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var tp=this.tolerance;if(0!==tp)for(var tf=this.coordinates,td=0,tg=tf.length;td<tg;++td)tf[td]=si(tf[td],tp);return tc.prototype.finish.call(this)},tp.prototype.setFillStrokeStyles_=function(){var tc=this.state;void 0!==tc.fillStyle&&this.updateFillStyle(tc,this.createFill),void 0!==tc.strokeStyle&&this.updateStrokeStyle(tc,this.applyStroke)},tp}(ol.default),Ol={};e(Ol,"TEXT_ALIGN",()=>Il,tc=>Il=tc),e(Ol,"default",()=>Pl,tc=>Pl=tc);var Tl="line";function bl(tc,tp,tf,td,tg){var t8,ty,tv,tm,t$,tx,tC,tE,t_,tS=tf,tw=tf,tR=0,tT=0,tI=tf;for(t8=tf;t8<td;t8+=tg){var tO=tp[t8],tP=tp[t8+1];void 0!==tm&&(tv=Math.sqrt((tE=tO-tm)*tE+(t_=tP-t$)*t_),void 0!==tx&&(tT+=ty,Math.acos((tx*tE+tC*t_)/(ty*tv))>tc&&(tT>tR&&(tR=tT,tS=tI,tw=t8),tT=0,tI=t8-tg)),ty=tv,tx=tE,tC=t_),tm=tO,t$=tP}return(tT+=tv)>tR?[tI,t8]:[tS,tw]}f=a("9iPUS"),C=a("9pD6L");var Rl=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Il={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Pl=function(tc){function tp(tp,tf,td,tg){var t8=tc.call(this,tp,tf,td,tg)||this;return t8.labels_=null,t8.text_="",t8.textOffsetX_=0,t8.textOffsetY_=0,t8.textRotateWithView_=void 0,t8.textRotation_=0,t8.textFillState_=null,t8.fillStates={},t8.textStrokeState_=null,t8.strokeStates={},t8.textState_={},t8.textStates={},t8.textKey_="",t8.fillKey_="",t8.strokeKey_="",t8.declutterImageWithText_=void 0,t8}return Rl(tp,tc),tp.prototype.finish=function(){var tp=tc.prototype.finish.call(this);return tp.textStates=this.textStates,tp.fillStates=this.fillStates,tp.strokeStates=this.strokeStates,tp},tp.prototype.drawText=function(tc,tp){var tf=this.textFillState_,td=this.textStrokeState_,tg=this.textState_;if(""!==this.text_&&tg&&(tf||td)){var t8=this.coordinates,ty=t8.length,tv=tc.getType(),tm=null,t$=tc.getStride();if(tg.placement!==Tl||tv!=Ee.LINE_STRING&&tv!=Ee.MULTI_LINE_STRING&&tv!=Ee.POLYGON&&tv!=Ee.MULTI_POLYGON){var tx=tg.overflow?null:[];switch(tv){case Ee.POINT:case Ee.MULTI_POINT:tm=tc.getFlatCoordinates();break;case Ee.LINE_STRING:tm=tc.getFlatMidpoint();break;case Ee.CIRCLE:tm=tc.getCenter();break;case Ee.MULTI_LINE_STRING:tm=tc.getFlatMidpoints(),t$=2;break;case Ee.POLYGON:tm=tc.getFlatInteriorPoint(),tg.overflow||tx.push(tm[2]/this.resolution),t$=3;break;case Ee.MULTI_POLYGON:var tC=tc.getFlatInteriorPoints();for(tb=0,tm=[],tF=tC.length;tb<tF;tb+=3)tg.overflow||tx.push(tC[tb+2]/this.resolution),tm.push(tC[tb],tC[tb+1]);if(0===tm.length)return;t$=2}if((tM=this.appendFlatPointCoordinates(tm,t$))===ty)return;if(tx&&(tM-ty)/2!=tm.length/t$){var tE=ty/2;tx=tx.filter(function(tc,tp){var tf=t8[2*(tE+tp)]===tm[tp*t$]&&t8[2*(tE+tp)+1]===tm[tp*t$+1];return tf||--tE,tf})}this.saveTextStates_(),(tg.backgroundFill||tg.backgroundStroke)&&(this.setFillStrokeStyle(tg.backgroundFill,tg.backgroundStroke),tg.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),tg.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(tc,tp);var t_=tg.padding;if(t_!=It&&(tg.scale[0]<0||tg.scale[1]<0)){var tS=tg.padding[0],tw=tg.padding[1],tR=tg.padding[2],tT=tg.padding[3];tg.scale[0]<0&&(tw=-tw,tT=-tT),tg.scale[1]<0&&(tS=-tS,tR=-tR),t_=[tS,tw,tR,tT]}var tI=this.pixelRatio;this.instructions.push([cl.DRAW_IMAGE,ty,tM,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,t_==It?It:t_.map(function(tc){return tc*tI}),!!tg.backgroundFill,!!tg.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,tx,]);var tO=1/tI;this.hitDetectionInstructions.push([cl.DRAW_IMAGE,ty,tM,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[tO,tO],NaN,this.declutterImageWithText_,t_,!!tg.backgroundFill,!!tg.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,tx,]),this.endGeometry(tp)}else{if(!C.intersects(this.getBufferedMaxExtent(),tc.getExtent()))return;var tP=void 0;if(tm=tc.getFlatCoordinates(),tv==Ee.LINE_STRING)tP=[tm.length];else if(tv==Ee.MULTI_LINE_STRING)tP=tc.getEnds();else if(tv==Ee.POLYGON)tP=tc.getEnds().slice(0,1);else if(tv==Ee.MULTI_POLYGON){var tL=tc.getEndss();tP=[];for(var tb=0,tF=tL.length;tb<tF;++tb)tP.push(tL[tb][0])}this.beginGeometry(tc,tp);for(var tD=tg.textAlign,tA=0,tk=void 0,tG=0,t0=tP.length;tG<t0;++tG){if(null==tD){var tN=bl(tg.maxAngle,tm,tA,tP[tG],t$);tA=tN[0],tk=tN[1]}else tk=tP[tG];for(var tb=tA;tb<tk;tb+=t$)t8.push(tm[tb],tm[tb+1]);var tM=t8.length;tA=tP[tG],this.drawChars_(ty,tM),ty=tM}this.endGeometry(tp)}}},tp.prototype.saveTextStates_=function(){var tc=this.textStrokeState_,tp=this.textState_,tf=this.textFillState_,td=this.strokeKey_;tc&&(td in this.strokeStates||(this.strokeStates[td]={strokeStyle:tc.strokeStyle,lineCap:tc.lineCap,lineDashOffset:tc.lineDashOffset,lineWidth:tc.lineWidth,lineJoin:tc.lineJoin,miterLimit:tc.miterLimit,lineDash:tc.lineDash}));var tg=this.textKey_;tg in this.textStates||(this.textStates[tg]={font:tp.font,textAlign:tp.textAlign||bt,textBaseline:tp.textBaseline||Rt,scale:tp.scale});var t8=this.fillKey_;tf&&(t8 in this.fillStates||(this.fillStates[t8]={fillStyle:tf.fillStyle}))},tp.prototype.drawChars_=function(tc,tp){var tf=this.textStrokeState_,td=this.textState_,tg=this.strokeKey_,t8=this.textKey_,ty=this.fillKey_;this.saveTextStates_();var tv=this.pixelRatio,tm=Il[td.textBaseline],t$=this.textOffsetY_*tv,tx=this.text_,tC=tf?tf.lineWidth*Math.abs(td.scale[0])/2:0;this.instructions.push([cl.DRAW_CHARS,tc,tp,tm,td.overflow,ty,td.maxAngle,tv,t$,tg,tC*tv,tx,t8,1,]),this.hitDetectionInstructions.push([cl.DRAW_CHARS,tc,tp,tm,td.overflow,ty,td.maxAngle,1,t$,tg,tC,tx,t8,1/tv,])},tp.prototype.setTextStyle=function(tc,tp){var tf,td,tg;if(tc){var t8=tc.getFill();t8?((td=this.textFillState_)||(td={},this.textFillState_=td),td.fillStyle=Vs(t8.getColor()||Et)):(td=null,this.textFillState_=td);var ty=tc.getStroke();if(ty){(tg=this.textStrokeState_)||(tg={},this.textStrokeState_=tg);var tv=ty.getLineDash(),tm=ty.getLineDashOffset(),t$=ty.getWidth(),tx=ty.getMiterLimit();tg.lineCap=ty.getLineCap()||St,tg.lineDash=tv?tv.slice():wt,tg.lineDashOffset=void 0===tm?0:tm,tg.lineJoin=ty.getLineJoin()||Ot,tg.lineWidth=void 0===t$?1:t$,tg.miterLimit=void 0===tx?10:tx,tg.strokeStyle=Vs(ty.getColor()||Tt)}else tg=null,this.textStrokeState_=tg;tf=this.textState_;var tC=tc.getFont()||Ct;Dt(tC);var tE=tc.getScaleArray();tf.overflow=tc.getOverflow(),tf.font=tC,tf.maxAngle=tc.getMaxAngle(),tf.placement=tc.getPlacement(),tf.textAlign=tc.getTextAlign(),tf.textBaseline=tc.getTextBaseline()||Rt,tf.backgroundFill=tc.getBackgroundFill(),tf.backgroundStroke=tc.getBackgroundStroke(),tf.padding=tc.getPadding()||It,tf.scale=void 0===tE?[1,1]:tE;var t_=tc.getOffsetX(),tS=tc.getOffsetY(),tw=tc.getRotateWithView(),tR=tc.getRotation();this.text_=tc.getText()||"",this.textOffsetX_=void 0===t_?0:t_,this.textOffsetY_=void 0===tS?0:tS,this.textRotateWithView_=void 0!==tw&&tw,this.textRotation_=void 0===tR?0:tR,this.strokeKey_=tg?("string"==typeof tg.strokeStyle?tg.strokeStyle:f.getUid(tg.strokeStyle))+tg.lineCap+tg.lineDashOffset+"|"+tg.lineWidth+tg.lineJoin+tg.miterLimit+"["+tg.lineDash.join()+"]":"",this.textKey_=tf.font+tf.scale+(tf.textAlign||"?")+(tf.textBaseline||"?"),this.fillKey_=td?"string"==typeof td.fillStyle?td.fillStyle:"|"+f.getUid(td.fillStyle):""}else this.text_="";this.declutterImageWithText_=tp},tp}(ol.default),Ll={Circle:El.default,Default:ol.default,Image:_l.default,LineString:ml.default,Polygon:El.default,Text:Ol.default},Ml=function(){function tc(tc,tp,tf,td){this.tolerance_=tc,this.maxExtent_=tp,this.pixelRatio_=td,this.resolution_=tf,this.buildersByZIndex_={}}return tc.prototype.finish=function(){var tc={};for(var tp in this.buildersByZIndex_){tc[tp]=tc[tp]||{};var tf=this.buildersByZIndex_[tp];for(var td in tf){var tg=tf[td].finish();tc[tp][td]=tg}}return tc},tc.prototype.getBuilder=function(tc,tp){var tf=void 0!==tc?tc.toString():"0",td=this.buildersByZIndex_[tf];void 0===td&&(td={},this.buildersByZIndex_[tf]=td);var tg=td[tp];return void 0===tg&&(tg=new Ll[tp](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),td[tp]=tg),tg},tc}(),Fl={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function Al(tc,tp,tf,td,tg,t8,ty,tv,tm,t$,tx,tC){var tE=tc[tp],t_=tc[tp+1],tS=0,tw=0,tR=0,tT=0;function tI(){tS=tE,tw=t_,tE=tc[tp+=td],t_=tc[tp+1],tT+=tR,tR=Math.sqrt((tE-tS)*(tE-tS)+(t_-tw)*(t_-tw))}do tI();while(tp<tf-td&&tT+tR<t8);for(var tO=0===tR?0:(t8-tT)/tR,tP=E.lerp(tS,tE,tO),tL=E.lerp(tw,t_,tO),tb=tp-td,tF=tT,tD=t8+tv*tm(t$,tg,tx);tp<tf-td&&tT+tR<tD;)tI();tO=0===tR?0:(tD-tT)/tR;var tA,tk=E.lerp(tS,tE,tO),tG=E.lerp(tw,t_,tO);if(tC){var t0=[tP,tL,tk,tG];Vn(t0,0,4,2,tC,t0,t0),tA=t0[0]>t0[2]}else tA=tP>tk;var tN,tM=Math.PI,tz=[],tU=tb+td===tp;if(tR=0,tT=tF,tE=tc[tp=tb],t_=tc[tp+1],tU){tI(),tN=Math.atan2(t_-tw,tE-tS),tA&&(tN+=tN>0?-tM:tM);var tX=(tk+tP)/2,tY=(tG+tL)/2;return tz[0]=[tX,tY,(tD-t8)/2,tN,tg],tz}for(var tV=0,tB=tg.length;tV<tB;){tI();var tW=Math.atan2(t_-tw,tE-tS);if(tA&&(tW+=tW>0?-tM:tM),void 0!==tN){var tK=tW-tN;if(Math.abs(tK+=tK>tM?-2*tM:tK<-tM?2*tM:0)>ty)return null}tN=tW;for(var tZ=tV,tj=0;tV<tB;++tV){var t1=tv*tm(t$,tg[tA?tB-tV-1:tV],tx);if(tp+td<tf&&tT+tR<t8+tj+t1/2)break;tj+=t1}if(tV!==tZ){var tH=tA?tg.substring(tB-tZ,tB-tV):tg.substring(tZ,tV);tO=0===tR?0:(t8+tj/2-tT)/tR,tX=E.lerp(tS,tE,tO),tY=E.lerp(tw,t_,tO),tz.push([tX,tY,tj/2,tW,tH]),t8+=tj}}return tz}function Dl(tc,tp,tf,td){for(var tg=tc[tp],t8=tc[tp+1],ty=0,tv=tp+td;tv<tf;tv+=td){var tm=tc[tv],t$=tc[tv+1];ty+=Math.sqrt((tm-tg)*(tm-tg)+(t$-t8)*(t$-t8)),tg=tm,t8=t$}return ty}d=a("8UoiJ"),C=a("9pD6L"),E=a("9byFX"),Rn=a("fVVyM");var jl=C.createEmpty(),Nl=[],Gl=[],kl=[],zl=[];function Ul(tc){return tc[3].declutterBox}var Xl=RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼ\uD802\uDC00-\uD803\uDFFF\uD83A\uDC00-\uD83B\uDFFF]");function Yl(tc,tp){return"start"!==tp&&"end"!==tp||Xl.test(tc)||(tp="start"===tp?"left":"right"),Ol.TEXT_ALIGN[tp]}function Vl(tc,tp,tf){return tf>0&&tc.push("\n",""),tc.push(tp,""),tc}var Wl=function(){function tc(tc,tp,tf,td){this.overlaps=tf,this.pixelRatio=tp,this.resolution=tc,this.alignFill_,this.instructions=td.instructions,this.coordinates=td.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=td.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=td.fillStates||{},this.strokeStates=td.strokeStates||{},this.textStates=td.textStates||{},this.widths_={},this.labels_={}}return tc.prototype.createLabel=function(tc,tp,tf,td){var tg=tc+tp+tf+td;if(this.labels_[tg])return this.labels_[tg];var t8=td?this.strokeStates[td]:null,ty=tf?this.fillStates[tf]:null,tv=this.textStates[tp],tm=this.pixelRatio,t$=[tv.scale[0]*tm,tv.scale[1]*tm],tx=Array.isArray(tc),tC=Yl(tx?tc[0]:tc,tv.textAlign||bt),tE=td&&t8.lineWidth?t8.lineWidth:0,t_=tx?tc:tc.split("\n").reduce(Vl,[]),tS=function(tc,tp){for(var tf=[],td=[],tg=[],t8=0,ty=0,tv=0,tm=0,t$=0,tx=tp.length;t$<=tx;t$+=2){var tC=tp[t$];if("\n"!==tC&&t$!==tx){var tE=tp[t$+1]||tc.font,t_=Gt(tE,tC);tf.push(t_),ty+=t_;var tS=jt(tE);td.push(tS),tm=Math.max(tm,tS)}else t8=Math.max(t8,ty),tg.push(ty),ty=0,tv+=tm}return{width:t8,height:tv,widths:tf,heights:td,lineWidths:tg}}(tv,t_),tw=tS.width,tR=tS.height,tT=tS.widths,tI=tS.heights,tO=tS.lineWidths,tP=tw+tE,tL=[],tb=(tP+2)*t$[0],tF=(tR+tE)*t$[1],tD={width:tb<0?Math.floor(tb):Math.ceil(tb),height:tF<0?Math.floor(tF):Math.ceil(tF),contextInstructions:tL};1==t$[0]&&1==t$[1]||tL.push("scale",t$),td&&(tL.push("strokeStyle",t8.strokeStyle),tL.push("lineWidth",tE),tL.push("lineCap",t8.lineCap),tL.push("lineJoin",t8.lineJoin),tL.push("miterLimit",t8.miterLimit),(d.WORKER_OFFSCREEN_CANVAS?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(tL.push("setLineDash",[t8.lineDash]),tL.push("lineDashOffset",t8.lineDashOffset))),tf&&tL.push("fillStyle",ty.fillStyle),tL.push("textBaseline","middle"),tL.push("textAlign","center");for(var tA,tk=.5-tC,tG=tC*tP+tk*tE,t0=[],tN=[],tM=0,tz=0,tU=0,tX=0,tY=0,tV=t_.length;tY<tV;tY+=2){var tB=t_[tY];if("\n"!==tB){var tW=t_[tY+1]||tv.font;tW!==tA&&(td&&t0.push("font",tW),tf&&tN.push("font",tW),tA=tW),tM=Math.max(tM,tI[tU]);var tK=[tB,tG+tk*tT[tU]+tC*(tT[tU]-tO[tX]),.5*(tE+tM)+tz];tG+=tT[tU],td&&t0.push("strokeText",tK),tf&&tN.push("fillText",tK),++tU}else tz+=tM,tM=0,tG=tC*tP+tk*tE,++tX}return Array.prototype.push.apply(tL,t0),Array.prototype.push.apply(tL,tN),this.labels_[tg]=tD,tD},tc.prototype.replayTextBackground_=function(tc,tp,tf,td,tg,t8,ty){tc.beginPath(),tc.moveTo.apply(tc,tp),tc.lineTo.apply(tc,tf),tc.lineTo.apply(tc,td),tc.lineTo.apply(tc,tg),tc.lineTo.apply(tc,tp),t8&&(this.alignFill_=t8[2],this.fill_(tc)),ty&&(this.setStrokeStyle_(tc,ty),tc.stroke())},tc.prototype.calculateImageOrLabelDimensions_=function(tc,tp,tf,td,tg,t8,ty,tv,tm,t$,tx,tC,tE,t_,tS,tw){var tR,tT=tf-(ty*=tC[0]),tI=td-(tv*=tC[1]),tO=tg+tm>tc?tc-tm:tg,tP=t8+t$>tp?tp-t$:t8,tL=t_[3]+tO*tC[0]+t_[1],tb=t_[0]+tP*tC[1]+t_[2],tF=tT-t_[3],tD=tI-t_[0];return(tS||0!==tx)&&(Nl[0]=tF,zl[0]=tF,Nl[1]=tD,Gl[1]=tD,Gl[0]=tF+tL,kl[0]=Gl[0],kl[1]=tD+tb,zl[1]=kl[1]),0!==tx?(y(tR=v([1,0,0,1,0,0],tf,td,1,1,tx,-tf,-td),Nl),y(tR,Gl),y(tR,kl),y(tR,zl),C.createOrUpdate(Math.min(Nl[0],Gl[0],kl[0],zl[0]),Math.min(Nl[1],Gl[1],kl[1],zl[1]),Math.max(Nl[0],Gl[0],kl[0],zl[0]),Math.max(Nl[1],Gl[1],kl[1],zl[1]),jl)):C.createOrUpdate(Math.min(tF,tF+tL),Math.min(tD,tD+tb),Math.max(tF,tF+tL),Math.max(tD,tD+tb),jl),tE&&(tT=Math.round(tT),tI=Math.round(tI)),{drawImageX:tT,drawImageY:tI,drawImageW:tO,drawImageH:tP,originX:tm,originY:t$,declutterBox:{minX:jl[0],minY:jl[1],maxX:jl[2],maxY:jl[3],value:tw},canvasTransform:tR,scale:tC}},tc.prototype.replayImageOrLabel_=function(tc,tp,tf,td,tg,t8,ty){var tv=td.declutterBox,tm=tc.canvas,t$=ty?ty[2]*td.scale[0]/2:0;return tv.minX-t$<=tm.width/tp&&tv.maxX+t$>=0&&tv.minY-t$<=tm.height/tp&&tv.maxY+t$>=0&&((t8||ty)&&this.replayTextBackground_(tc,Nl,Gl,kl,zl,t8,ty),zt(tc,td.canvasTransform,tg,tf,td.originX,td.originY,td.drawImageW,td.drawImageH,td.drawImageX,td.drawImageY,td.scale)),!0},tc.prototype.fill_=function(tc){if(this.alignFill_){var tp=y(this.renderedTransform_,[0,0]),tf=512*this.pixelRatio;tc.save(),tc.translate(tp[0]%tf,tp[1]%tf),tc.rotate(this.viewRotation_)}tc.fill(),this.alignFill_&&tc.restore()},tc.prototype.setStrokeStyle_=function(tc,tp){tc.strokeStyle=tp[1],tc.lineWidth=tp[2],tc.lineCap=tp[3],tc.lineJoin=tp[4],tc.miterLimit=tp[5],tc.setLineDash&&(tc.lineDashOffset=tp[7],tc.setLineDash(tp[6]))},tc.prototype.drawLabelWithPointPlacement_=function(tc,tp,tf,td){var tg=this.textStates[tp],t8=this.createLabel(tc,tp,td,tf),ty=this.strokeStates[tf],tv=this.pixelRatio,tm=Yl(Array.isArray(tc)?tc[0]:tc,tg.textAlign||bt),t$=Ol.TEXT_ALIGN[tg.textBaseline||Rt],tx=ty&&ty.lineWidth?ty.lineWidth:0;return{label:t8,anchorX:tm*(t8.width/tv-2*tg.scale[0])+2*(.5-tm)*tx,anchorY:t$*t8.height/tv+2*(.5-t$)*tx}},tc.prototype.execute_=function(tc,tp,tf,td,tg,t8,ty,tv){var tm,t$,tx;this.pixelCoordinates_&&Rn.equals(tf,this.renderedTransform_)?tm=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),tm=Yn(this.coordinates,0,this.coordinates.length,2,tf,this.pixelCoordinates_),t$=this.renderedTransform_,tx=tf,t$[0]=tx[0],t$[1]=tx[1],t$[2]=tx[2],t$[3]=tx[3],t$[4]=tx[4],t$[5]=tx[5]);for(var tC,tE,t_,tS,tw,tR,tT,tI,tO,tP,tL,tb,tF,tD,tA,tk,tG=0,t0=td.length,tN=0,tM=0,tz=0,tU=null,tX=null,tY=this.coordinateCache_,tV=this.viewRotation_,tB=Math.round(1e12*Math.atan2(-tf[1],tf[0]))/1e12,tW={context:tc,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:tV},tK=this.instructions!=td||this.overlaps?0:200;tG<t0;){var tZ=td[tG];switch(tZ[0]){case cl.BEGIN_GEOMETRY:tF=tZ[1],tk=tZ[3],tF.getGeometry()?void 0===ty||C.intersects(ty,tk.getExtent())?++tG:tG=tZ[2]+1:tG=tZ[2];break;case cl.BEGIN_PATH:tM>tK&&(this.fill_(tc),tM=0),tz>tK&&(tc.stroke(),tz=0),tM||tz||(tc.beginPath(),tS=NaN,tw=NaN),++tG;break;case cl.CIRCLE:var tj=tm[tN=tZ[1]],t1=tm[tN+1],tH=tm[tN+2]-tj,tq=tm[tN+3]-t1,t3=Math.sqrt(tH*tH+tq*tq);tc.moveTo(tj+t3,t1),tc.arc(tj,t1,t3,0,2*Math.PI,!0),++tG;break;case cl.CLOSE_PATH:tc.closePath(),++tG;break;case cl.CUSTOM:tN=tZ[1],tC=tZ[2];var t7=tZ[3],t2=tZ[4],t4=6==tZ.length?tZ[5]:void 0;tW.geometry=t7,tW.feature=tF,tG in tY||(tY[tG]=[]);var t6=tY[tG];t4?t4(tm,tN,tC,2,t6):(t6[0]=tm[tN],t6[1]=tm[tN+1],t6.length=2),t2(t6,tW),++tG;break;case cl.DRAW_IMAGE:tN=tZ[1],tC=tZ[2],tI=tZ[3],tE=tZ[4],t_=tZ[5];var tJ=tZ[6],tQ=tZ[7],t5=tZ[8],t9=tZ[9],ec=tZ[10],ep=tZ[11],ef=tZ[12],ed=tZ[13],eg=tZ[14];if(!tI&&tZ.length>=19){tO=tZ[18],tP=tZ[19],tL=tZ[20],tb=tZ[21];var e8=this.drawLabelWithPointPlacement_(tO,tP,tL,tb);tI=e8.label,tZ[3]=tI;var ey=tZ[22];tE=(e8.anchorX-ey)*this.pixelRatio,tZ[4]=tE;var ev=tZ[23];t_=(e8.anchorY-ev)*this.pixelRatio,tZ[5]=t_,tJ=tI.height,tZ[6]=tJ,ed=tI.width,tZ[13]=ed}var em=void 0;tZ.length>24&&(em=tZ[24]);var e$=void 0,ex=void 0,eC=void 0;tZ.length>16?(e$=tZ[15],ex=tZ[16],eC=tZ[17]):(e$=It,ex=!1,eC=!1),ec&&tB?ep+=tV:ec||tB||(ep-=tV);for(var eE=0;tN<tC;tN+=2)if(!(em&&em[eE++]<ed/this.pixelRatio)){var e_=[tc,tp,tI,ej=this.calculateImageOrLabelDimensions_(tI.width,tI.height,tm[tN],tm[tN+1],ed,tJ,tE,t_,t5,t9,ep,ef,tg,e$,ex||eC,tF),tQ,ex?tU:null,eC?tX:null,],eS=void 0,ew=void 0;if(tv&&eg){var eR=tC-tN;if(!eg[eR]){eg[eR]=e_;continue}if(eS=eg[eR],delete eg[eR],ew=Ul(eS),tv.collides(ew))continue}tv&&tv.collides(ej.declutterBox)||(eS&&(tv&&tv.insert(ew),this.replayImageOrLabel_.apply(this,eS)),tv&&tv.insert(ej.declutterBox),this.replayImageOrLabel_.apply(this,e_))}++tG;break;case cl.DRAW_CHARS:var eT=tZ[1],eI=tZ[2],eO=tZ[3],eP=tZ[4];tb=tZ[5];var eL=tZ[6],eb=tZ[7],eF=tZ[8];tL=tZ[9];var eD=tZ[10];tO=tZ[11],tP=tZ[12];var eA=[tZ[13],tZ[13]],ek=this.textStates[tP],eG=ek.font,e0=[ek.scale[0]*eb,ek.scale[1]*eb],eN=void 0;eG in this.widths_?eN=this.widths_[eG]:(eN={},this.widths_[eG]=eN);var eM=Dl(tm,eT,eI,2),ez=Math.abs(e0[0])*kt(eG,tO,eN);if(eP||ez<=eM){var eU=this.textStates[tP].textAlign,eX=Al(tm,eT,eI,2,tO,(eM-ez)*Ol.TEXT_ALIGN[eU],eL,Math.abs(e0[0]),kt,eG,eN,tB?0:this.viewRotation_);t:if(eX){var eY=[],eV=void 0,eB=void 0,eW=void 0,eK=void 0,eZ=void 0;if(tL)for(eV=0,eB=eX.length;eV<eB;++eV){eW=(eZ=eX[eV])[4],eK=this.createLabel(eW,tP,"",tL),tE=eZ[2]+(e0[0]<0?-eD:eD),t_=eO*eK.height+2*(.5-eO)*eD*e0[1]/e0[0]-eF;var ej=this.calculateImageOrLabelDimensions_(eK.width,eK.height,eZ[0],eZ[1],eK.width,eK.height,tE,t_,0,0,eZ[3],eA,!1,It,!1,tF);if(tv&&tv.collides(ej.declutterBox))break t;eY.push([tc,tp,eK,ej,1,null,null])}if(tb)for(eV=0,eB=eX.length;eV<eB;++eV){if(eW=(eZ=eX[eV])[4],eK=this.createLabel(eW,tP,tb,""),tE=eZ[2],t_=eO*eK.height-eF,ej=this.calculateImageOrLabelDimensions_(eK.width,eK.height,eZ[0],eZ[1],eK.width,eK.height,tE,t_,0,0,eZ[3],eA,!1,It,!1,tF),tv&&tv.collides(ej.declutterBox))break t;eY.push([tc,tp,eK,ej,1,null,null])}tv&&tv.load(eY.map(Ul));for(var e1=0,eH=eY.length;e1<eH;++e1)this.replayImageOrLabel_.apply(this,eY[e1])}}++tG;break;case cl.END_GEOMETRY:if(void 0!==t8){var eq=t8(tF=tZ[1],tk);if(eq)return eq}++tG;break;case cl.FILL:tK?tM++:this.fill_(tc),++tG;break;case cl.MOVE_TO_LINE_TO:for(tN=tZ[1],tC=tZ[2],tD=tm[tN],tT=(tA=tm[tN+1])+.5|0,(tR=tD+.5|0)===tS&&tT===tw||(tc.moveTo(tD,tA),tS=tR,tw=tT),tN+=2;tN<tC;tN+=2)tR=(tD=tm[tN])+.5|0,tT=(tA=tm[tN+1])+.5|0,tN!=tC-2&&tR===tS&&tT===tw||(tc.lineTo(tD,tA),tS=tR,tw=tT);++tG;break;case cl.SET_FILL_STYLE:tU=tZ,this.alignFill_=tZ[2],tM&&(this.fill_(tc),tM=0,tz&&(tc.stroke(),tz=0)),tc.fillStyle=tZ[1],++tG;break;case cl.SET_STROKE_STYLE:tX=tZ,tz&&(tc.stroke(),tz=0),this.setStrokeStyle_(tc,tZ),++tG;break;case cl.STROKE:tK?tz++:tc.stroke(),++tG;break;default:++tG}}tM&&this.fill_(tc),tz&&tc.stroke()},tc.prototype.execute=function(tc,tp,tf,td,tg,t8){this.viewRotation_=td,this.execute_(tc,tp,tf,this.instructions,tg,void 0,void 0,t8)},tc.prototype.executeHitDetection=function(tc,tp,tf,td,tg){return this.viewRotation_=tf,this.execute_(tc,1,tp,this.hitDetectionInstructions,!0,td,tg)},tc}(),Kl=(C=a("9pD6L"),xt=a("DfnQm"),B=a("gn0g3"),Rn=a("fVVyM"),[Fl.POLYGON,Fl.CIRCLE,Fl.LINE_STRING,Fl.IMAGE,Fl.TEXT,Fl.DEFAULT]),Bl=function(){function tc(tc,tp,tf,td,tg,t8){this.maxExtent_=tc,this.overlaps_=td,this.pixelRatio_=tf,this.resolution_=tp,this.renderBuffer_=t8,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(tg)}return tc.prototype.clip=function(tc,tp){var tf=this.getClipCoords(tp);tc.beginPath(),tc.moveTo(tf[0],tf[1]),tc.lineTo(tf[2],tf[3]),tc.lineTo(tf[4],tf[5]),tc.lineTo(tf[6],tf[7]),tc.clip()},tc.prototype.createExecutors_=function(tc){for(var tp in tc){var tf=this.executorsByZIndex_[tp];void 0===tf&&(tf={},this.executorsByZIndex_[tp]=tf);var td=tc[tp];for(var tg in td){var t8=td[tg];tf[tg]=new Wl(this.resolution_,this.pixelRatio_,this.overlaps_,t8)}}},tc.prototype.hasExecutors=function(tc){for(var tp in this.executorsByZIndex_)for(var tf=this.executorsByZIndex_[tp],td=0,tg=tc.length;td<tg;++td)if(tc[td]in tf)return!0;return!1},tc.prototype.forEachFeatureAtCoordinate=function(tc,tp,tf,td,tg,t8){var ty=2*(td=Math.round(td))+1,tv=v(this.hitDetectionTransform_,td+.5,td+.5,1/tp,-1/tp,-tf,-tc[0],-tc[1]),tm=!this.hitDetectionContext_;tm&&(this.hitDetectionContext_=xt.createCanvasContext2D(ty,ty));var t$,tx=this.hitDetectionContext_;tx.canvas.width!==ty||tx.canvas.height!==ty?(tx.canvas.width=ty,tx.canvas.height=ty):tm||tx.clearRect(0,0,ty,ty),void 0!==this.renderBuffer_&&(t$=C.createEmpty(),C.extendCoordinate(t$,tc),C.buffer(t$,tp*(this.renderBuffer_+td),t$));var tC,tE=function(tc){if(void 0!==Zl[tc])return Zl[tc];for(var tp=2*tc+1,tf=tc*tc,td=Array(tf+1),tg=0;tg<=tc;++tg)for(var t8=0;t8<=tc;++t8){var ty=tg*tg+t8*t8;if(ty>tf)break;var tv=td[ty];tv||(tv=[],td[ty]=tv),tv.push(4*((tc+tg)*tp+(tc+t8))+3),tg>0&&tv.push(4*((tc-tg)*tp+(tc+t8))+3),t8>0&&(tv.push(4*((tc+tg)*tp+(tc-t8))+3),tg>0&&tv.push(4*((tc-tg)*tp+(tc-t8))+3))}for(var tm=[],t$=(tg=0,td.length);tg<t$;++tg)td[tg]&&tm.push.apply(tm,td[tg]);return Zl[tc]=tm,tm}(td);function t_(tc,tp){for(var tf=tx.getImageData(0,0,ty,ty).data,tv=0,tm=tE.length;tv<tm;tv++)if(tf[tE[tv]]>0){if(!t8||tC!==Fl.IMAGE&&tC!==Fl.TEXT||-1!==t8.indexOf(tc)){var t$=(tE[tv]-3)/4,t_=td-t$%ty,tS=td-(t$/ty|0),tw=tg(tc,tp,t_*t_+tS*tS);if(tw)return tw}tx.clearRect(0,0,ty,ty);break}}var tS,tw,tR,tT,tI,tO=Object.keys(this.executorsByZIndex_).map(Number);for(tO.sort(Rn.numberSafeCompareFunction),tS=tO.length-1;tS>=0;--tS){var tP=tO[tS].toString();for(tR=this.executorsByZIndex_[tP],tw=Kl.length-1;tw>=0;--tw)if(void 0!==(tT=tR[tC=Kl[tw]])&&(tI=tT.executeHitDetection(tx,tv,tf,t_,t$)))return tI}},tc.prototype.getClipCoords=function(tc){var tp=this.maxExtent_;if(!tp)return null;var tf=tp[0],td=tp[1],tg=tp[2],t8=tp[3],ty=[tf,td,tf,t8,tg,t8,tg,td];return Yn(ty,0,8,2,tc,ty),ty},tc.prototype.isEmpty=function(){return B.isEmpty(this.executorsByZIndex_)},tc.prototype.execute=function(tc,tp,tf,td,tg,t8,ty){var tv=Object.keys(this.executorsByZIndex_).map(Number);tv.sort(Rn.numberSafeCompareFunction),this.maxExtent_&&(tc.save(),this.clip(tc,tf));var tm,t$,tx,tC,tE,t_,tS=t8||Kl;for(ty&&tv.reverse(),tm=0,t$=tv.length;tm<t$;++tm){var tw=tv[tm].toString();for(tE=this.executorsByZIndex_[tw],tx=0,tC=tS.length;tx<tC;++tx)void 0!==(t_=tE[tS[tx]])&&t_.execute(tc,tp,tf,td,tg,ty)}this.maxExtent_&&tc.restore()},tc}(),Zl={},Hl=Bl,ql={};e(ql,"default",()=>Ql,tc=>Ql=tc),Rn=a("fVVyM"),C=a("9pD6L");var Jl=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Ql=function(tc){function tp(tp,tf,td,tg,t8,ty,tv){var tm=tc.call(this)||this;return tm.context_=tp,tm.pixelRatio_=tf,tm.extent_=td,tm.transform_=tg,tm.viewRotation_=t8,tm.squaredTolerance_=ty,tm.userTransform_=tv,tm.contextFillState_=null,tm.contextStrokeState_=null,tm.contextTextState_=null,tm.fillState_=null,tm.strokeState_=null,tm.image_=null,tm.imageAnchorX_=0,tm.imageAnchorY_=0,tm.imageHeight_=0,tm.imageOpacity_=0,tm.imageOriginX_=0,tm.imageOriginY_=0,tm.imageRotateWithView_=!1,tm.imageRotation_=0,tm.imageScale_=[0,0],tm.imageWidth_=0,tm.text_="",tm.textOffsetX_=0,tm.textOffsetY_=0,tm.textRotateWithView_=!1,tm.textRotation_=0,tm.textScale_=[0,0],tm.textFillState_=null,tm.textStrokeState_=null,tm.textState_=null,tm.pixelCoordinates_=[],tm.tmpLocalTransform_=[1,0,0,1,0,0],tm}return Jl(tp,tc),tp.prototype.drawImages_=function(tc,tp,tf,td){if(this.image_){var tg=Yn(tc,tp,tf,td,this.transform_,this.pixelCoordinates_),t8=this.context_,ty=this.tmpLocalTransform_,tv=t8.globalAlpha;1!=this.imageOpacity_&&(t8.globalAlpha=tv*this.imageOpacity_);var tm=this.imageRotation_;this.imageRotateWithView_&&(tm+=this.viewRotation_);for(var t$=0,tx=tg.length;t$<tx;t$+=2){var tC=tg[t$]-this.imageAnchorX_,tE=tg[t$+1]-this.imageAnchorY_;if(0!==tm||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var t_=tC+this.imageAnchorX_,tS=tE+this.imageAnchorY_;v(ty,t_,tS,1,1,tm,-t_,-tS),t8.setTransform.apply(t8,ty),t8.translate(t_,tS),t8.scale(this.imageScale_[0],this.imageScale_[1]),t8.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),t8.setTransform(1,0,0,1,0,0)}else t8.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,tC,tE,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(t8.globalAlpha=tv)}},tp.prototype.drawText_=function(tc,tp,tf,td){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var tg=Yn(tc,tp,tf,td,this.transform_,this.pixelCoordinates_),t8=this.context_,ty=this.textRotation_;for(this.textRotateWithView_&&(ty+=this.viewRotation_);tp<tf;tp+=td){var tv=tg[tp]+this.textOffsetX_,tm=tg[tp+1]+this.textOffsetY_;if(0!==ty||1!=this.textScale_[0]||1!=this.textScale_[1]){var t$=v(this.tmpLocalTransform_,tv,tm,1,1,ty,-tv,-tm);t8.setTransform.apply(t8,t$),t8.translate(tv,tm),t8.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&t8.strokeText(this.text_,0,0),this.textFillState_&&t8.fillText(this.text_,0,0),t8.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&t8.strokeText(this.text_,tv,tm),this.textFillState_&&t8.fillText(this.text_,tv,tm)}}},tp.prototype.moveToLineTo_=function(tc,tp,tf,td,tg){var t8=this.context_,ty=Yn(tc,tp,tf,td,this.transform_,this.pixelCoordinates_);t8.moveTo(ty[0],ty[1]);var tv=ty.length;tg&&(tv-=2);for(var tm=2;tm<tv;tm+=2)t8.lineTo(ty[tm],ty[tm+1]);return tg&&t8.closePath(),tf},tp.prototype.drawRings_=function(tc,tp,tf,td){for(var tg=0,t8=tf.length;tg<t8;++tg)tp=this.moveToLineTo_(tc,tp,tf[tg],td,!0);return tp},tp.prototype.drawCircle=function(tc){if(C.intersects(this.extent_,tc.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var tp=Un.transformGeom2D(tc,this.transform_,this.pixelCoordinates_),tf=tp[2]-tp[0],td=tp[3]-tp[1],tg=this.context_;tg.beginPath(),tg.arc(tp[0],tp[1],Math.sqrt(tf*tf+td*td),0,2*Math.PI),this.fillState_&&tg.fill(),this.strokeState_&&tg.stroke()}""!==this.text_&&this.drawText_(tc.getCenter(),0,2,2)}},tp.prototype.setStyle=function(tc){this.setFillStrokeStyle(tc.getFill(),tc.getStroke()),this.setImageStyle(tc.getImage()),this.setTextStyle(tc.getText())},tp.prototype.setTransform=function(tc){this.transform_=tc},tp.prototype.drawGeometry=function(tc){switch(tc.getType()){case Ee.POINT:this.drawPoint(tc);break;case Ee.LINE_STRING:this.drawLineString(tc);break;case Ee.POLYGON:this.drawPolygon(tc);break;case Ee.MULTI_POINT:this.drawMultiPoint(tc);break;case Ee.MULTI_LINE_STRING:this.drawMultiLineString(tc);break;case Ee.MULTI_POLYGON:this.drawMultiPolygon(tc);break;case Ee.GEOMETRY_COLLECTION:this.drawGeometryCollection(tc);break;case Ee.CIRCLE:this.drawCircle(tc)}},tp.prototype.drawFeature=function(tc,tp){var tf=tp.getGeometryFunction()(tc);tf&&C.intersects(this.extent_,tf.getExtent())&&(this.setStyle(tp),this.drawGeometry(tf))},tp.prototype.drawGeometryCollection=function(tc){for(var tp=tc.getGeometriesArray(),tf=0,td=tp.length;tf<td;++tf)this.drawGeometry(tp[tf])},tp.prototype.drawPoint=function(tc){this.squaredTolerance_&&(tc=tc.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var tp=tc.getFlatCoordinates(),tf=tc.getStride();this.image_&&this.drawImages_(tp,0,tp.length,tf),""!==this.text_&&this.drawText_(tp,0,tp.length,tf)},tp.prototype.drawMultiPoint=function(tc){this.squaredTolerance_&&(tc=tc.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var tp=tc.getFlatCoordinates(),tf=tc.getStride();this.image_&&this.drawImages_(tp,0,tp.length,tf),""!==this.text_&&this.drawText_(tp,0,tp.length,tf)},tp.prototype.drawLineString=function(tc){if(this.squaredTolerance_&&(tc=tc.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),C.intersects(this.extent_,tc.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var tp=this.context_,tf=tc.getFlatCoordinates();tp.beginPath(),this.moveToLineTo_(tf,0,tf.length,tc.getStride(),!1),tp.stroke()}if(""!==this.text_){var td=tc.getFlatMidpoint();this.drawText_(td,0,2,2)}}},tp.prototype.drawMultiLineString=function(tc){this.squaredTolerance_&&(tc=tc.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var tp=tc.getExtent();if(C.intersects(this.extent_,tp)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var tf=this.context_,td=tc.getFlatCoordinates(),tg=0,t8=tc.getEnds(),ty=tc.getStride();tf.beginPath();for(var tv=0,tm=t8.length;tv<tm;++tv)tg=this.moveToLineTo_(td,tg,t8[tv],ty,!1);tf.stroke()}if(""!==this.text_){var t$=tc.getFlatMidpoints();this.drawText_(t$,0,t$.length,2)}}},tp.prototype.drawPolygon=function(tc){if(this.squaredTolerance_&&(tc=tc.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),C.intersects(this.extent_,tc.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var tp=this.context_;tp.beginPath(),this.drawRings_(tc.getOrientedFlatCoordinates(),0,tc.getEnds(),tc.getStride()),this.fillState_&&tp.fill(),this.strokeState_&&tp.stroke()}if(""!==this.text_){var tf=tc.getFlatInteriorPoint();this.drawText_(tf,0,2,2)}}},tp.prototype.drawMultiPolygon=function(tc){if(this.squaredTolerance_&&(tc=tc.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),C.intersects(this.extent_,tc.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var tp=this.context_,tf=tc.getOrientedFlatCoordinates(),td=0,tg=tc.getEndss(),t8=tc.getStride();tp.beginPath();for(var ty=0,tv=tg.length;ty<tv;++ty){var tm=tg[ty];td=this.drawRings_(tf,td,tm,t8)}this.fillState_&&tp.fill(),this.strokeState_&&tp.stroke()}if(""!==this.text_){var t$=tc.getFlatInteriorPoints();this.drawText_(t$,0,t$.length,2)}}},tp.prototype.setContextFillState_=function(tc){var tp=this.context_,tf=this.contextFillState_;tf?tf.fillStyle!=tc.fillStyle&&(tf.fillStyle=tc.fillStyle,tp.fillStyle=tc.fillStyle):(tp.fillStyle=tc.fillStyle,this.contextFillState_={fillStyle:tc.fillStyle})},tp.prototype.setContextStrokeState_=function(tc){var tp=this.context_,tf=this.contextStrokeState_;tf?(tf.lineCap!=tc.lineCap&&(tf.lineCap=tc.lineCap,tp.lineCap=tc.lineCap),tp.setLineDash&&(Rn.equals(tf.lineDash,tc.lineDash)||tp.setLineDash(tf.lineDash=tc.lineDash),tf.lineDashOffset!=tc.lineDashOffset&&(tf.lineDashOffset=tc.lineDashOffset,tp.lineDashOffset=tc.lineDashOffset)),tf.lineJoin!=tc.lineJoin&&(tf.lineJoin=tc.lineJoin,tp.lineJoin=tc.lineJoin),tf.lineWidth!=tc.lineWidth&&(tf.lineWidth=tc.lineWidth,tp.lineWidth=tc.lineWidth),tf.miterLimit!=tc.miterLimit&&(tf.miterLimit=tc.miterLimit,tp.miterLimit=tc.miterLimit),tf.strokeStyle!=tc.strokeStyle&&(tf.strokeStyle=tc.strokeStyle,tp.strokeStyle=tc.strokeStyle)):(tp.lineCap=tc.lineCap,tp.setLineDash&&(tp.setLineDash(tc.lineDash),tp.lineDashOffset=tc.lineDashOffset),tp.lineJoin=tc.lineJoin,tp.lineWidth=tc.lineWidth,tp.miterLimit=tc.miterLimit,tp.strokeStyle=tc.strokeStyle,this.contextStrokeState_={lineCap:tc.lineCap,lineDash:tc.lineDash,lineDashOffset:tc.lineDashOffset,lineJoin:tc.lineJoin,lineWidth:tc.lineWidth,miterLimit:tc.miterLimit,strokeStyle:tc.strokeStyle})},tp.prototype.setContextTextState_=function(tc){var tp=this.context_,tf=this.contextTextState_,td=tc.textAlign?tc.textAlign:bt;tf?(tf.font!=tc.font&&(tf.font=tc.font,tp.font=tc.font),tf.textAlign!=td&&(tf.textAlign=td,tp.textAlign=td),tf.textBaseline!=tc.textBaseline&&(tf.textBaseline=tc.textBaseline,tp.textBaseline=tc.textBaseline)):(tp.font=tc.font,tp.textAlign=td,tp.textBaseline=tc.textBaseline,this.contextTextState_={font:tc.font,textAlign:td,textBaseline:tc.textBaseline})},tp.prototype.setFillStrokeStyle=function(tc,tp){var tf=this;if(tc){var td=tc.getColor();this.fillState_={fillStyle:Vs(td||Et)}}else this.fillState_=null;if(tp){var tg=tp.getColor(),t8=tp.getLineCap(),ty=tp.getLineDash(),tv=tp.getLineDashOffset(),tm=tp.getLineJoin(),t$=tp.getWidth(),tx=tp.getMiterLimit(),tC=ty||wt;this.strokeState_={lineCap:void 0!==t8?t8:St,lineDash:1===this.pixelRatio_?tC:tC.map(function(tc){return tc*tf.pixelRatio_}),lineDashOffset:(tv||0)*this.pixelRatio_,lineJoin:void 0!==tm?tm:Ot,lineWidth:(void 0!==t$?t$:1)*this.pixelRatio_,miterLimit:void 0!==tx?tx:10,strokeStyle:Vs(tg||Tt)}}else this.strokeState_=null},tp.prototype.setImageStyle=function(tc){var tp;if(tc&&(tp=tc.getSize())){var tf=tc.getAnchor(),td=tc.getOrigin();this.image_=tc.getImage(this.pixelRatio_),this.imageAnchorX_=tf[0]*this.pixelRatio_,this.imageAnchorY_=tf[1]*this.pixelRatio_,this.imageHeight_=tp[1]*this.pixelRatio_,this.imageOpacity_=tc.getOpacity(),this.imageOriginX_=td[0],this.imageOriginY_=td[1],this.imageRotateWithView_=tc.getRotateWithView(),this.imageRotation_=tc.getRotation(),this.imageScale_=tc.getScaleArray(),this.imageWidth_=tp[0]*this.pixelRatio_}else this.image_=null},tp.prototype.setTextStyle=function(tc){if(tc){var tp=tc.getFill();if(tp){var tf=tp.getColor();this.textFillState_={fillStyle:Vs(tf||Et)}}else this.textFillState_=null;var td=tc.getStroke();if(td){var tg=td.getColor(),t8=td.getLineCap(),ty=td.getLineDash(),tv=td.getLineDashOffset(),tm=td.getLineJoin(),t$=td.getWidth(),tx=td.getMiterLimit();this.textStrokeState_={lineCap:void 0!==t8?t8:St,lineDash:ty||wt,lineDashOffset:tv||0,lineJoin:void 0!==tm?tm:Ot,lineWidth:void 0!==t$?t$:1,miterLimit:void 0!==tx?tx:10,strokeStyle:Vs(tg||Tt)}}else this.textStrokeState_=null;var tC=tc.getFont(),tE=tc.getOffsetX(),t_=tc.getOffsetY(),tS=tc.getRotateWithView(),tw=tc.getRotation(),tR=tc.getScaleArray(),tT=tc.getText(),tI=tc.getTextAlign(),tO=tc.getTextBaseline();this.textState_={font:void 0!==tC?tC:Ct,textAlign:void 0!==tI?tI:bt,textBaseline:void 0!==tO?tO:Rt},this.text_=void 0!==tT?Array.isArray(tT)?tT.reduce(function(tc,tp,tf){return tc+(tf%2?" ":tp)},""):tT:"",this.textOffsetX_=void 0!==tE?this.pixelRatio_*tE:0,this.textOffsetY_=void 0!==t_?this.pixelRatio_*t_:0,this.textRotateWithView_=void 0!==tS&&tS,this.textRotation_=void 0!==tw?tw:0,this.textScale_=[this.pixelRatio_*tR[0],this.pixelRatio_*tR[1],]}else this.text_=""},tp}(fl),$l="fraction",tu="pixels",eu={};e(eu,"default",()=>pu,tc=>pu=tc),k=a("3xzSb");var nu="bottom-left",iu="bottom-right",ru="top-left",ou="top-right",au=(g=a("4Cz58"),{});e(au,"get",()=>hu,tc=>hu=tc),mt=a("KD0eF"),k=a("3xzSb"),xt=a("DfnQm");var su=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),lu=null,uu=function(tc){function tp(tp,tf,td,tg,t8,ty){var tv=tc.call(this)||this;return tv.hitDetectionImage_=null,tv.image_=tp||new Image,null!==tg&&(tv.image_.crossOrigin=tg),tv.canvas_={},tv.color_=ty,tv.unlisten_=null,tv.imageState_=t8,tv.size_=td,tv.src_=tf,tv.tainted_,tv}return su(tp,tc),tp.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===Fo){lu||(lu=xt.createCanvasContext2D(1,1)),lu.drawImage(this.image_,0,0);try{lu.getImageData(0,0,1,1),this.tainted_=!1}catch(tc){lu=null,this.tainted_=!0}}return!0===this.tainted_},tp.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(k.default.CHANGE)},tp.prototype.handleImageError_=function(){this.imageState_=Ao,this.unlistenImage_(),this.dispatchChangeEvent_()},tp.prototype.handleImageLoad_=function(){this.imageState_=Fo,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},tp.prototype.getImage=function(tc){return this.replaceColor_(tc),this.canvas_[tc]?this.canvas_[tc]:this.image_},tp.prototype.getPixelRatio=function(tc){return this.replaceColor_(tc),this.canvas_[tc]?tc:1},tp.prototype.getImageState=function(){return this.imageState_},tp.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_){if(this.isTainted_()){var tc=this.size_[0],tp=this.size_[1],tf=xt.createCanvasContext2D(tc,tp);tf.fillRect(0,0,tc,tp),this.hitDetectionImage_=tf.canvas}else this.hitDetectionImage_=this.image_}return this.hitDetectionImage_},tp.prototype.getSize=function(){return this.size_},tp.prototype.getSrc=function(){return this.src_},tp.prototype.load=function(){if(this.imageState_==Lo){this.imageState_=Mo;try{this.image_.src=this.src_}catch(tc){this.handleImageError_()}this.unlisten_=oa.listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},tp.prototype.replaceColor_=function(tc){if(this.color_&&!this.canvas_[tc]&&this.imageState_===Fo){var tp=document.createElement("canvas");this.canvas_[tc]=tp,tp.width=Math.ceil(this.image_.width*tc),tp.height=Math.ceil(this.image_.height*tc);var tf=tp.getContext("2d");if(tf.scale(tc,tc),tf.drawImage(this.image_,0,0),tf.globalCompositeOperation="multiply","multiply"===tf.globalCompositeOperation||this.isTainted_())tf.fillStyle=O(this.color_),tf.fillRect(0,0,tp.width/tc,tp.height/tc),tf.globalCompositeOperation="destination-in",tf.drawImage(this.image_,0,0);else{for(var td=tf.getImageData(0,0,tp.width,tp.height),tg=td.data,t8=this.color_[0]/255,ty=this.color_[1]/255,tv=this.color_[2]/255,tm=this.color_[3],t$=0,tx=tg.length;t$<tx;t$+=4)tg[t$]*=t8,tg[t$+1]*=ty,tg[t$+2]*=tv,tg[t$+3]*=tm;tf.putImageData(td,0,0)}}},tp.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},tp}(mt.default);function hu(tc,tp,tf,td,tg,t8){var ty=D.get(tp,td,t8);return ty||(ty=new uu(tc,tp,tf,td,tg,t8),D.set(tp,td,t8,ty)),ty}f=a("9iPUS");var cu=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),pu=function(tc){function tp(tp){var tf=this,td=tp||{},tg=void 0!==td.opacity?td.opacity:1,t8=void 0!==td.rotation?td.rotation:0,ty=void 0!==td.scale?td.scale:1,tv=void 0!==td.rotateWithView&&td.rotateWithView;(tf=tc.call(this,{opacity:tg,rotation:t8,scale:ty,displacement:void 0!==td.displacement?td.displacement:[0,0],rotateWithView:tv})||this).anchor_=void 0!==td.anchor?td.anchor:[.5,.5],tf.normalizedAnchor_=null,tf.anchorOrigin_=void 0!==td.anchorOrigin?td.anchorOrigin:ru,tf.anchorXUnits_=void 0!==td.anchorXUnits?td.anchorXUnits:$l,tf.anchorYUnits_=void 0!==td.anchorYUnits?td.anchorYUnits:$l,tf.crossOrigin_=void 0!==td.crossOrigin?td.crossOrigin:null;var tm=void 0!==td.img?td.img:null;tf.imgSize_=td.imgSize;var t$=td.src;g.assert(!(void 0!==t$&&tm),4),g.assert(!tm||tm&&tf.imgSize_,5),(void 0===t$||0===t$.length)&&tm&&(t$=tm.src||f.getUid(tm)),g.assert(void 0!==t$&&t$.length>0,6);var tx=void 0!==td.src?Lo:Fo;return tf.color_=void 0!==td.color?P(td.color):null,tf.iconImage_=au.get(tm,t$,void 0!==tf.imgSize_?tf.imgSize_:null,tf.crossOrigin_,tx,tf.color_),tf.offset_=void 0!==td.offset?td.offset:[0,0],tf.offsetOrigin_=void 0!==td.offsetOrigin?td.offsetOrigin:ru,tf.origin_=null,tf.size_=void 0!==td.size?td.size:null,tf}return cu(tp,tc),tp.prototype.clone=function(){var tc=this.getScale();return new tp({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(tc)?tc.slice():tc,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc()})},tp.prototype.getAnchor=function(){var tc=this.normalizedAnchor_;if(!tc){tc=this.anchor_;var tp=this.getSize();if(this.anchorXUnits_==$l||this.anchorYUnits_==$l){if(!tp)return null;tc=this.anchor_.slice(),this.anchorXUnits_==$l&&(tc[0]*=tp[0]),this.anchorYUnits_==$l&&(tc[1]*=tp[1])}if(this.anchorOrigin_!=ru){if(!tp)return null;tc===this.anchor_&&(tc=this.anchor_.slice()),this.anchorOrigin_!=ou&&this.anchorOrigin_!=iu||(tc[0]=-tc[0]+tp[0]),this.anchorOrigin_!=nu&&this.anchorOrigin_!=iu||(tc[1]=-tc[1]+tp[1])}this.normalizedAnchor_=tc}var tf=this.getDisplacement();return[tc[0]-tf[0],tc[1]+tf[1]]},tp.prototype.setAnchor=function(tc){this.anchor_=tc,this.normalizedAnchor_=null},tp.prototype.getColor=function(){return this.color_},tp.prototype.getImage=function(tc){return this.iconImage_.getImage(tc)},tp.prototype.getPixelRatio=function(tc){return this.iconImage_.getPixelRatio(tc)},tp.prototype.getImageSize=function(){return this.iconImage_.getSize()},tp.prototype.getImageState=function(){return this.iconImage_.getImageState()},tp.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},tp.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var tc=this.offset_;if(this.offsetOrigin_!=ru){var tp=this.getSize(),tf=this.iconImage_.getSize();if(!tp||!tf)return null;tc=tc.slice(),this.offsetOrigin_!=ou&&this.offsetOrigin_!=iu||(tc[0]=tf[0]-tp[0]-tc[0]),this.offsetOrigin_!=nu&&this.offsetOrigin_!=iu||(tc[1]=tf[1]-tp[1]-tc[1])}return this.origin_=tc,this.origin_},tp.prototype.getSrc=function(){return this.iconImage_.getSrc()},tp.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},tp.prototype.listenImageChange=function(tc){this.iconImage_.addEventListener(k.default.CHANGE,tc)},tp.prototype.load=function(){this.iconImage_.load()},tp.prototype.unlistenImageChange=function(tc){this.iconImage_.removeEventListener(k.default.CHANGE,tc)},tp}(Ys),fu=(E=a("9byFX"),xt=a("DfnQm"),C=a("9pD6L"),Rn=a("fVVyM"),.5);C=a("9pD6L"),f=a("9iPUS");var du=.5,gu={Point:function(tc,tp,tf,td,tg){var t8,ty=tf.getImage(),tv=tf.getText();if(tg&&(tc=tg,t8=ty&&tv&&tv.getText()?{}:void 0),ty){if(ty.getImageState()!=Fo)return;var tm=tc.getBuilder(tf.getZIndex(),Fl.IMAGE);tm.setImageStyle(ty,t8),tm.drawPoint(tp,td)}if(tv&&tv.getText()){var t$=tc.getBuilder(tf.getZIndex(),Fl.TEXT);t$.setTextStyle(tv,t8),t$.drawText(tp,td)}},LineString:function(tc,tp,tf,td,tg){var t8=tf.getStroke();if(t8){var ty=tc.getBuilder(tf.getZIndex(),Fl.LINE_STRING);ty.setFillStrokeStyle(null,t8),ty.drawLineString(tp,td)}var tv=tf.getText();if(tv&&tv.getText()){var tm=(tg||tc).getBuilder(tf.getZIndex(),Fl.TEXT);tm.setTextStyle(tv),tm.drawText(tp,td)}},Polygon:function(tc,tp,tf,td,tg){var t8=tf.getFill(),ty=tf.getStroke();if(t8||ty){var tv=tc.getBuilder(tf.getZIndex(),Fl.POLYGON);tv.setFillStrokeStyle(t8,ty),tv.drawPolygon(tp,td)}var tm=tf.getText();if(tm&&tm.getText()){var t$=(tg||tc).getBuilder(tf.getZIndex(),Fl.TEXT);t$.setTextStyle(tm),t$.drawText(tp,td)}},MultiPoint:function(tc,tp,tf,td,tg){var t8,ty=tf.getImage(),tv=tf.getText();if(tg&&(tc=tg,t8=ty&&tv&&tv.getText()?{}:void 0),ty){if(ty.getImageState()!=Fo)return;var tm=tc.getBuilder(tf.getZIndex(),Fl.IMAGE);tm.setImageStyle(ty,t8),tm.drawMultiPoint(tp,td)}if(tv&&tv.getText()){var t$=(tg||tc).getBuilder(tf.getZIndex(),Fl.TEXT);t$.setTextStyle(tv,t8),t$.drawText(tp,td)}},MultiLineString:function(tc,tp,tf,td,tg){var t8=tf.getStroke();if(t8){var ty=tc.getBuilder(tf.getZIndex(),Fl.LINE_STRING);ty.setFillStrokeStyle(null,t8),ty.drawMultiLineString(tp,td)}var tv=tf.getText();if(tv&&tv.getText()){var tm=(tg||tc).getBuilder(tf.getZIndex(),Fl.TEXT);tm.setTextStyle(tv),tm.drawText(tp,td)}},MultiPolygon:function(tc,tp,tf,td,tg){var t8=tf.getFill(),ty=tf.getStroke();if(ty||t8){var tv=tc.getBuilder(tf.getZIndex(),Fl.POLYGON);tv.setFillStrokeStyle(t8,ty),tv.drawMultiPolygon(tp,td)}var tm=tf.getText();if(tm&&tm.getText()){var t$=(tg||tc).getBuilder(tf.getZIndex(),Fl.TEXT);t$.setTextStyle(tm),t$.drawText(tp,td)}},GeometryCollection:function(tc,tp,tf,td,tg){var t8,ty,tv=tp.getGeometriesArray();for(t8=0,ty=tv.length;t8<ty;++t8)(0,gu[tv[t8].getType()])(tc,tv[t8],tf,td,tg)},Circle:function(tc,tp,tf,td,tg){var t8=tf.getFill(),ty=tf.getStroke();if(t8||ty){var tv=tc.getBuilder(tf.getZIndex(),Fl.CIRCLE);tv.setFillStrokeStyle(t8,ty),tv.drawCircle(tp,td)}var tm=tf.getText();if(tm&&tm.getText()){var t$=(tg||tc).getBuilder(tf.getZIndex(),Fl.TEXT);t$.setTextStyle(tm),t$.drawText(tp,td)}}};function _u(tc,tp){return parseInt(f.getUid(tc),10)-parseInt(f.getUid(tp),10)}function yu(tc,tp){return du*tc/tp}function vu(tc,tp,tf,td,tg,t8,ty){var tv=!1,tm=tf.getImage();if(tm){var t$=tm.getImageState();t$==Fo||t$==Ao?tm.unlistenImageChange(tg):(t$==Lo&&tm.load(),t$=tm.getImageState(),tm.listenImageChange(tg),tv=!0)}return function(tc,tp,tf,td,tg,t8){var ty=tf.getGeometryFunction()(tp);if(ty){var tv=ty.simplifyTransformed(td,tg);tf.getRenderer()?mu(tc,tv,tf,tp):(0,gu[tv.getType()])(tc,tv,tf,tp,t8)}}(tc,tp,tf,td,t8,ty),tv}function mu(tc,tp,tf,td){if(tp.getType()!=Ee.GEOMETRY_COLLECTION)tc.getBuilder(tf.getZIndex(),Fl.DEFAULT).drawCustom(tp,td,tf.getRenderer(),tf.getHitDetectionRenderer());else for(var tg=tp.getGeometries(),t8=0,ty=tg.length;t8<ty;++t8)mu(tc,tg[t8],tf,td)}Rn=a("fVVyM"),f=a("9iPUS");var xu=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Cu=function(tc){function tp(tp){var tf=tc.call(this,tp)||this;return tf.boundHandleStyleImageChange_=tf.handleStyleImageChange_.bind(tf),tf.animatingOrInteracting_,tf.dirty_=!1,tf.hitDetectionImageData_=null,tf.renderedFeatures_=null,tf.renderedRevision_=-1,tf.renderedResolution_=NaN,tf.renderedExtent_=C.createEmpty(),tf.wrappedRenderedExtent_=C.createEmpty(),tf.renderedRotation_,tf.renderedCenter_=null,tf.renderedProjection_=null,tf.renderedRenderOrder_=null,tf.replayGroup_=null,tf.replayGroupChanged=!0,tf.declutterExecutorGroup=null,tf.clipping=!0,tf}return xu(tp,tc),tp.prototype.renderWorlds=function(tc,tp,tf){var td=tp.extent,tg=tp.viewState,t8=tg.center,ty=tg.resolution,tv=tg.projection,tm=tg.rotation,t$=tv.getExtent(),tx=this.getLayer().getSource(),tC=tp.pixelRatio,tE=tp.viewHints,t_=!(tE[Te]||tE[be]),tS=this.context,tw=Math.round(tp.size[0]*tC),tR=Math.round(tp.size[1]*tC),tT=tx.getWrapX()&&tv.canWrapX(),tI=tT?C.getWidth(t$):null,tO=tT?Math.ceil((td[2]-t$[2])/tI)+1:1,tP=tT?Math.floor((td[0]-t$[0])/tI):0;do{var tL=this.getRenderTransform(t8,ty,tm,tC,tw,tR,tP*tI);tc.execute(tS,1,tL,tm,t_,void 0,tf)}while(++tP<tO)},tp.prototype.renderDeclutter=function(tc){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,tc,tc.declutterTree)},tp.prototype.renderFrame=function(tc,tp){var tf,td,tg,t8=tc.pixelRatio,ty=tc.layerStatesArray[tc.layerIndex];tf=this.pixelTransform,_(tf,td=1/t8,0,0,1/t8,0,0),m(this.inversePixelTransform,this.pixelTransform);var tv=x(this.pixelTransform);this.useContainer(tp,tv,ty.opacity,this.getBackground(tc));var tm=this.context,t$=tm.canvas,tx=this.replayGroup_,tC=this.declutterExecutorGroup;if((!tx||tx.isEmpty())&&(!tC||tC.isEmpty()))return null;var tE=Math.round(tc.size[0]*t8),t_=Math.round(tc.size[1]*t8);t$.width!=tE||t$.height!=t_?(t$.width=tE,t$.height=t_,t$.style.transform!==tv&&(t$.style.transform=tv)):this.containerReused||tm.clearRect(0,0,tE,t_),this.preRender(tm,tc);var tS=tc.viewState,tw=tS.projection,tR=!1,tT=!0;if(ty.extent&&this.clipping){var tI=wn(ty.extent,tw);(tR=(tT=C.intersects(tI,tc.extent))&&!C.containsExtent(tI,tc.extent))&&this.clipUnrotated(tm,tc,tI)}tT&&this.renderWorlds(tx,tc),tR&&tm.restore(),this.postRender(tm,tc);var tO=yt(ty.opacity),tP=this.container;return tO!==tP.style.opacity&&(tP.style.opacity=tO),this.renderedRotation_!==tS.rotation&&(this.renderedRotation_=tS.rotation,this.hitDetectionImageData_=null),this.container},tp.prototype.getFeatures=function(tc){return new Promise((function(tp){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var tf=[this.context.canvas.width,this.context.canvas.height];y(this.pixelTransform,tf);var td=this.renderedCenter_,tg=this.renderedResolution_,t8=this.renderedRotation_,ty=this.renderedProjection_,tv=this.wrappedRenderedExtent_,tm=this.getLayer(),t$=[],tx=tf[0]*fu,tC=tf[1]*fu;t$.push(this.getRenderTransform(td,tg,t8,fu,tx,tC,0).slice());var tE=tm.getSource(),t_=ty.getExtent();if(tE.getWrapX()&&ty.canWrapX()&&!C.containsExtent(t_,tv)){for(var tS=tv[0],tw=C.getWidth(t_),tR=0,tT=void 0;tS<t_[0];)tT=tw*--tR,t$.push(this.getRenderTransform(td,tg,t8,fu,tx,tC,tT).slice()),tS+=tw;for(tR=0,tS=tv[2];tS>t_[2];)tT=tw*++tR,t$.push(this.getRenderTransform(td,tg,t8,fu,tx,tC,tT).slice()),tS-=tw}this.hitDetectionImageData_=function(tc,tp,tf,td,tg,t8,ty){var tv=tc[0]*fu,tm=tc[1]*fu,t$=xt.createCanvasContext2D(tv,tm);t$.imageSmoothingEnabled=!1;for(var tx=t$.canvas,tC=new ql.default(t$,fu,tg,null,ty),tE=tf.length,t_=Math.floor(16777215/tE),tS={},tw=1;tw<=tE;++tw){var tR=tf[tw-1],tT=tR.getStyleFunction()||td;if(td){var tI=tT(tR,t8);if(tI){Array.isArray(tI)||(tI=[tI]);for(var tO="#"+("000000"+(tw*t_).toString(16)).slice(-6),tP=0,tL=tI.length;tP<tL;++tP){var tb=tI[tP],tF=tb.getGeometryFunction()(tR);if(tF&&C.intersects(tg,tF.getExtent())){var tD=tb.clone(),tA=tD.getFill();tA&&tA.setColor(tO);var tk=tD.getStroke();tk&&(tk.setColor(tO),tk.setLineDash(null)),tD.setText(void 0);var tG=tb.getImage();if(tG&&0!==tG.getOpacity()){var t0=tG.getImageSize();if(!t0)continue;var tN=xt.createCanvasContext2D(t0[0],t0[1],void 0,{alpha:!1}),tM=tN.canvas;tN.fillStyle=tO,tN.fillRect(0,0,tM.width,tM.height),tD.setImage(new eu.default({img:tM,imgSize:t0,anchor:tG.getAnchor(),anchorXUnits:tu,anchorYUnits:tu,offset:tG.getOrigin(),opacity:1,size:tG.getSize(),scale:tG.getScale(),rotation:tG.getRotation(),rotateWithView:tG.getRotateWithView()}))}var tz=tD.getZIndex()||0;(tY=tS[tz])||(tY={},tS[tz]=tY,tY[Ee.POLYGON]=[],tY[Ee.CIRCLE]=[],tY[Ee.LINE_STRING]=[],tY[Ee.POINT]=[]),tY[tF.getType().replace("Multi","")].push(tF,tD)}}}}}for(var tU=Object.keys(tS).map(Number).sort(Rn.numberSafeCompareFunction),tX=(tw=0,tU.length);tw<tX;++tw){var tY=tS[tU[tw]];for(var tV in tY){var tB=tY[tV];for(tP=0,tL=tB.length;tP<tL;tP+=2){tC.setStyle(tB[tP+1]);for(var tW=0,tK=tp.length;tW<tK;++tW)tC.setTransform(tp[tW]),tC.drawGeometry(tB[tP])}}}return t$.getImageData(0,0,tx.width,tx.height)}(tf,t$,this.renderedFeatures_,tm.getStyleFunction(),tv,tg,t8)}tp(function(tc,tp,tf){var td=[];if(tf){var tg=Math.floor(Math.round(tc[0])*fu),t8=Math.floor(Math.round(tc[1])*fu),ty=4*(E.clamp(tg,0,tf.width-1)+E.clamp(t8,0,tf.height-1)*tf.width),tv=tf.data[ty],tm=tf.data[ty+1],t$=tf.data[ty+2]+256*(tm+256*tv),tx=Math.floor(16777215/tp.length);t$&&t$%tx==0&&td.push(tp[t$/tx-1])}return td}(tc,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},tp.prototype.forEachFeatureAtCoordinate=function(tc,tp,tf,td,tg){var t8=this;if(this.replayGroup_){var ty,tv=tp.viewState.resolution,tm=tp.viewState.rotation,t$=this.getLayer(),tx={},tC=function(tc,tp,tf){var t8=f.getUid(tc),ty=tx[t8];if(ty){if(!0!==ty&&tf<ty.distanceSq){if(0===tf)return tx[t8]=!0,tg.splice(tg.lastIndexOf(ty),1),td(tc,t$,tp);ty.geometry=tp,ty.distanceSq=tf}}else{if(0===tf)return tx[t8]=!0,td(tc,t$,tp);tg.push(tx[t8]={feature:tc,layer:t$,geometry:tp,distanceSq:tf,callback:td})}},tE=[this.replayGroup_];return this.declutterExecutorGroup&&tE.push(this.declutterExecutorGroup),tE.some(function(td){return ty=td.forEachFeatureAtCoordinate(tc,tv,tm,tf,tC,td===t8.declutterExecutorGroup&&tp.declutterTree?tp.declutterTree.all().map(function(tc){return tc.value}):null)}),ty}},tp.prototype.handleFontsChanged=function(){var tc=this.getLayer();tc.getVisible()&&this.replayGroup_&&tc.changed()},tp.prototype.handleStyleImageChange_=function(tc){this.renderIfReadyAndVisible()},tp.prototype.prepareFrame=function(tc){var tp=this.getLayer(),tf=tp.getSource();if(!tf)return!1;var td=tc.viewHints[Te],tg=tc.viewHints[be],t8=tp.getUpdateWhileAnimating(),ty=tp.getUpdateWhileInteracting();if(!this.dirty_&&!t8&&td||!ty&&tg)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var tv=tc.extent,tm=tc.viewState,t$=tm.projection,tx=tm.resolution,tC=tc.pixelRatio,tE=tp.getRevision(),t_=tp.getRenderBuffer(),tS=tp.getRenderOrder();void 0===tS&&(tS=_u);var tw=tm.center.slice(),tR=C.buffer(tv,t_*tx),tT=tR.slice(),tI=[tR.slice()],tO=t$.getExtent();if(tf.getWrapX()&&t$.canWrapX()&&!C.containsExtent(tO,tc.extent)){var tP=C.getWidth(tO),tL=Math.max(C.getWidth(tR)/2,tP);tR[0]=tO[0]-tL,tR[2]=tO[2]+tL,tt(tw,t$);var tb=C.wrapX(tI[0],t$);tb[0]<tO[0]&&tb[2]<tO[2]?tI.push([tb[0]+tP,tb[1],tb[2]+tP,tb[3]]):tb[0]>tO[0]&&tb[2]>tO[2]&&tI.push([tb[0]-tP,tb[1],tb[2]-tP,tb[3]])}if(!this.dirty_&&this.renderedResolution_==tx&&this.renderedRevision_==tE&&this.renderedRenderOrder_==tS&&C.containsExtent(this.wrappedRenderedExtent_,tR))return Rn.equals(this.renderedExtent_,tT)||(this.hitDetectionImageData_=null,this.renderedExtent_=tT),this.renderedCenter_=tw,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var tF,tD=new Ml(yu(tx,tC),tR,tx,tC);this.getLayer().getDeclutter()&&(tF=new Ml(yu(tx,tC),tR,tx,tC));var tA,tk=xn();if(tk){for(var tG=0,t0=tI.length;tG<t0;++tG){var tN=Sn(tI[tG],t$);tf.loadFeatures(tN,On(tx,t$),tk)}tA=pn(tk,t$)}else for(tG=0,t0=tI.length;tG<t0;++tG)tf.loadFeatures(tI[tG],tx,t$);var tM,tz,tU,tX=(tM=tx,tz=tC,(tU=yu(tM,tz))*tU),tY=(function(tc){var tf,td=tc.getStyleFunction()||tp.getStyleFunction();if(td&&(tf=td(tc,tx)),tf){var tg=this.renderFeature(tc,tX,tf,tD,tA,tF);this.dirty_=this.dirty_||tg}}).bind(this),tV=Sn(tR,t$),tB=tf.getFeaturesInExtent(tV);for(tS&&tB.sort(tS),tG=0,t0=tB.length;tG<t0;++tG)tY(tB[tG]);this.renderedFeatures_=tB;var tW=tD.finish(),tK=new Hl(tR,tx,tC,tf.getOverlaps(),tW,tp.getRenderBuffer());return tF&&(this.declutterExecutorGroup=new Hl(tR,tx,tC,tf.getOverlaps(),tF.finish(),tp.getRenderBuffer())),this.renderedResolution_=tx,this.renderedRevision_=tE,this.renderedRenderOrder_=tS,this.renderedExtent_=tT,this.wrappedRenderedExtent_=tR,this.renderedCenter_=tw,this.renderedProjection_=t$,this.replayGroup_=tK,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},tp.prototype.renderFeature=function(tc,tp,tf,td,tg,t8){if(!tf)return!1;var ty=!1;if(Array.isArray(tf))for(var tv=0,tm=tf.length;tv<tm;++tv)ty=vu(td,tc,tf[tv],tp,this.boundHandleStyleImageChange_,tg,t8)||ty;else ty=vu(td,tc,tf,tp,this.boundHandleStyleImageChange_,tg,t8);return ty},tp}(Io.default),Eu=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Su=function(tc){function tp(tp){return tc.call(this,tp)||this}return Eu(tp,tc),tp.prototype.createRenderer=function(){return new rl.default(this)},tp}(ks.default),wu={};e(wu,"VectorSourceEvent",()=>Gu,tc=>Gu=tc),e(wu,"default",()=>ku,tc=>ku=tc),Vt=a("cD8Qe"),Wt=a("1TIYs"),st=a("f18Q2"),k=a("3xzSb"),ot=a("jXCUw"),C=a("9pD6L"),f=a("9iPUS"),B=a("gn0g3");var Ou=function(){function tc(tc){this.rbush_=new(n(zs))(tc),this.items_={}}return tc.prototype.insert=function(tc,tp){var tf={minX:tc[0],minY:tc[1],maxX:tc[2],maxY:tc[3],value:tp};this.rbush_.insert(tf),this.items_[f.getUid(tp)]=tf},tc.prototype.load=function(tc,tp){for(var tf=Array(tp.length),td=0,tg=tp.length;td<tg;td++){var t8=tc[td],ty=tp[td],tv={minX:t8[0],minY:t8[1],maxX:t8[2],maxY:t8[3],value:ty};tf[td]=tv,this.items_[f.getUid(ty)]=tv}this.rbush_.load(tf)},tc.prototype.remove=function(tc){var tp=f.getUid(tc),tf=this.items_[tp];return delete this.items_[tp],null!==this.rbush_.remove(tf)},tc.prototype.update=function(tc,tp){var tf=this.items_[f.getUid(tp)],td=[tf.minX,tf.minY,tf.maxX,tf.maxY];C.equals(td,tc)||(this.remove(tp),this.insert(tc,tp))},tc.prototype.getAll=function(){return this.rbush_.all().map(function(tc){return tc.value})},tc.prototype.getInExtent=function(tc){var tp={minX:tc[0],minY:tc[1],maxX:tc[2],maxY:tc[3]};return this.rbush_.search(tp).map(function(tc){return tc.value})},tc.prototype.forEach=function(tc){return this.forEach_(this.getAll(),tc)},tc.prototype.forEachInExtent=function(tc,tp){return this.forEach_(this.getInExtent(tc),tp)},tc.prototype.forEach_=function(tc,tp){for(var tf,td=0,tg=tc.length;td<tg&&!(tf=tp(tc[td]));td++);return tf},tc.prototype.isEmpty=function(){return B.isEmpty(this.items_)},tc.prototype.clear=function(){this.rbush_.clear(),this.items_={}},tc.prototype.getExtent=function(tc){var tp=this.rbush_.toJSON();return C.createOrUpdate(tp.minX,tp.minY,tp.maxX,tp.maxY,tc)},tc.prototype.concat=function(tc){for(var tp in this.rbush_.load(tc.rbush_.all()),tc.items_)this.items_[tp]=tc.items_[tp]},tc}(),Tu=(K=a("d8cxx"),"addfeature"),bu="changefeature",Ru="clear",Iu="removefeature",Pu="featuresloadstart",Lu="featuresloadend",Mu="featuresloaderror";function Fu(tc,tp){return[[-1/0,-1/0,1/0,1/0]]}p=a("6wUzV"),g=a("4Cz58"),C=a("9pD6L"),Rn=a("fVVyM"),f=a("9iPUS"),B=a("gn0g3"),Z=a("ilM9F");var Au={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},Du=(p=a("6wUzV"),!1);function ju(tc,tp){return function(tf,td,tg,t8,ty){var tv,tm,t$,tx,tC,tE,t_,tS,tw=this;tv=tc,tm=tp,t$=tf,tx=td,tC=tg,tE=function(tc,tp){tw.addFeatures(tc),void 0!==t8&&t8(tc)},t_=ty||p.VOID,(tS=new XMLHttpRequest).open("GET","function"==typeof tv?tv(t$,tx,tC):tv,!0),tm.getType()==Au.ARRAY_BUFFER&&(tS.responseType="arraybuffer"),tS.withCredentials=Du,tS.onload=function(tc){if(!tS.status||tS.status>=200&&tS.status<300){var tp=tm.getType(),tf=void 0;tp==Au.JSON||tp==Au.TEXT?tf=tS.responseText:tp==Au.XML?(tf=tS.responseXML)||(tf=new DOMParser().parseFromString(tS.responseText,"application/xml")):tp==Au.ARRAY_BUFFER&&(tf=tS.response),tf?tE(tm.readFeatures(tf,{extent:t$,featureProjection:tC}),tm.readProjection(tf)):t_()}else t_()},tS.onerror=t_,tS.send()}}var Nu=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),Gu=function(tc){function tp(tp,tf,td){var tg=tc.call(this,tp)||this;return tg.feature=tf,tg.features=td,tg}return Nu(tp,tc),tp}(st.default),ku=function(tc){function tp(tp){var tf=this,td=tp||{};(tf=tc.call(this,{attributions:td.attributions,interpolate:!0,projection:void 0,state:K.default.READY,wrapX:void 0===td.wrapX||td.wrapX})||this).on,tf.once,tf.un,tf.loader_=p.VOID,tf.format_=td.format,tf.overlaps_=void 0===td.overlaps||td.overlaps,tf.url_=td.url,void 0!==td.loader?tf.loader_=td.loader:void 0!==tf.url_&&(g.assert(tf.format_,7),tf.loader_=ju(tf.url_,tf.format_)),tf.strategy_=void 0!==td.strategy?td.strategy:Fu;var tg,t8,ty=void 0===td.useSpatialIndex||td.useSpatialIndex;return tf.featuresRtree_=ty?new Ou:null,tf.loadedExtentsRtree_=new Ou,tf.loadingExtentsCount_=0,tf.nullGeometryFeatures_={},tf.idIndex_={},tf.uidIndex_={},tf.featureChangeKeys_={},tf.featuresCollection_=null,Array.isArray(td.features)?t8=td.features:td.features&&(t8=(tg=td.features).getArray()),ty||void 0!==tg||(tg=new Vt.default(t8)),void 0!==t8&&tf.addFeaturesInternal(t8),void 0!==tg&&tf.bindFeaturesCollection_(tg),tf}return Nu(tp,tc),tp.prototype.addFeature=function(tc){this.addFeatureInternal(tc),this.changed()},tp.prototype.addFeatureInternal=function(tc){var tp=f.getUid(tc);if(this.addToIndex_(tp,tc)){this.setupChangeEvents_(tp,tc);var tf=tc.getGeometry();if(tf){var td=tf.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(td,tc)}else this.nullGeometryFeatures_[tp]=tc;this.dispatchEvent(new Gu(Tu,tc))}else this.featuresCollection_&&this.featuresCollection_.remove(tc)},tp.prototype.setupChangeEvents_=function(tc,tp){this.featureChangeKeys_[tc]=[Z.listen(tp,k.default.CHANGE,this.handleFeatureChange_,this),Z.listen(tp,ot.default.PROPERTYCHANGE,this.handleFeatureChange_,this),]},tp.prototype.addToIndex_=function(tc,tp){var tf=!0,td=tp.getId();return void 0!==td&&(td.toString() in this.idIndex_?tf=!1:this.idIndex_[td.toString()]=tp),tf&&(g.assert(!(tc in this.uidIndex_),30),this.uidIndex_[tc]=tp),tf},tp.prototype.addFeatures=function(tc){this.addFeaturesInternal(tc),this.changed()},tp.prototype.addFeaturesInternal=function(tc){for(var tp=[],tf=[],td=[],tg=0,t8=tc.length;tg<t8;tg++){var ty=tc[tg],tv=f.getUid(ty);this.addToIndex_(tv,ty)&&tf.push(ty)}tg=0;for(var tm=tf.length;tg<tm;tg++){ty=tf[tg],tv=f.getUid(ty),this.setupChangeEvents_(tv,ty);var t$=ty.getGeometry();if(t$){var tx=t$.getExtent();tp.push(tx),td.push(ty)}else this.nullGeometryFeatures_[tv]=ty}if(this.featuresRtree_&&this.featuresRtree_.load(tp,td),this.hasListener(Tu)){tg=0;for(var tC=tf.length;tg<tC;tg++)this.dispatchEvent(new Gu(Tu,tf[tg]))}},tp.prototype.bindFeaturesCollection_=function(tc){var tp=!1;this.addEventListener(Tu,function(tf){tp||(tp=!0,tc.push(tf.feature),tp=!1)}),this.addEventListener(Iu,function(tf){tp||(tp=!0,tc.remove(tf.feature),tp=!1)}),tc.addEventListener(Wt.default.ADD,(function(tc){tp||(tp=!0,this.addFeature(tc.element),tp=!1)}).bind(this)),tc.addEventListener(Wt.default.REMOVE,(function(tc){tp||(tp=!0,this.removeFeature(tc.element),tp=!1)}).bind(this)),this.featuresCollection_=tc},tp.prototype.clear=function(tc){if(tc){for(var tp in this.featureChangeKeys_)this.featureChangeKeys_[tp].forEach(Z.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var tf=(function(tc){this.removeFeatureInternal(tc)}).bind(this);for(var td in this.featuresRtree_.forEach(tf),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[td])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var tg=new Gu(Ru);this.dispatchEvent(tg),this.changed()},tp.prototype.forEachFeature=function(tc){if(this.featuresRtree_)return this.featuresRtree_.forEach(tc);this.featuresCollection_&&this.featuresCollection_.forEach(tc)},tp.prototype.forEachFeatureAtCoordinateDirect=function(tc,tp){var tf=[tc[0],tc[1],tc[0],tc[1]];return this.forEachFeatureInExtent(tf,function(tf){return tf.getGeometry().intersectsCoordinate(tc)?tp(tf):void 0})},tp.prototype.forEachFeatureInExtent=function(tc,tp){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(tc,tp);this.featuresCollection_&&this.featuresCollection_.forEach(tp)},tp.prototype.forEachFeatureIntersectingExtent=function(tc,tp){return this.forEachFeatureInExtent(tc,function(tf){if(tf.getGeometry().intersectsExtent(tc)){var td=tp(tf);if(td)return td}})},tp.prototype.getFeaturesCollection=function(){return this.featuresCollection_},tp.prototype.getFeatures=function(){var tc;return this.featuresCollection_?tc=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(tc=this.featuresRtree_.getAll(),B.isEmpty(this.nullGeometryFeatures_)||Rn.extend(tc,B.getValues(this.nullGeometryFeatures_))),tc},tp.prototype.getFeaturesAtCoordinate=function(tc){var tp=[];return this.forEachFeatureAtCoordinateDirect(tc,function(tc){tp.push(tc)}),tp},tp.prototype.getFeaturesInExtent=function(tc){return this.featuresRtree_?this.featuresRtree_.getInExtent(tc):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},tp.prototype.getClosestFeatureToCoordinate=function(tc,tp){var tf=tc[0],td=tc[1],tg=null,t8=[NaN,NaN],ty=1/0,tv=[-1/0,-1/0,1/0,1/0],tm=tp||p.TRUE;return this.featuresRtree_.forEachInExtent(tv,function(tc){if(tm(tc)){var tp=tc.getGeometry(),t$=ty;if((ty=tp.closestPointXY(tf,td,t8,ty))<t$){tg=tc;var tx=Math.sqrt(ty);tv[0]=tf-tx,tv[1]=td-tx,tv[2]=tf+tx,tv[3]=td+tx}}}),tg},tp.prototype.getExtent=function(tc){return this.featuresRtree_.getExtent(tc)},tp.prototype.getFeatureById=function(tc){var tp=this.idIndex_[tc.toString()];return void 0!==tp?tp:null},tp.prototype.getFeatureByUid=function(tc){var tp=this.uidIndex_[tc];return void 0!==tp?tp:null},tp.prototype.getFormat=function(){return this.format_},tp.prototype.getOverlaps=function(){return this.overlaps_},tp.prototype.getUrl=function(){return this.url_},tp.prototype.handleFeatureChange_=function(tc){var tp=tc.target,tf=f.getUid(tp),td=tp.getGeometry();if(td){var tg=td.getExtent();tf in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[tf],this.featuresRtree_&&this.featuresRtree_.insert(tg,tp)):this.featuresRtree_&&this.featuresRtree_.update(tg,tp)}else tf in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(tp),this.nullGeometryFeatures_[tf]=tp);var t8=tp.getId();if(void 0!==t8){var ty=t8.toString();this.idIndex_[ty]!==tp&&(this.removeFromIdIndex_(tp),this.idIndex_[ty]=tp)}else this.removeFromIdIndex_(tp),this.uidIndex_[tf]=tp;this.changed(),this.dispatchEvent(new Gu(bu,tp))},tp.prototype.hasFeature=function(tc){var tp=tc.getId();return void 0!==tp?tp in this.idIndex_:f.getUid(tc) in this.uidIndex_},tp.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&B.isEmpty(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},tp.prototype.loadFeatures=function(tc,tp,tf){for(var td=this.loadedExtentsRtree_,tg=this.strategy_(tc,tp,tf),t8=function(tc,t8){var tv=tg[tc];td.forEachInExtent(tv,function(tc){return C.containsExtent(tc.extent,tv)})||(++ty.loadingExtentsCount_,ty.dispatchEvent(new Gu(Pu)),ty.loader_.call(ty,tv,tp,tf,(function(tc){--this.loadingExtentsCount_,this.dispatchEvent(new Gu(Lu,void 0,tc))}).bind(ty),(function(){--this.loadingExtentsCount_,this.dispatchEvent(new Gu(Mu))}).bind(ty)),td.insert(tv,{extent:tv.slice()}))},ty=this,tv=0,tm=tg.length;tv<tm;++tv)t8(tv);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},tp.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),tc.prototype.refresh.call(this)},tp.prototype.removeLoadedExtent=function(tc){var tp,tf=this.loadedExtentsRtree_;tf.forEachInExtent(tc,function(tf){if(C.equals(tf.extent,tc))return tp=tf,!0}),tp&&tf.remove(tp)},tp.prototype.removeFeature=function(tc){if(tc){var tp=f.getUid(tc);tp in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[tp]:this.featuresRtree_&&this.featuresRtree_.remove(tc),this.removeFeatureInternal(tc)&&this.changed()}},tp.prototype.removeFeatureInternal=function(tc){var tp=f.getUid(tc),tf=this.featureChangeKeys_[tp];if(tf){tf.forEach(Z.unlistenByKey),delete this.featureChangeKeys_[tp];var td=tc.getId();return void 0!==td&&delete this.idIndex_[td.toString()],delete this.uidIndex_[tp],this.dispatchEvent(new Gu(Iu,tc)),tc}},tp.prototype.removeFromIdIndex_=function(tc){var tp=!1;for(var tf in this.idIndex_)if(this.idIndex_[tf]===tc){delete this.idIndex_[tf],tp=!0;break}return tp},tp.prototype.setLoader=function(tc){this.loader_=tc},tp.prototype.setUrl=function(tc){g.assert(this.format_,7),this.url_=tc,this.setLoader(ju(tc,this.format_))},tp}(Wa.default),zu={};e(zu,"default",()=>vh,tc=>vh=tc);var Uu={};e(Uu,"createStyleFunction",()=>Yu,tc=>Yu=tc),e(Uu,"default",()=>Vu,tc=>Vu=tc),vt=a("fFFY7"),k=a("3xzSb"),g=a("4Cz58"),Z=a("ilM9F");var Xu=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}();function Yu(tc){var tp;return"function"==typeof tc?tc:(Array.isArray(tc)?tp=tc:(g.assert("function"==typeof tc.getZIndex,41),tp=[tc]),function(){return tp})}var Vu=function(tc){function tp(tp){var tf=tc.call(this)||this;return tf.on,tf.once,tf.un,tf.id_=void 0,tf.geometryName_="geometry",tf.style_=null,tf.styleFunction_=void 0,tf.geometryChangeKey_=null,tf.addChangeListener(tf.geometryName_,tf.handleGeometryChanged_),tp&&("function"==typeof tp.getSimplifiedGeometry?tf.setGeometry(tp):tf.setProperties(tp)),tf}return Xu(tp,tc),tp.prototype.clone=function(){var tc=new tp(this.hasProperties()?this.getProperties():null);tc.setGeometryName(this.getGeometryName());var tf=this.getGeometry();tf&&tc.setGeometry(tf.clone());var td=this.getStyle();return td&&tc.setStyle(td),tc},tp.prototype.getGeometry=function(){return this.get(this.geometryName_)},tp.prototype.getId=function(){return this.id_},tp.prototype.getGeometryName=function(){return this.geometryName_},tp.prototype.getStyle=function(){return this.style_},tp.prototype.getStyleFunction=function(){return this.styleFunction_},tp.prototype.handleGeometryChange_=function(){this.changed()},tp.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Z.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var tc=this.getGeometry();tc&&(this.geometryChangeKey_=Z.listen(tc,k.default.CHANGE,this.handleGeometryChange_,this)),this.changed()},tp.prototype.setGeometry=function(tc){this.set(this.geometryName_,tc)},tp.prototype.setStyle=function(tc){this.style_=tc,this.styleFunction_=tc?Yu(tc):void 0,this.changed()},tp.prototype.setId=function(tc){this.id_=tc,this.changed()},tp.prototype.setGeometryName=function(tc){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=tc,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},tp}(vt.default),Wu={};e(Wu,"default",()=>Zu,tc=>Zu=tc),k=a("3xzSb"),C=a("9pD6L"),Z=a("ilM9F");var Ku=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}();function Bu(tc){for(var tp=[],tf=0,td=tc.length;tf<td;++tf)tp.push(tc[tf].clone());return tp}var Zu=function(tc){function tp(tp){var tf=tc.call(this)||this;return tf.geometries_=tp||null,tf.changeEventsKeys_=[],tf.listenGeometriesChange_(),tf}return Ku(tp,tc),tp.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(Z.unlistenByKey),this.changeEventsKeys_.length=0},tp.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var tc=0,tp=this.geometries_.length;tc<tp;++tc)this.changeEventsKeys_.push(Z.listen(this.geometries_[tc],k.default.CHANGE,this.changed,this))},tp.prototype.clone=function(){var tc=new tp(null);return tc.setGeometries(this.geometries_),tc.applyProperties(this),tc},tp.prototype.closestPointXY=function(tc,tp,tf,td){if(td<C.closestSquaredDistanceXY(this.getExtent(),tc,tp))return td;for(var tg=this.geometries_,t8=0,ty=tg.length;t8<ty;++t8)td=tg[t8].closestPointXY(tc,tp,tf,td);return td},tp.prototype.containsXY=function(tc,tp){for(var tf=this.geometries_,td=0,tg=tf.length;td<tg;++td)if(tf[td].containsXY(tc,tp))return!0;return!1},tp.prototype.computeExtent=function(tc){C.createOrUpdateEmpty(tc);for(var tp=this.geometries_,tf=0,td=tp.length;tf<td;++tf)C.extend(tc,tp[tf].getExtent());return tc},tp.prototype.getGeometries=function(){return Bu(this.geometries_)},tp.prototype.getGeometriesArray=function(){return this.geometries_},tp.prototype.getGeometriesArrayRecursive=function(){for(var tc=[],tp=this.geometries_,tf=0,td=tp.length;tf<td;++tf)tp[tf].getType()===this.getType()?tc=tc.concat(tp[tf].getGeometriesArrayRecursive()):tc.push(tp[tf]);return tc},tp.prototype.getSimplifiedGeometry=function(tc){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),tc<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&tc<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var tf=[],td=this.geometries_,tg=!1,t8=0,ty=td.length;t8<ty;++t8){var tv=td[t8],tm=tv.getSimplifiedGeometry(tc);tf.push(tm),tm!==tv&&(tg=!0)}if(tg){var t$=new tp(null);return t$.setGeometriesArray(tf),t$}return this.simplifiedGeometryMaxMinSquaredTolerance=tc,this},tp.prototype.getType=function(){return Ee.GEOMETRY_COLLECTION},tp.prototype.intersectsExtent=function(tc){for(var tp=this.geometries_,tf=0,td=tp.length;tf<td;++tf)if(tp[tf].intersectsExtent(tc))return!0;return!1},tp.prototype.isEmpty=function(){return 0===this.geometries_.length},tp.prototype.rotate=function(tc,tp){for(var tf=this.geometries_,td=0,tg=tf.length;td<tg;++td)tf[td].rotate(tc,tp);this.changed()},tp.prototype.scale=function(tc,tp,tf){var td=tf;td||(td=C.getCenter(this.getExtent()));for(var tg=this.geometries_,t8=0,ty=tg.length;t8<ty;++t8)tg[t8].scale(tc,tp,td);this.changed()},tp.prototype.setGeometries=function(tc){this.setGeometriesArray(Bu(tc))},tp.prototype.setGeometriesArray=function(tc){this.unlistenGeometriesChange_(),this.geometries_=tc,this.listenGeometriesChange_(),this.changed()},tp.prototype.applyTransform=function(tc){for(var tp=this.geometries_,tf=0,td=tp.length;tf<td;++tf)tp[tf].applyTransform(tc);this.changed()},tp.prototype.translate=function(tc,tp){for(var tf=this.geometries_,td=0,tg=tf.length;td<tg;++td)tf[td].translate(tc,tp);this.changed()},tp.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),tc.prototype.disposeInternal.call(this)},tp}(Xn.default),Hu={};e(Hu,"default",()=>th,tc=>th=tc),f=a("9iPUS"),B=a("gn0g3");var qu=function(){function tc(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return tc.prototype.getReadOptions=function(tc,tp){var tf;if(tp){var td=tp.dataProjection?sn(tp.dataProjection):this.readProjection(tc);tp.extent&&td&&td.getUnits()===Oe.TILE_PIXELS&&(td=sn(td)).setWorldExtent(tp.extent),tf={dataProjection:td,featureProjection:tp.featureProjection}}return this.adaptOptions(tf)},tc.prototype.adaptOptions=function(tc){return B.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},tc)},tc.prototype.getType=function(){return f.abstract()},tc.prototype.readFeature=function(tc,tp){return f.abstract()},tc.prototype.readFeatures=function(tc,tp){return f.abstract()},tc.prototype.readGeometry=function(tc,tp){return f.abstract()},tc.prototype.readProjection=function(tc){return f.abstract()},tc.prototype.writeFeature=function(tc,tp){return f.abstract()},tc.prototype.writeFeatures=function(tc,tp){return f.abstract()},tc.prototype.writeGeometry=function(tc,tp){return f.abstract()},tc}();function Ju(tc,tp,tf){var td,tg=tf?sn(tf.featureProjection):null,t8=tf?sn(tf.dataProjection):null;if(td=tg&&t8&&!cn(tg,t8)?(tp?tc.clone():tc).transform(tp?tg:t8,tp?t8:tg):tc,tp&&tf&&void 0!==tf.decimals){var ty=Math.pow(10,tf.decimals);td===tc&&(td=tc.clone()),td.applyTransform(function(tc){for(var tp=0,tf=tc.length;tp<tf;++tp)tc[tp]=Math.round(tc[tp]*ty)/ty;return tc})}return td}f=a("9iPUS");var Qu=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}();function $u(tc){return"string"==typeof tc?JSON.parse(tc)||null:null!==tc?tc:null}var th=function(tc){function tp(){return tc.call(this)||this}return Qu(tp,tc),tp.prototype.getType=function(){return Au.JSON},tp.prototype.readFeature=function(tc,tp){return this.readFeatureFromObject($u(tc),this.getReadOptions(tc,tp))},tp.prototype.readFeatures=function(tc,tp){return this.readFeaturesFromObject($u(tc),this.getReadOptions(tc,tp))},tp.prototype.readFeatureFromObject=function(tc,tp){return f.abstract()},tp.prototype.readFeaturesFromObject=function(tc,tp){return f.abstract()},tp.prototype.readGeometry=function(tc,tp){return this.readGeometryFromObject($u(tc),this.getReadOptions(tc,tp))},tp.prototype.readGeometryFromObject=function(tc,tp){return f.abstract()},tp.prototype.readProjection=function(tc){return this.readProjectionFromObject($u(tc))},tp.prototype.readProjectionFromObject=function(tc){return f.abstract()},tp.prototype.writeFeature=function(tc,tp){return JSON.stringify(this.writeFeatureObject(tc,tp))},tp.prototype.writeFeatureObject=function(tc,tp){return f.abstract()},tp.prototype.writeFeatures=function(tc,tp){return JSON.stringify(this.writeFeaturesObject(tc,tp))},tp.prototype.writeFeaturesObject=function(tc,tp){return f.abstract()},tp.prototype.writeGeometry=function(tc,tp){return JSON.stringify(this.writeGeometryObject(tc,tp))},tp.prototype.writeGeometryObject=function(tc,tp){return f.abstract()},tp}(qu),eh={};function nh(tc,tp,tf,td,tg,t8,ty){var tv,tm,t$=(tf-tp)/td;if(1===t$)tv=tp;else if(2===t$)tv=tp,tm=tg;else if(0!==t$){for(var tx=tc[tp],tC=tc[tp+1],tE=0,t_=[0],tS=tp+td;tS<tf;tS+=td){var tw=tc[tS],tR=tc[tS+1];tE+=Math.sqrt((tw-tx)*(tw-tx)+(tR-tC)*(tR-tC)),t_.push(tE),tx=tw,tC=tR}var tT=tg*tE,tI=Rn.binarySearch(t_,tT);tI<0?(tm=(tT-t_[-tI-2])/(t_[-tI-1]-t_[-tI-2]),tv=tp+(-tI-2)*td):tv=tp+tI*td}var tO=ty>1?ty:2,tP=t8||Array(tO);for(tS=0;tS<tO;++tS)tP[tS]=void 0===tv?NaN:void 0===tm?tc[tv+tS]:E.lerp(tc[tv+tS],tc[tv+td+tS],tm);return tP}function ih(tc,tp,tf,td,tg,t8){if(tf==tp)return null;if(tg<tc[tp+td-1])return t8?((ty=tc.slice(tp,tp+td))[td-1]=tg,ty):null;if(tc[tf-1]<tg)return t8?((ty=tc.slice(tf-td,tf))[td-1]=tg,ty):null;if(tg==tc[tp+td-1])return tc.slice(tp,tp+td);for(var ty,tv=tp/td,tm=tf/td;tv<tm;){var t$=tv+tm>>1;tg<tc[(t$+1)*td-1]?tm=t$:tv=t$+1}var tx=tc[tv*td-1];if(tg==tx)return tc.slice((tv-1)*td,(tv-1)*td+td);var tC=(tg-tx)/(tc[(tv+1)*td-1]-tx);ty=[];for(var tE=0;tE<td-1;++tE)ty.push(E.lerp(tc[(tv-1)*td+tE],tc[tv*td+tE],tC));return ty.push(tg),ty}e(eh,"default",()=>oh,tc=>oh=tc),C=a("9pD6L"),Rn=a("fVVyM"),Rn=a("fVVyM"),E=a("9byFX");var rh=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),oh=function(tc){function tp(tp,tf){var td=tc.call(this)||this;return td.flatMidpoint_=null,td.flatMidpointRevision_=-1,td.maxDelta_=-1,td.maxDeltaRevision_=-1,void 0===tf||Array.isArray(tp[0])?td.setCoordinates(tp,tf):td.setFlatCoordinates(tf,tp),td}return rh(tp,tc),tp.prototype.appendCoordinate=function(tc){this.flatCoordinates?Rn.extend(this.flatCoordinates,tc):this.flatCoordinates=tc.slice(),this.changed()},tp.prototype.clone=function(){var tc=new tp(this.flatCoordinates.slice(),this.layout);return tc.applyProperties(this),tc},tp.prototype.closestPointXY=function(tc,tp,tf,td){return td<C.closestSquaredDistanceXY(this.getExtent(),tc,tp)?td:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt($n(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ei(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,tc,tp,tf,td))},tp.prototype.forEachSegment=function(tc){return wi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,tc)},tp.prototype.getCoordinateAtM=function(tc,tp){return this.layout!=kn.XYM&&this.layout!=kn.XYZM?null:ih(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,tc,void 0!==tp&&tp)},tp.prototype.getCoordinates=function(){return hi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},tp.prototype.getCoordinateAt=function(tc,tp){return nh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,tc,tp,this.stride)},tp.prototype.getLength=function(){return Dl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},tp.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},tp.prototype.getSimplifiedGeometryInternal=function(tc){var tf=[];return tf.length=oi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,tc,tf,0),new tp(tf,kn.XY)},tp.prototype.getType=function(){return Ee.LINE_STRING},tp.prototype.intersectsExtent=function(tc){return Oi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,tc)},tp.prototype.setCoordinates=function(tc,tp){this.setLayout(tp,tc,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ii(this.flatCoordinates,0,tc,this.stride),this.changed()},tp}(Un.default),ah={};e(ah,"default",()=>lh,tc=>lh=tc),C=a("9pD6L"),Rn=a("fVVyM");var sh=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),lh=function(tc){function tp(tp,tf,td){var tg=tc.call(this)||this;if(tg.ends_=[],tg.maxDelta_=-1,tg.maxDeltaRevision_=-1,Array.isArray(tp[0]))tg.setCoordinates(tp,tf);else if(void 0!==tf&&td)tg.setFlatCoordinates(tf,tp),tg.ends_=td;else{for(var t8=tg.getLayout(),ty=tp,tv=[],tm=[],t$=0,tx=ty.length;t$<tx;++t$){var tC=ty[t$];0===t$&&(t8=tC.getLayout()),Rn.extend(tv,tC.getFlatCoordinates()),tm.push(tv.length)}tg.setFlatCoordinates(t8,tv),tg.ends_=tm}return tg}return sh(tp,tc),tp.prototype.appendLineString=function(tc){this.flatCoordinates?Rn.extend(this.flatCoordinates,tc.getFlatCoordinates().slice()):this.flatCoordinates=tc.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},tp.prototype.clone=function(){var tc=new tp(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return tc.applyProperties(this),tc},tp.prototype.closestPointXY=function(tc,tp,tf,td){return td<C.closestSquaredDistanceXY(this.getExtent(),tc,tp)?td:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ti(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ni(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,tc,tp,tf,td))},tp.prototype.getCoordinateAtM=function(tc,tp,tf){return this.layout!=kn.XYM&&this.layout!=kn.XYZM||0===this.flatCoordinates.length?null:function(tc,tp,tf,td,tg,t8,ty){if(ty)return ih(tc,tp,tf[tf.length-1],td,tg,t8);if(tg<tc[td-1])return t8?((tv=tc.slice(0,td))[td-1]=tg,tv):null;if(tc[tc.length-1]<tg)return t8?((tv=tc.slice(tc.length-td))[td-1]=tg,tv):null;for(var tv,tm=0,t$=tf.length;tm<t$;++tm){var tx=tf[tm];if(tp!=tx){if(tg<tc[tp+td-1])return null;if(tg<=tc[tx-1])return ih(tc,tp,tx,td,tg,!1);tp=tx}}return null}(this.flatCoordinates,0,this.ends_,this.stride,tc,void 0!==tp&&tp,void 0!==tf&&tf)},tp.prototype.getCoordinates=function(){return ci(this.flatCoordinates,0,this.ends_,this.stride)},tp.prototype.getEnds=function(){return this.ends_},tp.prototype.getLineString=function(tc){return tc<0||this.ends_.length<=tc?null:new eh.default(this.flatCoordinates.slice(0===tc?0:this.ends_[tc-1],this.ends_[tc]),this.layout)},tp.prototype.getLineStrings=function(){for(var tc=this.flatCoordinates,tp=this.ends_,tf=this.layout,td=[],tg=0,t8=0,ty=tp.length;t8<ty;++t8){var tv=tp[t8],tm=new eh.default(tc.slice(tg,tv),tf);td.push(tm),tg=tv}return td},tp.prototype.getFlatMidpoints=function(){for(var tc=[],tp=this.flatCoordinates,tf=0,td=this.ends_,tg=this.stride,t8=0,ty=td.length;t8<ty;++t8){var tv=td[t8],tm=nh(tp,tf,tv,tg,.5);Rn.extend(tc,tm),tf=tv}return tc},tp.prototype.getSimplifiedGeometryInternal=function(tc){var tf=[],td=[];return tf.length=ai(this.flatCoordinates,0,this.ends_,this.stride,tc,tf,0,td),new tp(tf,kn.XY,td)},tp.prototype.getType=function(){return Ee.MULTI_LINE_STRING},tp.prototype.intersectsExtent=function(tc){return function(tc,tp,tf,td,tg){for(var t8=0,ty=tf.length;t8<ty;++t8){if(Oi(tc,tp,tf[t8],td,tg))return!0;tp=tf[t8]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,tc)},tp.prototype.setCoordinates=function(tc,tp){this.setLayout(tp,tc,2),this.flatCoordinates||(this.flatCoordinates=[]);var tf=ri(this.flatCoordinates,0,tc,this.stride,this.ends_);this.flatCoordinates.length=0===tf.length?0:tf[tf.length-1],this.changed()},tp}(Un.default),uh={};e(uh,"default",()=>ch,tc=>ch=tc),C=a("9pD6L"),Rn=a("fVVyM"),E=a("9byFX");var hh=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),ch=function(tc){function tp(tp,tf){var td=tc.call(this)||this;return tf&&!Array.isArray(tp[0])?td.setFlatCoordinates(tf,tp):td.setCoordinates(tp,tf),td}return hh(tp,tc),tp.prototype.appendPoint=function(tc){this.flatCoordinates?Rn.extend(this.flatCoordinates,tc.getFlatCoordinates()):this.flatCoordinates=tc.getFlatCoordinates().slice(),this.changed()},tp.prototype.clone=function(){var tc=new tp(this.flatCoordinates.slice(),this.layout);return tc.applyProperties(this),tc},tp.prototype.closestPointXY=function(tc,tp,tf,td){if(td<C.closestSquaredDistanceXY(this.getExtent(),tc,tp))return td;for(var tg=this.flatCoordinates,t8=this.stride,ty=0,tv=tg.length;ty<tv;ty+=t8){var tm=E.squaredDistance(tc,tp,tg[ty],tg[ty+1]);if(tm<td){td=tm;for(var t$=0;t$<t8;++t$)tf[t$]=tg[ty+t$];tf.length=t8}}return td},tp.prototype.getCoordinates=function(){return hi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},tp.prototype.getPoint=function(tc){var tp=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return tc<0||tp<=tc?null:new yi.default(this.flatCoordinates.slice(tc*this.stride,(tc+1)*this.stride),this.layout)},tp.prototype.getPoints=function(){for(var tc=this.flatCoordinates,tp=this.layout,tf=this.stride,td=[],tg=0,t8=tc.length;tg<t8;tg+=tf){var ty=new yi.default(tc.slice(tg,tg+tf),tp);td.push(ty)}return td},tp.prototype.getType=function(){return Ee.MULTI_POINT},tp.prototype.intersectsExtent=function(tc){for(var tp=this.flatCoordinates,tf=this.stride,td=0,tg=tp.length;td<tg;td+=tf){var t8=tp[td],ty=tp[td+1];if(C.containsXY(tc,t8,ty))return!0}return!1},tp.prototype.setCoordinates=function(tc,tp){this.setLayout(tp,tc,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ii(this.flatCoordinates,0,tc,this.stride),this.changed()},tp}(Un.default),ph={};e(ph,"default",()=>dh,tc=>dh=tc),C=a("9pD6L"),Rn=a("fVVyM"),C=a("9pD6L");var fh=function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}(),dh=function(tc){function tp(tp,tf,td){var tg=tc.call(this)||this;if(tg.endss_=[],tg.flatInteriorPointsRevision_=-1,tg.flatInteriorPoints_=null,tg.maxDelta_=-1,tg.maxDeltaRevision_=-1,tg.orientedRevision_=-1,tg.orientedFlatCoordinates_=null,!td&&!Array.isArray(tp[0])){for(var t8=tg.getLayout(),ty=tp,tv=[],tm=[],t$=0,tx=ty.length;t$<tx;++t$){var tC=ty[t$];0===t$&&(t8=tC.getLayout());for(var tE=tv.length,t_=tC.getEnds(),tS=0,tw=t_.length;tS<tw;++tS)t_[tS]+=tE;Rn.extend(tv,tC.getFlatCoordinates()),tm.push(t_)}tf=t8,tp=tv,td=tm}return void 0!==tf&&td?(tg.setFlatCoordinates(tf,tp),tg.endss_=td):tg.setCoordinates(tp,tf),tg}return fh(tp,tc),tp.prototype.appendPolygon=function(tc){var tp;if(this.flatCoordinates){var tf=this.flatCoordinates.length;Rn.extend(this.flatCoordinates,tc.getFlatCoordinates());for(var td=0,tg=(tp=tc.getEnds().slice()).length;td<tg;++td)tp[td]+=tf}else this.flatCoordinates=tc.getFlatCoordinates().slice(),tp=tc.getEnds().slice(),this.endss_.push();this.endss_.push(tp),this.changed()},tp.prototype.clone=function(){for(var tc=this.endss_.length,tf=Array(tc),td=0;td<tc;++td)tf[td]=this.endss_[td].slice();var tg=new tp(this.flatCoordinates.slice(),this.layout,tf);return tg.applyProperties(this),tg},tp.prototype.closestPointXY=function(tc,tp,tf,td){return td<C.closestSquaredDistanceXY(this.getExtent(),tc,tp)?td:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(tc,tp,tf,td,tg){for(var t8=0,ty=tf.length;t8<ty;++t8){var tv=tf[t8];tg=ti(tc,tp,tv,td,tg),tp=tv[tv.length-1]}return tg}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(tc,tp,tf,td,tg,t8,ty,tv,tm,t$,tx){for(var tC=[NaN,NaN],tE=0,t_=tf.length;tE<t_;++tE){var tS=tf[tE];t$=ni(tc,tp,tS,td,tg,t8,ty,tv,tm,t$,tC),tp=tS[tS.length-1]}return t$}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,tc,tp,tf,td))},tp.prototype.containsXY=function(tc,tp){return function(tc,tp,tf,td,tg,t8){if(0===tf.length)return!1;for(var ty=0,tv=tf.length;ty<tv;++ty){var tm=tf[ty];if(Ei(tc,tp,tm,td,tg,t8))return!0;tp=tm[tm.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,tc,tp)},tp.prototype.getArea=function(){return function(tc,tp,tf,td){for(var tg=0,t8=0,ty=tf.length;t8<ty;++t8){var tv=tf[t8];tg+=di(tc,tp,tv,td),tp=tv[tv.length-1]}return tg}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},tp.prototype.getCoordinates=function(tc){var tp;return void 0!==tc?Li(tp=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,tc):tp=this.flatCoordinates,pi(tp,0,this.endss_,this.stride)},tp.prototype.getEndss=function(){return this.endss_},tp.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var tc=function(tc,tp,tf,td){for(var tg=[],t8=C.createEmpty(),ty=0,tv=tf.length;ty<tv;++ty){var tm=tf[ty];t8=C.createOrUpdateFromFlatCoordinates(tc,tp,tm[0],td),tg.push((t8[0]+t8[2])/2,(t8[1]+t8[3])/2),tp=tm[tm.length-1]}return tg}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(tc,tp,tf,td,tg){for(var t8=[],ty=0,tv=tf.length;ty<tv;++ty){var tm=tf[ty];t8=Si(tc,tp,tm,td,tg,2*ty,t8),tp=tm[tm.length-1]}return t8}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,tc),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},tp.prototype.getInteriorPoints=function(){return new uh.default(this.getFlatInteriorPoints().slice(),kn.XYM)},tp.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var tc=this.flatCoordinates;(function(tc,tp,tf,td,tg){for(var t8=0,ty=tf.length;t8<ty;++t8){var tv=tf[t8];if(!Ii(tc,tp,tv,td,void 0))return!1;tv.length&&(tp=tv[tv.length-1])}return!0})(tc,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=tc:(this.orientedFlatCoordinates_=tc.slice(),this.orientedFlatCoordinates_.length=Li(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},tp.prototype.getSimplifiedGeometryInternal=function(tc){var tf=[],td=[];return tf.length=function(tc,tp,tf,td,tg,t8,ty,tv){for(var tm=0,t$=tf.length;tm<t$;++tm){var tx=tf[tm],tC=[];ty=ui(tc,tp,tx,td,tg,t8,ty,tC),tv.push(tC),tp=tx[tx.length-1]}return ty}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(tc),tf,0,td),new tp(tf,kn.XY,td)},tp.prototype.getPolygon=function(tc){if(tc<0||this.endss_.length<=tc)return null;if(0===tc)tp=0;else{var tp,tf=this.endss_[tc-1];tp=tf[tf.length-1]}var td=this.endss_[tc].slice(),tg=td[td.length-1];if(0!==tp)for(var t8=0,ty=td.length;t8<ty;++t8)td[t8]-=tp;return new Gn.default(this.flatCoordinates.slice(tp,tg),this.layout,td)},tp.prototype.getPolygons=function(){for(var tc=this.layout,tp=this.flatCoordinates,tf=this.endss_,td=[],tg=0,t8=0,ty=tf.length;t8<ty;++t8){var tv=tf[t8].slice(),tm=tv[tv.length-1];if(0!==tg)for(var t$=0,tx=tv.length;t$<tx;++t$)tv[t$]-=tg;var tC=new Gn.default(tp.slice(tg,tm),tc,tv);td.push(tC),tg=tm}return td},tp.prototype.getType=function(){return Ee.MULTI_POLYGON},tp.prototype.intersectsExtent=function(tc){return function(tc,tp,tf,td,tg){for(var t8=0,ty=tf.length;t8<ty;++t8){var tv=tf[t8];if(Ti(tc,tp,tv,td,tg))return!0;tp=tv[tv.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,tc)},tp.prototype.setCoordinates=function(tc,tp){this.setLayout(tp,tc,3),this.flatCoordinates||(this.flatCoordinates=[]);var tf=function(tc,tp,tf,td,tg){for(var t8=tg||[],ty=0,tv=0,tm=tf.length;tv<tm;++tv){var t$=ri(tc,tp,tf[tv],td,t8[ty]);t8[ty++]=t$,tp=t$[t$.length-1]}return t8.length=ty,t8}(this.flatCoordinates,0,tc,this.stride,this.endss_);if(0===tf.length)this.flatCoordinates.length=0;else{var td=tf[tf.length-1];this.flatCoordinates.length=0===td.length?0:td[td.length-1]}this.changed()},tp}(Un.default),gh=(g=a("4Cz58"),B=a("gn0g3"),function(){var tc=function(tp,tf){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(tc,tp){tc.__proto__=tp}||function(tc,tp){for(var tf in tp)Object.prototype.hasOwnProperty.call(tp,tf)&&(tc[tf]=tp[tf])})(tp,tf)};return function(tp,tf){if("function"!=typeof tf&&null!==tf)throw TypeError("Class extends value "+String(tf)+" is not a constructor or null");function td(){this.constructor=tp}tc(tp,tf),tp.prototype=null===tf?Object.create(tf):(td.prototype=tf.prototype,new td)}}());function _h(tc,tp){var tf,td,tg,t8,ty,tv,tm,t$,tx;if(!tc)return null;switch(tc.type){case Ee.POINT:tf=(td=tc,new yi.default(td.coordinates));break;case Ee.LINE_STRING:tf=(tg=tc,new eh.default(tg.coordinates));break;case Ee.POLYGON:tf=(t8=tc,new Gn.default(t8.coordinates));break;case Ee.MULTI_POINT:tf=(ty=tc,new uh.default(ty.coordinates));break;case Ee.MULTI_LINE_STRING:tf=(tv=tc,new ah.default(tv.coordinates));break;case Ee.MULTI_POLYGON:tf=(tm=tc,new ph.default(tm.coordinates));break;case Ee.GEOMETRY_COLLECTION:tf=(tx=(t$=tc).geometries.map(function(tc){return _h(tc,void 0)}),new Wu.default(tx));break;default:throw Error("Unsupported GeoJSON type: "+tc.type)}return Ju(tf,!1,tp)}function yh(tc,tp){var tf,td,tg,t8,ty,tv,tm,t$,tx,tC,tE,t_,tS,tw=(tc=Ju(tc,!0,tp)).getType();switch(tw){case Ee.POINT:tS={type:"Point",coordinates:(tf=tc).getCoordinates()};break;case Ee.LINE_STRING:tS={type:"LineString",coordinates:(td=tc).getCoordinates()};break;case Ee.POLYGON:tS=(tg=tc,(t8=tp)&&(ty=t8.rightHanded),{type:"Polygon",coordinates:tg.getCoordinates(ty)});break;case Ee.MULTI_POINT:tS={type:"MultiPoint",coordinates:(tv=tc).getCoordinates()};break;case Ee.MULTI_LINE_STRING:tS={type:"MultiLineString",coordinates:(tm=tc).getCoordinates()};break;case Ee.MULTI_POLYGON:tS=(t$=tc,(tx=tp)&&(tC=tx.rightHanded),{type:"MultiPolygon",coordinates:t$.getCoordinates(tC)});break;case Ee.GEOMETRY_COLLECTION:tS=(tE=tc,t_=tp,{type:"GeometryCollection",geometries:tE.getGeometriesArray().map(function(tc){var tp=B.assign({},t_);return delete tp.featureProjection,yh(tc,tp)})});break;case Ee.CIRCLE:tS={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+tw)}return tS}var vh=function(tc){function tp(tp){var tf=this,td=tp||{};return(tf=tc.call(this)||this).dataProjection=sn(td.dataProjection?td.dataProjection:"EPSG:4326"),td.featureProjection&&(tf.defaultFeatureProjection=sn(td.featureProjection)),tf.geometryName_=td.geometryName,tf.extractGeometryName_=td.extractGeometryName,tf.supportedMediaTypes=["application/geo+json","application/vnd.geo+json",],tf}return gh(tp,tc),tp.prototype.readFeatureFromObject=function(tc,tp){var tf=null,td=_h((tf="Feature"===tc.type?tc:{type:"Feature",geometry:tc,properties:null}).geometry,tp),tg=new Uu.default;return this.geometryName_?tg.setGeometryName(this.geometryName_):this.extractGeometryName_&&tg.setGeometryName(tf.geometry_name),tg.setGeometry(td),"id"in tf&&tg.setId(tf.id),tf.properties&&tg.setProperties(tf.properties,!0),tg},tp.prototype.readFeaturesFromObject=function(tc,tp){var tf=null;if("FeatureCollection"===tc.type){tf=[];for(var td=tc.features,tg=0,t8=td.length;tg<t8;++tg)tf.push(this.readFeatureFromObject(td[tg],tp))}else tf=[this.readFeatureFromObject(tc,tp)];return tf},tp.prototype.readGeometryFromObject=function(tc,tp){return _h(tc,tp)},tp.prototype.readProjectionFromObject=function(tc){var tp,tf=tc.crs;return tf?"name"==tf.type?tp=sn(tf.properties.name):"EPSG"===tf.type?tp=sn("EPSG:"+tf.properties.code):g.assert(!1,36):tp=this.dataProjection,tp},tp.prototype.writeFeatureObject=function(tc,tp){tp=this.adaptOptions(tp);var tf={type:"Feature",geometry:null,properties:null},td=tc.getId();if(void 0!==td&&(tf.id=td),!tc.hasProperties())return tf;var tg=tc.getProperties(),t8=tc.getGeometry();return t8&&(tf.geometry=yh(t8,tp),delete tg[tc.getGeometryName()]),B.isEmpty(tg)||(tf.properties=tg),tf},tp.prototype.writeFeaturesObject=function(tc,tp){tp=this.adaptOptions(tp);for(var tf=[],td=0,tg=tc.length;td<tg;++td)tf.push(this.writeFeatureObject(tc[td],tp));return{type:"FeatureCollection",features:tf}},tp.prototype.writeGeometryObject=function(tc,tp){return yh(tc,this.adaptOptions(tp))},tp}(Hu.default),mh=new Kt.default({title:"Base maps",layers:[new Zo.default({title:"Satellite",type:"base",visible:!0,source:new La.default({attributions:["Powered by Esri","Source: Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",],attributionsCollapsible:!1,url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",maxZoom:23})}),new Zo.default({title:"OSM",type:"base",visible:!0,source:new Pa.default}),]}),xh=new wo.default({title:"Depth",source:new vs.default({url:"http://localhost:8084/geoserver/wms",params:{LAYERS:"Dem:Depth"},ratio:1,serverType:"geoserver"})}),Ch=new Kt.default({title:"Overlays",layers:[]});Ch.getLayers().push(xh);var Eh=new Ce.default({center:[0,0],zoom:2}),Sh=new s.default({target:"map",view:Eh,layers:[]});Sh.addLayer(mh),Sh.addLayer(Ch);var wh=new(n(Ns))({activationMode:"click",startActive:!0,tipLabel:"Layers",groupSelectStyle:"children",collapseTipLabel:"Collapse layers"});Sh.addControl(wh),wh.renderPanel();var Oh=new Gs.default({title:"Rusle",source:new wu.default({url:"http://localhost:8443/geoserver/Peace_proj/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=Peace_proj%3Arusle_data&maxFeatures=1000000&outputFormat=application%2Fjson",format:new zu.default})});Ch.getLayers().push(Oh),wh.renderPanel();